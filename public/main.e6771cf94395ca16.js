"use strict";(self.webpackChunkSISMEALS_RECIPES=self.webpackChunkSISMEALS_RECIPES||[]).push([[179],{2011:(lt,Ce,O)=>{O.d(Ce,{hO:()=>ze,xv:()=>ue,Dh:()=>he,GT:()=>ge,cc:()=>Se,on:()=>G,pX:()=>X});var c=O(5e3),Y=O(127),P=O(5813);lt=O.hmd(lt);const ae=["ngOnDestroy"],X=(Ee,tt,Ze,Ie={})=>new Proxy(Ee,{get:(be,we)=>Ze.runOutsideAngular(()=>{var $e;if(Ee[we])return(null===($e=null==Ie?void 0:Ie.spy)||void 0===$e?void 0:$e.get)&&Ie.spy.get(we,Ee[we]),Ee[we];if(ae.indexOf(we)>-1)return()=>{};const Ge=tt.toPromise().then(te=>{const K=te&&te[we];return"function"==typeof K?K.bind(te):K&&K.then?K.then(se=>Ze.run(()=>se)):Ze.run(()=>K)});return new Proxy(()=>{},{get:(te,K)=>Ge[K],apply:(te,K,se)=>Ge.then(me=>{var oe;const xe=me&&me(...se);return(null===(oe=null==Ie?void 0:Ie.spy)||void 0===oe?void 0:oe.apply)&&Ie.spy.apply(we,se,xe),xe})})})}),ge=(Ee,tt)=>{tt.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ie=>{Object.defineProperty(Ee.prototype,Ie,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ie))})})};class ie{constructor(tt){return tt}}const he=new c.OlP("angularfire2.app.options"),ue=new c.OlP("angularfire2.app.name");function G(Ee,tt,Ze){const be="object"==typeof Ze&&Ze||{};be.name=be.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const $e=Y.Z.apps.filter(Ge=>Ge&&Ge.name===be.name)[0]||tt.runOutsideAngular(()=>Y.Z.initializeApp(Ee,be));try{JSON.stringify(Ee)!==JSON.stringify($e.options)&&H("error",`${$e.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new ie($e)}const H=(Ee,...tt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ee](...tt)},Q={provide:ie,useFactory:G,deps:[he,c.R0b,[new c.FiY,ue]]};let ze=(()=>{class Ee{constructor(Ze){Y.Z.registerVersion("angularfire",P.q4.full,"core"),Y.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Ze.toString())}static initializeApp(Ze,Ie){return{ngModule:Ee,providers:[{provide:he,useValue:Ze},{provide:ue,useValue:Ie}]}}}return Ee.\u0275fac=function(Ze){return new(Ze||Ee)(c.LFG(c.Lbi))},Ee.\u0275mod=c.oAB({type:Ee}),Ee.\u0275inj=c.cJS({providers:[Q]}),Ee})();function Se(Ee,tt,Ze,Ie,be){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Ee)||[];if(we)return function Oe(Ee,tt){try{return Ee.toString()===tt.toString()}catch(Ze){return Ee===tt}}(be,$e)||(fe("error",`${tt} was already initialized on the ${Ze} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:be,was:$e})),we;{const Ge=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Ge,be]),Ge}}const Le=!!lt.hot,fe=(Ee,...tt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ee](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Ce,O)=>{O.d(Ce,{q4:()=>Cn,iC:()=>vo,HU:()=>El,vb:()=>mu,JM:()=>$s});var c=O(5e3),Y=O(5867),P=O(5861),ae=O(9681),X=O(2090),ge=O(4859),ie=O(1877);const he="@firebase/installations",H="w:0.5.7",Q="FIS_v2",Ee=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Ze({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:se(C.expiresIn),creationTime:Date.now()}}function be(C,I){return we.apply(this,arguments)}function we(){return(we=(0,P.Z)(function*(C,I){const L=(yield I.json()).error;return Ee.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function $e({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ge(C,{refreshToken:I}){const R=$e(C);return R.append("Authorization",function me(C){return`${Q} ${C}`}(I)),R}function te(C){return K.apply(this,arguments)}function K(){return(K=(0,P.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function se(C){return Number(C.replace("s","000"))}function oe(C,I){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Ze(C),q=$e(C),ee=I.getImmediate({optional:!0});if(ee){const wt=yield ee.getHeartbeatsHeader();wt&&q.append("x-firebase-client",wt)}const qe={method:"POST",headers:q,body:JSON.stringify({fid:R,authVersion:Q,appId:C.appId,sdkVersion:H})},Ye=yield te(()=>fetch(L,qe));if(Ye.ok){const wt=yield Ye.json();return{fid:wt.fid||R,registrationStatus:2,refreshToken:wt.refreshToken,authToken:Ie(wt.authToken)}}throw yield be("Create Installation",Ye)})).apply(this,arguments)}function le(C){return new Promise(I=>{setTimeout(I,C)})}const Xt=/^[cdef][\w-]{21}$/;function ut(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function yt(C){return function Ct(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(R)?R:""}catch(C){return""}}function fn(C){return`${C.appName}!${C.appId}`}const pn=new Map;function Ii(C,I){const R=fn(C);en(R,I),function Ht(C,I){const R=function oi(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=C=>{en(C.data.key,C.data.fid)}),sr}();R&&R.postMessage({key:C,fid:I}),function Is(){0===pn.size&&sr&&(sr.close(),sr=null)}()}(R,I)}function en(C,I){const R=pn.get(C);if(R)for(const L of R)L(I)}let sr=null;const Rr="firebase-installations-store";let ns=null;function rs(){return ns||(ns=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Rr)})),ns}function ht(C,I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(C,I){const R=fn(C),q=(yield rs()).transaction(Rr,"readwrite"),ee=q.objectStore(Rr),Me=yield ee.get(R);return yield ee.put(I,R),yield q.complete,(!Me||Me.fid!==I.fid)&&Ii(C,I.fid),I})).apply(this,arguments)}function tr(C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,P.Z)(function*(C){const I=fn(C),L=(yield rs()).transaction(Rr,"readwrite");yield L.objectStore(Rr).delete(I),yield L.complete})).apply(this,arguments)}function ai(C,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,P.Z)(function*(C,I){const R=fn(C),q=(yield rs()).transaction(Rr,"readwrite"),ee=q.objectStore(Rr),Me=yield ee.get(R),qe=I(Me);return void 0===qe?yield ee.delete(R):yield ee.put(qe,R),yield q.complete,qe&&(!Me||Me.fid!==qe.fid)&&Ii(C,qe.fid),qe})).apply(this,arguments)}function vn(C){return nr.apply(this,arguments)}function nr(){return(nr=(0,P.Z)(function*(C){let I;const R=yield ai(C.appConfig,L=>{const q=Ts(L),ee=wa(C,q);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Ts(C){return jt(C||{fid:ut(),registrationStatus:0})}function wa(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ee.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function $t(C,I){return st.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dt(C)}:{installationEntry:I}}function st(){return(st=(0,P.Z)(function*(C,I){try{const R=yield oe(C,I);return ht(C.appConfig,R)}catch(R){throw tt(R)&&409===R.customData.serverCode?yield tr(C.appConfig):yield ht(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Dt(C){return or.apply(this,arguments)}function or(){return(or=(0,P.Z)(function*(C){let I=yield ji(C.appConfig);for(;1===I.registrationStatus;)yield le(100),I=yield ji(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield vn(C);return L||R}return I})).apply(this,arguments)}function ji(C){return ai(C,I=>{if(!I)throw Ee.create("installation-not-found");return jt(I)})}function jt(C){return function to(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function mr(C,I){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=pt(C,R),q=Ge(C,R),ee=I.getImmediate({optional:!0});if(ee){const wt=yield ee.getHeartbeatsHeader();wt&&q.append("x-firebase-client",wt)}const qe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},Ye=yield te(()=>fetch(L,qe));if(Ye.ok)return Ie(yield Ye.json());throw yield be("Generate Auth Token",Ye)})).apply(this,arguments)}function pt(C,{fid:I}){return`${Ze(C)}/${I}/authTokens:generate`}function _r(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,P.Z)(function*(C,I=!1){let R;const L=yield ai(C.appConfig,ee=>{if(!Pt(ee))throw Ee.create("not-registered");const Me=ee.authToken;if(!I&&j(Me))return ee;if(1===Me.requestStatus)return R=Je(C,I),ee;{if(!navigator.onLine)throw Ee.create("app-offline");const qe=$(ee);return R=gt(C,qe),qe}});return R?yield R:L.authToken})).apply(this,arguments)}function Je(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(C,I){let R=yield et(C.appConfig);for(;1===R.authToken.requestStatus;)yield le(100),R=yield et(C.appConfig);const L=R.authToken;return 0===L.requestStatus?_r(C,I):L})).apply(this,arguments)}function et(C){return ai(C,I=>{if(!Pt(I))throw Ee.create("not-registered");return function ce(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function gt(C,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(C,I){try{const R=yield mr(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield ht(C.appConfig,L),R}catch(R){if(!tt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ht(C.appConfig,L)}else yield tr(C.appConfig);throw R}})).apply(this,arguments)}function Pt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function B(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function $(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Ue(){return(Ue=(0,P.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield vn(I);return L?L.catch(console.error):_r(I).catch(console.error),R.fid})).apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*(C,I=!1){const R=C;return yield yr(R),(yield _r(R,I)).token})).apply(this,arguments)}function yr(C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,P.Z)(function*(C){const{registrationPromise:I}=yield vn(C);I&&(yield I)})).apply(this,arguments)}function Zn(C){return Ee.create("missing-app-config-values",{valueName:C})}const Da="installations",Pe=C=>{const I=C.getProvider("app").getImmediate(),R=function is(C){if(!C||!C.options)throw Zn("App Configuration");if(!C.name)throw Zn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw Zn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ot=C=>{const I=C.getProvider("app").getImmediate(),R=(0,ae._getProvider)(I,Da).getImmediate();return{getId:()=>function J(C){return Ue.apply(this,arguments)}(R),getToken:q=>function vt(C){return Zt.apply(this,arguments)}(R,q)}};(function mn(){(0,ae._registerComponent)(new ge.wA(Da,Pe,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("installations-internal",Ot,"PRIVATE"))})(),(0,ae.registerVersion)(he,"0.5.7"),(0,ae.registerVersion)(he,"0.5.7","esm2017");const lr="@firebase/remote-config",xn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wd{constructor(I,R,L,q){this.client=I,this.storage=R,this.storageCache=L,this.logger=q}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,q=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var R=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(q&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return q;I.eTag=q&&q.eTag;const ee=yield R.client.fetch(I),Me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Me.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Me),ee})()}}function jo(C=navigator){return C.languages&&C.languages[0]||C.language}class il{constructor(I,R,L,q,ee,Me){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=q,this.apiKey=ee,this.appId=Me}fetch(I){var R=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ye={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:R.appId,language_code:jo()},wt={method:"POST",headers:qe,body:JSON.stringify(Ye)},Gt=fetch(Me,wt),It=new Promise((Hn,Ki)=>{I.signal.addEventListener(()=>{const Pi=new Error("The operation was aborted.");Pi.name="AbortError",Ki(Pi)})});let Gn;try{yield Promise.race([Gt,It]),Gn=yield Gt}catch(Hn){let Ki="fetch-client-network";throw"AbortError"===Hn.name&&(Ki="fetch-timeout"),xn.create(Ki,{originalErrorMessage:Hn.message})}let Ln=Gn.status;const fi=Gn.headers.get("ETag")||void 0;let Jn,qi;if(200===Gn.status){let Hn;try{Hn=yield Gn.json()}catch(Ki){throw xn.create("fetch-client-parse",{originalErrorMessage:Ki.message})}Jn=Hn.entries,qi=Hn.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?Ln=500:"NO_CHANGE"===qi?Ln=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(Jn={}),304!==Ln&&200!==Ln)throw xn.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:fi,config:Jn}})()}}class Zf{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,P.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var q=this;return(0,P.Z)(function*(){yield function Bn(C,I){return new Promise((R,L)=>{const q=Math.max(I-Date.now(),0),ee=setTimeout(R,q);C.addEventListener(()=>{clearTimeout(ee),L(xn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function pc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const Me={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Me),q.attemptFetch(I,Me)}})()}}class Gl{constructor(I,R,L,q,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hl(C,I){const R=C.target.error||void 0;return xn.create(I,{originalErrorMessage:R&&R.message})}const Rs="app_namespace_store";class Xf{constructor(I,R,L,q=function Qf(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(Hl(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Rs,{keyPath:"compositeKey"})}}catch(R){I(xn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,P.Z)(function*(){const L=yield R.openDbPromise;return new Promise((q,ee)=>{const qe=L.transaction([Rs],"readonly").objectStore(Rs),Ye=R.createCompositeKey(I);try{const wt=qe.get(Ye);wt.onerror=Gt=>{ee(Hl(Gt,"storage-get"))},wt.onsuccess=Gt=>{const It=Gt.target.result;q(It?It.value:void 0)}}catch(wt){ee(xn.create("storage-get",{originalErrorMessage:wt&&wt.message}))}})})()}set(I,R){var L=this;return(0,P.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ee,Me)=>{const Ye=q.transaction([Rs],"readwrite").objectStore(Rs),wt=L.createCompositeKey(I);try{const Gt=Ye.put({compositeKey:wt,value:R});Gt.onerror=It=>{Me(Hl(It,"storage-set"))},Gt.onsuccess=()=>{ee()}}catch(Gt){Me(xn.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(I){var R=this;return(0,P.Z)(function*(){const L=yield R.openDbPromise;return new Promise((q,ee)=>{const qe=L.transaction([Rs],"readwrite").objectStore(Rs),Ye=R.createCompositeKey(I);try{const wt=qe.delete(Ye);wt.onerror=Gt=>{ee(Hl(Gt,"storage-delete"))},wt.onsuccess=()=>{q()}}catch(wt){ee(xn.create("storage-delete",{originalErrorMessage:wt&&wt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class mc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const Me=yield L;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const qe=yield q;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function so(){return zd.apply(this,arguments)}function zd(){return(zd=(0,P.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Go(){(0,ae._registerComponent)(new ge.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xn.create("registration-window");if(!(0,X.hl)())throw xn.create("indexed-db-unavailable");const{projectId:ee,apiKey:Me,appId:qe}=L.options;if(!ee)throw xn.create("registration-project-id");if(!Me)throw xn.create("registration-api-key");if(!qe)throw xn.create("registration-app-id");const Ye=new Xf(qe,L.name,R=R||"firebase"),wt=new mc(Ye),Gt=new ie.Yd(lr);Gt.logLevel=ie.in.ERROR;const It=new il(q,ae.SDK_VERSION,R,ee,Me,qe),Gn=new Zf(It,Ye),Ln=new Wd(Gn,Ye,wt,Gt),fi=new Gl(L,Ln,wt,Ye,Gt);return function vr(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(fi),fi},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(lr,"0.3.6"),(0,ae.registerVersion)(lr,"0.3.6","esm2017")}();const $l="/firebase-messaging-sw.js",xs="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oo="google.c.a.c_id",Ta="google.c.a.c_l",_c="google.c.a.ts",ep="google.c.a.e";var Os=(()=>{return(C=Os||(Os={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Os;var C})();function ci(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sl(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),q=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)q[ee]=L.charCodeAt(ee);return q}const ol="fcm_token_details_db",ur="fcm_token_object_Store";function qd(C){return al.apply(this,arguments)}function al(){return al=(0,P.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(ol))return null;let I=null;return(yield(0,X.X3)(ol,5,function(){var L=(0,P.Z)(function*(q,ee,Me,qe){var Ye;if(ee<2||!q.objectStoreNames.contains(ur))return;const wt=qe.objectStore(ur),Gt=yield wt.index("fcmSenderId").get(C);if(yield wt.clear(),Gt)if(2===ee){const It=Gt;if(!It.auth||!It.p256dh||!It.endpoint)return;I={token:It.fcmToken,createTime:null!==(Ye=It.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:ci(It.vapidKey)}}}else if(3===ee){const It=Gt;I={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:ci(It.auth),p256dh:ci(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:ci(It.vapidKey)}}}else if(4===ee){const It=Gt;I={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:ci(It.auth),p256dh:ci(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:ci(It.vapidKey)}}}});return function(q,ee,Me,qe){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(ol),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),yc(I)?I:null}),al.apply(this,arguments)}function yc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ls="firebase-messaging-store";let Sa=null;function Wl(){return Sa||(Sa=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(ls)})),Sa}function _n(C){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(C){const I=lo(C),L=yield(yield Wl()).transaction(ls).objectStore(ls).get(I);if(L)return L;{const q=yield qd(C.appConfig.senderId);if(q)return yield Ps(C,q),q}})).apply(this,arguments)}function Ps(C,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,P.Z)(function*(C,I){const R=lo(C),q=(yield Wl()).transaction(ls,"readwrite");return yield q.objectStore(ls).put(I,R),yield q.complete,I})).apply(this,arguments)}function vc(C){return ao.apply(this,arguments)}function ao(){return(ao=(0,P.Z)(function*(C){const I=lo(C),L=(yield Wl()).transaction(ls,"readwrite");yield L.objectStore(ls).delete(I),yield L.complete})).apply(this,arguments)}function lo({appConfig:C}){return C.appId}const Pn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Aa(C,I){return Si.apply(this,arguments)}function Si(){return(Si=(0,P.Z)(function*(C,I){const R=yield Fs(C),L=mt(I),q={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(zr(C.appConfig),q)).json()}catch(Me){throw Pn.create("token-subscribe-failed",{errorInfo:Me})}if(ee.error)throw Pn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function wr(C,I){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(C,I){const R=yield Fs(C),L=mt(I.subscriptionOptions),q={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${zr(C.appConfig)}/${I.token}`,q)).json()}catch(Me){throw Pn.create("token-update-failed",{errorInfo:Me})}if(ee.error)throw Pn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function us(C,I){return cl.apply(this,arguments)}function cl(){return(cl=(0,P.Z)(function*(C,I){const L={method:"DELETE",headers:yield Fs(C)};try{const ee=yield(yield fetch(`${zr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(q){throw Pn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function zr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fs(C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,P.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function mt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const q={web:{endpoint:R,auth:I,p256dh:C}};return L!==Wr&&(q.web.applicationPubKey=L),q}const dl=6048e5;function Na(C){return hl.apply(this,arguments)}function hl(){return(hl=(0,P.Z)(function*(C){const I=yield Kl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ci(I.getKey("auth")),p256dh:ci(I.getKey("p256dh"))},L=yield _n(C.firebaseDependencies);if(L){if(Wo(L.subscriptionOptions,R))return Date.now()>=L.createTime+dl?zl(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield us(C.firebaseDependencies,L.token)}catch(q){console.warn(q)}return De(C.firebaseDependencies,R)}return De(C.firebaseDependencies,R)})).apply(this,arguments)}function fl(C){return pl.apply(this,arguments)}function pl(){return(pl=(0,P.Z)(function*(C){const I=yield _n(C.firebaseDependencies);I&&(yield us(C.firebaseDependencies,I.token),yield vc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function zl(C,I){return ql.apply(this,arguments)}function ql(){return(ql=(0,P.Z)(function*(C,I){try{const R=yield wr(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Ps(C.firebaseDependencies,L),R}catch(R){throw yield fl(C),R}})).apply(this,arguments)}function De(C,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,P.Z)(function*(C,I){const L={token:yield Aa(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Ps(C,L),L.token})).apply(this,arguments)}function Kl(C,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sl(I)})})).apply(this,arguments)}function Wo(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function zo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function qr(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const q=I.notification.image;q&&(C.notification.image=q)}(I,C),function Zl(C,I){!I.data||(C.data=I.data)}(I,C),function Yl(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function bc(C){return"object"==typeof C&&!!C&&oo in C}function Jl(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Vs(C){return Pn.create("missing-app-config-values",{valueName:C})}Jl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cr{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function gl(C){if(!C||!C.options)throw Vs("App Configuration Object");if(!C.name)throw Vs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw Vs(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function di(C){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register($l,{scope:xs}),C.swRegistration.update().catch(()=>{})}catch(I){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Bs(C,I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,P.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield di(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Ql(C,I){return _l.apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Wr)})).apply(this,arguments)}function Xl(){return(Xl=(0,P.Z)(function*(C,I){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield Ql(C,null==I?void 0:I.vapidKey),yield Bs(C,null==I?void 0:I.serviceWorkerRegistration),Na(C)})).apply(this,arguments)}function Ma(C,I,R){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,P.Z)(function*(C,I,R){const L=eu(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[oo],message_name:R[Ta],message_time:R[_c],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eu(C){switch(C){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wc(){return(wc=(0,P.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Os.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(zo(R)):C.onMessageHandler.next(zo(R)));const L=R.data;bc(L)&&"1"===L[ep]&&(yield Ma(C,R.messageType,L))})).apply(this,arguments)}const nu="@firebase/messaging",Ec=C=>{const I=new cr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function tu(C,I){return wc.apply(this,arguments)}(I,R)),I},co=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function yl(C,I){return Xl.apply(this,arguments)}(I,L)}};function Cc(){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dc(){(0,ae._registerComponent)(new ge.wA("messaging",Ec,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("messaging-internal",co,"PRIVATE")),(0,ae.registerVersion)(nu,"0.9.11"),(0,ae.registerVersion)(nu,"0.9.11","esm2017")}();const iu="analytics",lm="firebase_id",xa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vl="https://www.googletagmanager.com/gtag/js",Un=new ie.Yd("@firebase/analytics");function Ic(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function tp(C,I){const R=document.createElement("script");R.src=`${vl}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function qo(C,I,R,L,q,ee){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,P.Z)(function*(C,I,R,L,q,ee){const Me=L[q];try{if(Me)yield I[Me];else{const Ye=(yield Ic(R)).find(wt=>wt.measurementId===q);Ye&&(yield I[Ye.appId])}}catch(qe){Un.error(qe)}C("config",q,ee)})).apply(this,arguments)}function ou(C,I,R,L,q){return fo.apply(this,arguments)}function fo(){return(fo=(0,P.Z)(function*(C,I,R,L,q){try{let ee=[];if(q&&q.send_to){let Me=q.send_to;Array.isArray(Me)||(Me=[Me]);const qe=yield Ic(R);for(const Ye of Me){const wt=qe.find(It=>It.measurementId===Ye),Gt=wt&&I[wt.appId];if(!Gt){ee=[];break}ee.push(Gt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,q||{})}catch(ee){Un.error(ee)}})).apply(this,arguments)}function np(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(vl))return I;return null}const dr=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kn=new class ft{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function En(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ni(C){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,P.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,q={method:"GET",headers:En(L)},ee=xa.replace("{app-id}",R),Me=yield fetch(ee,q);if(200!==Me.status&&304!==Me.status){let qe="";try{const Ye=yield Me.json();(null===(I=Ye.error)||void 0===I?void 0:I.message)&&(qe=Ye.error.message)}catch(Ye){}throw dr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:qe})}return Me.json()})).apply(this,arguments)}function hr(C){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(C,I=kn,R){const{appId:L,apiKey:q,measurementId:ee}=C.options;if(!L)throw dr.create("no-app-id");if(!q){if(ee)return{measurementId:ee,appId:L};throw dr.create("no-api-key")}const Me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Mi;return setTimeout((0,P.Z)(function*(){qe.abort()}),void 0!==R?R:6e4),Fn({appId:L,apiKey:q,measurementId:ee},Me,qe,I)})).apply(this,arguments)}function Fn(C,I,R){return ot.apply(this,arguments)}function ot(){return(ot=(0,P.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,q=kn){const{appId:ee,measurementId:Me}=C;try{yield Yd(L,I)}catch(qe){if(Me)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:ee,measurementId:Me};throw qe}try{const qe=yield Ni(C);return q.deleteThrottleMetadata(ee),qe}catch(qe){if(!au(qe)){if(q.deleteThrottleMetadata(ee),Me)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:ee,measurementId:Me};throw qe}const Ye=503===Number(qe.customData.httpStatus)?(0,X.$s)(R,q.intervalMillis,30):(0,X.$s)(R,q.intervalMillis),wt={throttleEndTimeMillis:Date.now()+Ye,backoffCount:R+1};return q.setThrottleMetadata(ee,wt),Un.debug(`Calling attemptFetch again in ${Ye} millis`),Fn(C,wt,L,q)}})).apply(this,arguments)}function Yd(C,I){return new Promise((R,L)=>{const q=Math.max(I-Date.now(),0),ee=setTimeout(R,q);C.addEventListener(()=>{clearTimeout(ee),L(dr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function au(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Mi{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Jd(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(){if(!(0,X.hl)())return Un.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return Un.warn(dr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function hs(){return(hs=(0,P.Z)(function*(C,I,R,L,q,ee,Me){var qe;const Ye=hr(C);Ye.then(Ln=>{R[Ln.measurementId]=Ln.appId,C.options.measurementId&&Ln.measurementId!==C.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ln=>Un.error(Ln)),I.push(Ye);const wt=Jd().then(Ln=>{if(Ln)return L.getId()}),[Gt,It]=yield Promise.all([Ye,wt]);np()||tp(ee,Gt.measurementId),q("js",new Date);const Gn=null!==(qe=null==Me?void 0:Me.config)&&void 0!==qe?qe:{};return Gn.origin="firebase",Gn.update=!0,null!=It&&(Gn[lm]=It),q("config",Gt.measurementId,Gn),Gt.measurementId})).apply(this,arguments)}class po{constructor(I){this.app=I}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},Or=[];const Ac={};let Yo,Gs,go="dataLayer",bl=!1;function sn(C,I,R){!function mo(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,q)=>`(${q+1}) ${L}`).join(" "),R=dr.create("invalid-analytics-context",{errorInfo:I});Un.warn(R.message)}}();const L=C.options.appId;if(!L)throw dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw dr.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[L])throw dr.create("already-exists",{id:L});if(!bl){!function ds(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(go);const{wrappedGtag:ee,gtagCore:Me}=function Zd(C,I,R,L,q){let ee=function(...Me){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ee=window[q]),window[q]=function Sc(C,I,R,L){function ee(){return(ee=(0,P.Z)(function*(Me,qe,Ye){try{"event"===Me?yield ou(C,I,R,qe,Ye):"config"===Me?yield qo(C,I,R,L,qe,Ye):C("set",qe)}catch(wt){Un.error(wt)}})).apply(this,arguments)}return function q(Me,qe,Ye){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[q]}}(Kr,Or,Ac,go,"gtag");Gs=ee,Yo=Me,bl=!0}return Kr[L]=function Zo(C,I,R,L,q,ee,Me){return hs.apply(this,arguments)}(C,Or,Ac,I,Yo,go,R),new po(C)}function Jo(){return(Jo=(0,P.Z)(function*(C,I,R,L,q){if(q&&q.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function ka(){return cu.apply(this,arguments)}function cu(){return(cu=(0,P.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const du="@firebase/analytics";!function Mc(){(0,ae._registerComponent)(new ge.wA(iu,(I,{options:R})=>sn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new ge.wA("analytics-internal",function C(I){try{const R=I.getProvider(iu).getImmediate();return{logEvent:(L,q,ee)=>function sp(C,I,R,L){C=(0,X.m9)(C),function uu(C,I,R,L,q){return Jo.apply(this,arguments)}(Gs,Kr[C.app.options.appId],I,R,L).catch(q=>Un.error(q))}(R,L,q,ee)}}catch(R){throw dr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(du,"0.7.7"),(0,ae.registerVersion)(du,"0.7.7","esm2017")}();var Qd=O(4408),Rc=O(7565);const xc=new class Nn extends Rc.v{}(class _o extends Qd.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var op=O(4986),fu=O(8505),Pr=O(9468),xi=O(5363);const Cn=new c.GfV("7.3.0"),yn="__angularfire_symbol__analyticsIsSupportedValue",Oi="__angularfire_symbol__analyticsIsSupported",Wi="__angularfire_symbol__remoteConfigIsSupportedValue",La="__angularfire_symbol__remoteConfigIsSupported",pu="__angularfire_symbol__messagingIsSupportedValue",gu="__angularfire_symbol__messagingIsSupported";function $s(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(Me=>Me.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Oi]||(globalThis[Oi]=ka().then(C=>globalThis[yn]=C).catch(()=>globalThis[yn]=!1)),globalThis[gu]||(globalThis[gu]=Cc().then(C=>globalThis[pu]=C).catch(()=>globalThis[pu]=!1)),globalThis[La]||(globalThis[La]=so().then(C=>globalThis[Wi]=C).catch(()=>globalThis[Wi]=!1));const mu=(C,I)=>{const R=I?[I]:(0,Y.C6)(),L=[];return R.forEach(q=>{q.container.getProvider(C).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function yo(){}class ea{constructor(I,R=xc){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const q=this.zone;return this.delegate.schedule(function(Me){q.runGuarded(()=>{I.apply(this,[Me])})},R,L)}}class Xd{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yo,{},yo,yo)),R.pipe((0,fu.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let El=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ea(Zone.current)),this.insideAngular=R.run(()=>new ea(Zone.current,op.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function hi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function vo(C){return hi(),function fr(C){return function(R){return(R=R.lift(new Xd(C.ngZone))).pipe((0,Pr.R)(C.outsideAngular),(0,xi.Q)(C.insideAngular))}}(hi())(C)}},2090:(lt,Ce,O)=>{O.d(Ce,{BH:()=>Se,LL:()=>Ct,ZR:()=>le,zI:()=>me,US:()=>ie,tV:()=>G,L:()=>ue,$s:()=>to,r3:()=>en,Sg:()=>Oe,ne:()=>ht,vZ:()=>Is,ZB:()=>Q,Lj:()=>Bt,pd:()=>ns,m9:()=>pt,z$:()=>Le,jU:()=>tt,ru:()=>Ze,d:()=>be,xb:()=>sr,w1:()=>we,hl:()=>K,uI:()=>fe,UG:()=>Ee,b$:()=>Ie,G6:()=>te,Mn:()=>$e,X3:()=>gt,xO:()=>Ui,zd:()=>Rr,eu:()=>se});var c=O(5861);const X=function(j){const B=[];let $=0;for(let ce=0;ce<j.length;ce++){let J=j.charCodeAt(ce);J<128?B[$++]=J:J<2048?(B[$++]=J>>6|192,B[$++]=63&J|128):55296==(64512&J)&&ce+1<j.length&&56320==(64512&j.charCodeAt(ce+1))?(J=65536+((1023&J)<<10)+(1023&j.charCodeAt(++ce)),B[$++]=J>>18|240,B[$++]=J>>12&63|128,B[$++]=J>>6&63|128,B[$++]=63&J|128):(B[$++]=J>>12|224,B[$++]=J>>6&63|128,B[$++]=63&J|128)}return B},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,B){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let J=0;J<j.length;J+=3){const Ue=j[J],vt=J+1<j.length,Zt=vt?j[J+1]:0,yr=J+2<j.length,Wt=yr?j[J+2]:0;let gn=(15&Zt)<<2|Wt>>6,rr=63&Wt;yr||(rr=64,vt||(gn=64)),ce.push($[Ue>>2],$[(3&Ue)<<4|Zt>>4],$[gn],$[rr])}return ce.join("")},encodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(j):this.encodeByteArray(X(j),B)},decodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(j):function(j){const B=[];let $=0,ce=0;for(;$<j.length;){const J=j[$++];if(J<128)B[ce++]=String.fromCharCode(J);else if(J>191&&J<224){const Ue=j[$++];B[ce++]=String.fromCharCode((31&J)<<6|63&Ue)}else if(J>239&&J<365){const yr=((7&J)<<18|(63&j[$++])<<12|(63&j[$++])<<6|63&j[$++])-65536;B[ce++]=String.fromCharCode(55296+(yr>>10)),B[ce++]=String.fromCharCode(56320+(1023&yr))}else{const Ue=j[$++],vt=j[$++];B[ce++]=String.fromCharCode((15&J)<<12|(63&Ue)<<6|63&vt)}}return B.join("")}(this.decodeStringToByteArray(j,B))},decodeStringToByteArray(j,B){this.init_();const $=B?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let J=0;J<j.length;){const Ue=$[j.charAt(J++)],Zt=J<j.length?$[j.charAt(J)]:0;++J;const Wt=J<j.length?$[j.charAt(J)]:64;++J;const Rt=J<j.length?$[j.charAt(J)]:64;if(++J,null==Ue||null==Zt||null==Wt||null==Rt)throw Error();ce.push(Ue<<2|Zt>>4),64!==Wt&&(ce.push(Zt<<4&240|Wt>>2),64!==Rt&&ce.push(Wt<<6&192|Rt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ue=function(j){return function(j){const B=X(j);return ie.encodeByteArray(B,!0)}(j).replace(/\./g,"")},G=function(j){try{return ie.decodeString(j,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Q(j,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return B}for(const $ in B)!B.hasOwnProperty($)||!ze($)||(j[$]=Q(j[$],B[$]));return j}function ze(j){return"__proto__"!==j}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,$)=>{this.resolve=B,this.reject=$})}wrapCallback(B){return($,ce)=>{$?this.reject($):this.resolve(ce),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B($):B($,ce))}}}function Oe(j,B){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=B||"demo-project",J=j.iat||0,Ue=j.sub||j.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:J,exp:J+3600,auth_time:J,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(vt)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function tt(){return"object"==typeof self&&self.self===self}function Ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return Le().indexOf("Electron/")>=0}function we(){const j=Le();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function $e(){return Le().indexOf("MSAppHost/")>=0}function te(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function se(){return new Promise((j,B)=>{try{let $=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ce);J.onsuccess=()=>{J.result.close(),$||self.indexedDB.deleteDatabase(ce),j(!0)},J.onupgradeneeded=()=>{$=!1},J.onerror=()=>{var Ue;B((null===(Ue=J.error)||void 0===Ue?void 0:Ue.message)||"")}}catch($){B($)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(B,$,ce){super($),this.code=B,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(B,$,ce){this.service=B,this.serviceName=$,this.errors=ce}create(B,...$){const ce=$[0]||{},J=`${this.service}/${B}`,Ue=this.errors[B],vt=Ue?function Xt(j,B){return j.replace(Rn,($,ce)=>{const J=B[ce];return null!=J?String(J):`<${ce}?>`})}(Ue,ce):"Error";return new le(J,`${this.serviceName}: ${vt} (${J}).`,ce)}}const Rn=/\{\$([^}]+)}/g;function en(j,B){return Object.prototype.hasOwnProperty.call(j,B)}function sr(j){for(const B in j)if(Object.prototype.hasOwnProperty.call(j,B))return!1;return!0}function Is(j,B){if(j===B)return!0;const $=Object.keys(j),ce=Object.keys(B);for(const J of $){if(!ce.includes(J))return!1;const Ue=j[J],vt=B[J];if(Mr(Ue)&&Mr(vt)){if(!Is(Ue,vt))return!1}else if(Ue!==vt)return!1}for(const J of ce)if(!$.includes(J))return!1;return!0}function Mr(j){return null!==j&&"object"==typeof j}function Ui(j){const B=[];for(const[$,ce]of Object.entries(j))Array.isArray(ce)?ce.forEach(J=>{B.push(encodeURIComponent($)+"="+encodeURIComponent(J))}):B.push(encodeURIComponent($)+"="+encodeURIComponent(ce));return B.length?"&"+B.join("&"):""}function Rr(j){const B={};return j.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[J,Ue]=ce.split("=");B[decodeURIComponent(J)]=decodeURIComponent(Ue)}}),B}function ns(j){const B=j.indexOf("?");if(!B)return"";const $=j.indexOf("#",B);return j.substring(B,$>0?$:void 0)}function ht(j,B){const $=new Hr(j,B);return $.subscribe.bind($)}class Hr{constructor(B,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{B(this)}).catch(ce=>{this.error(ce)})}next(B){this.forEachObserver($=>{$.next(B)})}error(B){this.forEachObserver($=>{$.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,$,ce){let J;if(void 0===B&&void 0===$&&void 0===ce)throw new Error("Missing Observer.");J=function Kn(j,B){if("object"!=typeof j||null===j)return!1;for(const $ of B)if($ in j&&"function"==typeof j[$])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:$,complete:ce},void 0===J.next&&(J.next=ai),void 0===J.error&&(J.error=ai),void 0===J.complete&&(J.complete=ai);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(vt){}}),this.observers.push(J),Ue}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,B)}sendOne(B,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{$(this.observers[B])}catch(ce){"undefined"!=typeof console&&console.error&&console.error(ce)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ai(){}function to(j,B=1e3,$=2){const ce=B*Math.pow($,j),J=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+J)}function pt(j){return j&&j._delegate?j._delegate:j}function _r(j,B){return new Promise(($,ce)=>{j.onsuccess=J=>{$(J.target.result)},j.onerror=J=>{var Ue;ce(`${B}: ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class Lt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,$){return new Je(this._db.transaction.call(this._db,B,$))}createObjectStore(B,$){return new Te(this._db.createObjectStore(B,$))}close(){this._db.close()}}class Je{constructor(B){this._transaction=B,this.complete=new Promise(($,ce)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{ce(this._transaction.error)},this._transaction.onabort=()=>{ce(this._transaction.error)}})}objectStore(B){return new Te(this._transaction.objectStore(B))}}class Te{constructor(B){this._store=B}index(B){return new et(this._store.index(B))}createIndex(B,$,ce){return new et(this._store.createIndex(B,$,ce))}get(B){return _r(this._store.get(B),"Error reading from IndexedDB")}put(B,$){return _r(this._store.put(B,$),"Error writing to IndexedDB")}delete(B){return _r(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return _r(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(B){this._index=B}get(B){return _r(this._index.get(B),"Error reading from IndexedDB")}}function gt(j,B,$){return new Promise((ce,J)=>{try{const Ue=indexedDB.open(j,B);Ue.onsuccess=vt=>{ce(new Lt(vt.target.result))},Ue.onerror=vt=>{var Zt;J(`Error opening indexedDB: ${null===(Zt=vt.target.error)||void 0===Zt?void 0:Zt.message}`)},Ue.onupgradeneeded=vt=>{$(new Lt(Ue.result),vt.oldVersion,vt.newVersion,new Je(Ue.transaction))}}catch(Ue){J(`Error opening indexedDB: ${Ue.message}`)}})}function Bt(j){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(j){return new Promise((B,$)=>{try{const ce=indexedDB.deleteDatabase(j);ce.onsuccess=()=>{B()},ce.onerror=J=>{var Ue;$(`Error deleting indexedDB database "${j}": ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(ce){$(`Error deleting indexedDB database "${j}": ${ce.message}`)}})})).apply(this,arguments)}},3786:(lt,Ce,O)=>{var c=O(5e3);let Y=null;function P(){return Y}const ie=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ue(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new H((0,c.LFG)(ie))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,c.LFG)(ie).location;return new Ze((0,c.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const tt=new c.OlP("appBaseHref");let Ze=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+Le(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+Le(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(tt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+Le(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+Le(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(tt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(Ge(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Se,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(){return new be((0,c.LFG)(fe),(0,c.LFG)(he))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}function ro(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}class Ns{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ns(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,d),ss(m,i)}});for(let i=0,l=r.length;i<l;i++){const m=r.get(i).context;m.index=i,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ss(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ss(n,e){n.context.$implicit=e.item}let vr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class un{constructor(){this.$implicit=null,this.ngIf=null}}function tl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let jo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})();class pc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Zf{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const as=new Zf,Yf=new pc;let Gl=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return as;if((0,c.F4k)(t))return Yf;throw function Bn(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Ia=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"json",type:n,pure:!1}),n})(),Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Os="browser";function ur(n){return"server"===n}let ll=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ul((0,c.LFG)(ie),window)}),n})();class ul{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Sa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ls(this.window.history)||ls(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ls(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _n{}class Ps extends class $o extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Ps)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vc(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function lo(n){ao=ao||document.createElement("a"),ao.setAttribute("href",n);const e=ao.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ro(document.cookie,e)}}let ao,cn=null;const br=new c.OlP("TRANSITION_ID"),Aa=[{provide:c.ip1,useFactory:function Pn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[br,ie,c.zs3],multi:!0}];class Si{static init(){(0,c.VLi)(new Si)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const m=function(y){d=d||y,l--,0==l&&r(d)};i.forEach(function(y){y.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let wr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=new c.OlP("EventManagerPlugins");let us=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ks),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ls),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ls))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ls(n){P().remove(n)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dl=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(dl,n),t.push(i))}return t}function kt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Wo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Zl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new Yl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(us),c.LFG(Fs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Wo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(mt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=mt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=mt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kt(r)):this.eventManager.addEventListener(e,t,kt(r))}}class Zl extends Wo{constructor(e,t,r,i){super(e),this.component=r;const l=De(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function zl(n){return"_ngcontent-%COMP%".replace(dl,n)}(i+"-"+r.id),this.hostAttr=function ql(n){return"_nghost-%COMP%".replace(dl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Yl extends Wo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bc=(()=>{class n extends cl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jl=["alt","control","meta","shift"],Vs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},di={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ml=(()=>{class n extends cl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(Jl.forEach(y=>{const E=r.indexOf(y);E>-1&&(r.splice(E,1),d+=y+".")}),d+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static getEventFullKey(t){let r="",i=function Bs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&cr.hasOwnProperty(e)&&(e=cr[e]))}return Vs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Jl.forEach(l=>{l!=i&&di[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Os},{provide:c.g9A,useValue:function Ai(){Ps.makeCurrent(),Si.init()},multi:!0},{provide:ie,useFactory:function _l(){return(0,c.RDi)(document),document},deps:[]}]),Ma=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ql(){return new c.qLn},deps:[]},{provide:ks,useClass:bc,multi:!0,deps:[ie,c.R0b,c.Lbi]},{provide:ks,useClass:ml,multi:!0,deps:[ie]},{provide:wn,useClass:wn,deps:[us,Fs,c.AFp]},{provide:c.FYo,useExisting:wn},{provide:zr,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[ie]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:us,useClass:us,deps:[ks,c.R0b]},{provide:_n,useClass:wr,deps:[]}];let Ra=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:br,useExisting:c.AFp},Aa]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ma,imports:[Yn,c.hGG]}),n})();"undefined"!=typeof window&&window;const dr_firebaseConfig={apiKey:"AIzaSyDNOmYsQxThVOk38mFiClkfo1kwEYOq430",authDomain:"sismeals-recipes.firebaseapp.com",projectId:"sismeals-recipes",storageBucket:"sismeals-recipes.appspot.com",messagingSenderId:"517654564483",appId:"1:517654564483:web:760c42fd4e5cce679395b6",measurementId:"G-0R1W18RKS5"};var Hi=O(3269),tn=O(8996);function ft(...n){const e=(0,Hi.yG)(n);return(0,tn.D)(n,e)}var kn=O(8306),En=O(5577),Ni=O(576);function Jt(n,e){return(0,Ni.m)(e)?(0,En.z)(n,e,1):(0,En.z)(n,1)}var hr=O(4482),rn=O(5403);function Fn(n,e){return(0,hr.e)((t,r)=>{let i=0;t.subscribe((0,rn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var ot=O(4004);class Yd{}class au{}class Mi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Mi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Mi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Mi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===l.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Jd{encodeKey(e){return po(e)}encodeValue(e){return po(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Zo=/%(\d[a-f0-9])/gi,hs={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function po(n){return encodeURIComponent(n).replace(Zo,(e,t)=>{var r;return null!==(r=hs[t])&&void 0!==r?r:e})}function Kr(n){return`${n}`}class Or{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Jd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ko(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[d,m]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],y=t.get(d)||[];y.push(m),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Or({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Kr(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Kr(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class go{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Yo(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Gs(n){return"undefined"!=typeof Blob&&n instanceof Blob}function bl(n){return"undefined"!=typeof FormData&&n instanceof FormData}class mo{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function lu(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Mi),this.context||(this.context=new go),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new Or,this.urlWithParams=t}serializeBody(){return null===this.body?null:Yo(this.body)||Gs(this.body)||bl(this.body)||function rp(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Or?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bl(this.body)?null:Gs(this.body)?this.body.type||null:Yo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Or?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,S=e.params||this.params;const N=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((F,V)=>F.set(V,e.setHeaders[V]),E)),e.setParams&&(S=Object.keys(e.setParams).reduce((F,V)=>F.set(V,e.setParams[V]),S)),new mo(r,i,d,{params:S,headers:E,context:N,reportProgress:y,responseType:l,withCredentials:m})}}var sn=(()=>((sn=sn||{})[sn.Sent=0]="Sent",sn[sn.UploadProgress=1]="UploadProgress",sn[sn.ResponseHeader=2]="ResponseHeader",sn[sn.DownloadProgress=3]="DownloadProgress",sn[sn.Response=4]="Response",sn[sn.User=5]="User",sn))();class uu{constructor(e,t=200,r="OK"){this.headers=e.headers||new Mi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jo extends uu{constructor(e={}){super(e),this.type=sn.ResponseHeader}clone(e={}){return new Jo({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Oa extends uu{constructor(e={}){super(e),this.type=sn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Oa({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ri extends uu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wl(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof mo)l=t;else{let y,E;y=i.headers instanceof Mi?i.headers:new Mi(i.headers),i.params&&(E=i.params instanceof Or?i.params:new Or({fromObject:i.params})),l=new mo(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=ft(l).pipe(Jt(y=>this.handler.handle(y)));if(t instanceof mo||"events"===i.observe)return d;const m=d.pipe(Fn(y=>y instanceof Oa));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,ot.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return m.pipe((0,ot.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return m.pipe((0,ot.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return m.pipe((0,ot.U)(y=>y.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Or).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wl(i,r))}post(t,r,i={}){return this.request("POST",t,wl(i,r))}put(t,r,i={}){return this.request("PUT",t,wl(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Yd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Pa{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fs=new c.OlP("HTTP_INTERCEPTORS");let Xo=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const dm=/^\)\]\}',?\n/;let du=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,W)=>i.setRequestHeader(V,W.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const l=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const V=i.statusText||"OK",W=new Mi(i.getAllResponseHeaders()),ne=function sp(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new Jo({headers:W,status:i.status,statusText:V,url:ne}),d},y=()=>{let{headers:V,status:W,statusText:ne,url:Ae}=m(),Be=null;204!==W&&(Be=void 0===i.response?i.responseText:i.response),0===W&&(W=Be?200:0);let Re=W>=200&&W<300;if("json"===t.responseType&&"string"==typeof Be){const _t=Be;Be=Be.replace(dm,"");try{Be=""!==Be?JSON.parse(Be):null}catch(je){Be=_t,Re&&(Re=!1,Be={error:je,text:Be})}}Re?(r.next(new Oa({body:Be,headers:V,status:W,statusText:ne,url:Ae||void 0})),r.complete()):r.error(new Ri({error:Be,headers:V,status:W,statusText:ne,url:Ae||void 0}))},E=V=>{const{url:W}=m(),ne=new Ri({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:W||void 0});r.error(ne)};let S=!1;const N=V=>{S||(r.next(m()),S=!0);let W={type:sn.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(W.total=V.total),"text"===t.responseType&&!!i.responseText&&(W.partialText=i.responseText),r.next(W)},F=V=>{let W={type:sn.UploadProgress,loaded:V.loaded};V.lengthComputable&&(W.total=V.total),r.next(W)};return i.addEventListener("load",y),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",N),null!==l&&i.upload&&i.upload.addEventListener("progress",F)),i.send(l),r.next({type:sn.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",y),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",N),null!==l&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_n))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=new c.OlP("XSRF_COOKIE_NAME"),Mc=new c.OlP("XSRF_HEADER_NAME");class Qd{}let _o=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ro(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(c.Lbi),c.LFG(hu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Rc=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qd),c.LFG(Mc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Nn=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(fs,[]);this.chain=r.reduceRight((i,l)=>new Pa(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(au),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),op=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Rc,useClass:Xo}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:hu,useValue:t.cookieName}:[],t.headerName?{provide:Mc,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Rc,{provide:fs,useExisting:Rc,multi:!0},{provide:Qd,useClass:_o},{provide:hu,useValue:"XSRF-TOKEN"},{provide:Mc,useValue:"X-XSRF-TOKEN"}]}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Qo,{provide:Yd,useClass:Nn},du,{provide:au,useExisting:du}],imports:[[op.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Cn=O(7579);class yn extends Cn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Oi}=Array,{getPrototypeOf:Wi,prototype:La,keys:pu}=Object;var Hs=O(4671);const{isArray:Zr}=Array;function $s(n){return(0,ot.U)(e=>function Pc(n,e){return Zr(e)?n(...e):n(e)}(n,e))}var yo=O(9672);function ea(...n){const e=(0,Hi.yG)(n),t=(0,Hi.jO)(n),{args:r,keys:i}=function gu(n){if(1===n.length){const e=n[0];if(Oi(e))return{args:e,keys:null};if(function Oc(n){return n&&"object"==typeof n&&Wi(n)===La}(e)){const t=pu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,tn.D)([],e);const l=new kn.y(function Xd(n,e,t=Hs.y){return r=>{El(e,()=>{const{length:i}=n,l=new Array(i);let d=i,m=i;for(let y=0;y<i;y++)El(e,()=>{const E=(0,tn.D)(n[y],e);let S=!1;E.subscribe((0,rn.x)(r,N=>{l[y]=N,S||(S=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>function mu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,d):Hs.y));return t?l.pipe($s(t)):l}function El(n,e,t){n?(0,yo.f)(t,n,e):e()}function hi(n,e){const t=(0,Ni.m)(n)?n:()=>n,r=i=>i.error(t());return new kn.y(e?i=>e.schedule(r,0,i):r)}const kr=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Va=O(8189);function vo(...n){return function _u(){return(0,Va.J)(1)}()((0,tn.D)(n,(0,Hi.yG)(n)))}var fr=O(8421);function ta(n){return new kn.y(e=>{(0,fr.Xf)(n()).subscribe(e)})}var zi=O(515),C=O(727);function I(){return(0,hr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,rn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class R extends kn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,hr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new C.w0;const t=this.getSubject();e.add(this.source.subscribe((0,rn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=C.w0.EMPTY)}return e}refCount(){return I()(this)}}function L(n,e){return(0,hr.e)((t,r)=>{let i=null,l=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,rn.x)(r,y=>{null==i||i.unsubscribe();let E=0;const S=l++;(0,fr.Xf)(n(y,S)).subscribe(i=(0,rn.x)(r,N=>r.next(e?e(y,N,S,E++):N),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var q=O(5698);function ee(...n){const e=(0,Hi.yG)(n);return(0,hr.e)((t,r)=>{(e?vo(n,t,e):vo(n,t)).subscribe(r)})}function Me(n,e,t,r,i){return(l,d)=>{let m=t,y=e,E=0;l.subscribe((0,rn.x)(d,S=>{const N=E++;y=m?n(y,S,N):(m=!0,S),r&&d.next(y)},i&&(()=>{m&&d.next(y),d.complete()})))}}function qe(n,e){return(0,hr.e)(Me(n,e,arguments.length>=2,!0))}function Ye(n){return(0,hr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,rn.x)(t,void 0,void 0,d=>{l=(0,fr.Xf)(n(d,Ye(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function wt(n){return n<=0?()=>zi.E:(0,hr.e)((e,t)=>{let r=[];e.subscribe((0,rn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gt(n=It){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,rn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function It(){return new kr}function Gn(n){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,rn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,l)=>n(i,l,r)):Hs.y,(0,q.q)(1),t?Gn(e):Gt(()=>new kr))}var Jn=O(8505);class Hn{constructor(e,t){this.id=e,this.url=t}}class Ki extends Hn{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pi extends Hn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class th extends Hn{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ap extends Hn{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kc extends Hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dl extends Hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lp extends Hn{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hm extends Hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fm extends Hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pm{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class up{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ut="primary";class _m{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Il(n){return new _m(n)}const yu="ngNavigationCancelingError";function vu(n){const e=Error("NavigationCancelingError: "+n);return e[yu]=!0,e}function ym(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!bu(n[i],e[i]))return!1;return!0}function bu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Lc(n){return Array.prototype.concat.apply([],n)}function rh(n){return n.length>0?n[n.length-1]:null}function ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ps(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,tn.D)(Promise.resolve(n)):ft(n)}const wm={exact:function gs(n,e,t){if(!Ba(n.segments,e.segments)||!Eu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gs(n.children[r],e.children[r],t))return!1;return!0},subset:ih},cp={exact:function Em(n,e){return wo(n,e)},subset:function wu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bu(n[t],e[t]))},ignored:()=>!0};function Vc(n,e,t){return wm[t.paths](n.root,e.root,t.matrixParams)&&cp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ih(n,e,t){return Dm(n,e,e.segments,t)}function Dm(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ba(i,t)||e.hasChildren()||!Eu(i,t,r))}if(n.segments.length===t.length){if(!Ba(n.segments,t)||!Eu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ih(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ba(n.segments,i)&&Eu(n.segments,i,r)&&n.children[Ut])&&Dm(n.children[Ut],e,l,r)}}function Eu(n,e,t){return e.every((r,i)=>cp[t](n[i].parameters,r.parameters))}class Sl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return zv.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ir(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bc(this)}}class Du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Il(this.parameters)),this._parameterMap}toString(){return Tm(this)}}function Ba(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Im{}class na{parse(e){const t=new Am(e);return new Sl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ws(e.root,!0)}`,r=function qv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Yr(t)}=${Yr(i)}`).join("&"):`${Yr(t)}=${Yr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zv=new na;function Bc(n){return n.segments.map(e=>Tm(e)).join("/")}function Ws(n,e){if(!n.hasChildren())return Bc(n);if(e){const t=n.children[Ut]?Ws(n.children[Ut],!1):"",r=[];return ir(n.children,(i,l)=>{l!==Ut&&r.push(`${l}:${Ws(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Cm(n,e){let t=[];return ir(n.children,(r,i)=>{i===Ut&&(t=t.concat(e(r,i)))}),ir(n.children,(r,i)=>{i!==Ut&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ut?[Ws(n.children[Ut],!1)]:[`${i}:${Ws(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${Bc(n)}/${t[0]}`:`${Bc(n)}/(${t.join("//")})`}}function sh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yr(n){return sh(n).replace(/%3B/gi,";")}function Uc(n){return sh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ua(n){return decodeURIComponent(n)}function oh(n){return Ua(n.replace(/\+/g,"%20"))}function Tm(n){return`${Uc(n.path)}${function hp(n){return Object.keys(n).map(e=>`;${Uc(e)}=${Uc(n[e])}`).join("")}(n.parameters)}`}const ah=/^[^\/()?;=#]+/;function Al(n){const e=n.match(ah);return e?e[0]:""}const lh=/^[^=?&#]+/,Sm=/^[^&#]+/;class Am{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new zt(e,t)),r}parseSegment(){const e=Al(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Du(Ua(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Al(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Al(this.remaining);i&&(r=i,this.capture(r))}e[Ua(t)]=Ua(r)}parseQueryParam(e){const t=function Kv(n){const e=n.match(lh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function jc(n){const e=n.match(Sm);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=oh(t),l=oh(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Al(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ut);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Ut]:new zt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class fp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Iu(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Iu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Tu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tu(e,this._root).map(t=>t.value)}}function Iu(n,e){if(n===e.value)return e;for(const t of e.children){const r=Iu(n,t);if(r)return r}return null}function Tu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Tu(n,t);if(r.length)return r.unshift(e),r}return[]}class zs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Eo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Su extends fp{constructor(e,t){super(e),this.snapshot=t,dh(this,e)}toString(){return this.snapshot.toString()}}function Gc(n,e){const t=function Nm(n,e){const d=new Nl([],{},{},"",{},Ut,e,null,n.root,-1,{});return new ch("",new zs(d,[]))}(n,e),r=new yn([new Du("",{})]),i=new yn({}),l=new yn({}),d=new yn({}),m=new yn(""),y=new Dn(r,i,d,m,l,Ut,e,t.root);return y.snapshot=t.root,new Su(new zs(y,[]),t)}class Dn{constructor(e,t,r,i,l,d,m,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(e=>Il(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(e=>Il(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function Mm(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Nl{constructor(e,t,r,i,l,d,m,y,E,S,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ch extends fp{constructor(e,t){super(t),this.url=e,dh(this,t)}toString(){return Au(this._root)}}function dh(n,e){e.value._routerState=n,e.children.forEach(t=>dh(n,t))}function Au(n){const e=n.children.length>0?` { ${n.children.map(Au).join(", ")} } `:"";return`${n.value}${e}`}function hh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wo(e.params,t.params)||n.params.next(t.params),function nh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hc(n,e){const t=wo(n.params,e.params)&&function dp(n,e){return Ba(n,e)&&n.every((t,r)=>wo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hc(n.parent,e.parent))}function $c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Zv(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $c(n,r,i);return $c(n,r)})}(n,e,t);return new zs(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>$c(n,m)),d}}const r=function Nu(n){return new Dn(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>$c(n,l));return new zs(r,i)}}function ra(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ia(n){return"object"==typeof n&&null!=n&&n.outlets}function Mu(n,e,t,r,i){let l={};if(r&&ir(r,(m,y)=>{l[y]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),n===e)return new Sl(t,l,i);const d=Dr(n,e,t);return new Sl(d,l,i)}function Dr(n,e,t){const r={};return ir(n.children,(i,l)=>{r[l]=i===e?t:Dr(i,e,t)}),new zt(n.segments,r)}class sa{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ra(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ia);if(i&&i!==rh(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jr{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xu(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return Ml(n,e,t);const r=function pp(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],m=t[r];if(ia(m))break;const y=`${m}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!gh(y,E,d))return l;r+=2}else{if(!gh(y,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new zt(n.segments.slice(0,r.pathIndex),{});return l.children[Ut]=new zt(n.segments.slice(r.pathIndex),n.children),Ml(l,0,i)}return r.match&&0===i.length?new zt(n.segments,{}):r.match&&!n.hasChildren()?Wc(n,e,t):r.match?Ml(n,0,i):Wc(n,e,t)}function Ml(n,e,t){if(0===t.length)return new zt(n.segments,{});{const r=function xm(n){return ia(n[0])?n[0].outlets:{[Ut]:n}}(t),i={};return ir(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=xu(n.children[d],e,l))}),ir(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new zt(n.segments,i)}}function Wc(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(ia(l)){const y=Om(l.outlets);return new zt(r,y)}if(0===i&&ra(t[0])){r.push(new Du(n.segments[e].path,ms(t[0]))),i++;continue}const d=ia(l)?l.outlets[Ut]:`${l}`,m=i<t.length-1?t[i+1]:null;d&&m&&ra(m)?(r.push(new Du(d,ms(m))),i+=2):(r.push(new Du(d,{})),i++)}return new zt(r,{})}function Om(n){const e={};return ir(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wc(new zt([],{}),0,t))}),e}function ms(n){const e={};return ir(n,(t,r)=>e[r]=`${t}`),e}function gh(n,e,t){return n==t.path&&wo(e,t.parameters)}class mh{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Eo(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),ir(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Eo(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Eo(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Eo(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Fc(l.value.snapshot))}),e.children.length&&this.forwardEvent(new gm(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(hh(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),hh(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function km(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=y,d.outlet&&d.outlet.activateWith(i,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class zc{constructor(e,t){this.routes=e,this.module=t}}function In(n){return"function"==typeof n}function Do(n){return n instanceof Sl}const Rl=Symbol("INITIAL_VALUE");function Pu(){return L(n=>ea(n.map(e=>e.pipe((0,q.q)(1),ee(Rl)))).pipe(qe((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==Rl?i:(l===Rl&&(r=!0),r||!1!==l&&d!==t.length-1&&!Do(l)?i:l),e)},Rl),Fn(e=>e!==Rl),(0,ot.U)(e=>Do(e)?e:!0===e),(0,q.q)(1)))}class vh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ku,this.attachRef=null}}class ku{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new vh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let bh=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,y=new Lm(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ku),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Lm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Dn?this.route:e===ku?this.childContexts:this.parent.get(e,t)}}let gp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[bh],encapsulation:2}),n})();function _(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];f(r,g(e,r))}}function f(n,e){n.children&&_(n.children,e)}function g(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function b(n){const e=n.children&&n.children.map(b),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=gp),t}function T(n){return n.outlet||Ut}function x(n,e){const t=n.filter(r=>T(r)===e);return t.push(...n.filter(r=>T(r)!==e)),t}const z={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function re(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},z):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||ym)(t,n,e);if(!l)return Object.assign({},z);const d={};ir(l.posParams,(y,E)=>{d[E]=y.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Ve(n,e,t,r,i="corrected"){if(t.length>0&&function dt(n,e,t){return t.some(r=>Qr(n,e,r)&&T(r)!==Ut)}(n,t,r)){const d=new zt(e,function bt(n,e,t,r){const i={};i[Ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&T(l)!==Ut){const d=new zt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[T(l)]=d}return i}(n,e,r,new zt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Mn(n,e,t){return t.some(r=>Qr(n,e,r))}(n,t,r)){const d=new zt(n.segments,function nt(n,e,t,r,i,l){const d={};for(const m of r)if(Qr(n,t,m)&&!i[T(m)]){const y=new zt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[T(m)]=y}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new zt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Qr(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xl(n,e,t,r){return!!(T(n)===r||r!==Ut&&Qr(e,t,n))&&("**"===n.path||re(e,n,t).matched)}function Fu(n,e,t){return 0===e.length&&!n.children[t]}class oa{constructor(e){this.segmentGroup=e||null}}class qc{constructor(e){this.urlTree=e}}function Lu(n){return hi(new oa(n))}function Io(n){return hi(new qc(n))}class Zc{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Ve(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ut).pipe((0,ot.U)(l=>this.createUrlTree(Vu(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ye(l=>{if(l instanceof qc)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof oa?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ut).pipe((0,ot.U)(i=>this.createUrlTree(Vu(i),e.queryParams,e.fragment))).pipe(Ye(i=>{throw i instanceof oa?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new zt([],{[Ut]:e}):e;return new Sl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ot.U)(l=>new zt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,tn.D)(i).pipe(Jt(l=>{const d=r.children[l],m=x(t,l);return this.expandSegmentGroup(e,m,d,l).pipe((0,ot.U)(y=>({segment:y,outlet:l})))}),qe((l,d)=>(l[d.outlet]=d.segment,l),{}),function Ln(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,l)=>n(i,l,r)):Hs.y,wt(1),t?Gn(e):Gt(()=>new kr))}())}expandSegment(e,t,r,i,l,d){return(0,tn.D)(r).pipe(Jt(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,d).pipe(Ye(E=>{if(E instanceof oa)return ft(null);throw E}))),fi(m=>!!m),Ye((m,y)=>{if(m instanceof kr||"EmptyError"===m.name)return Fu(t,i,l)?ft(new zt([],{})):Lu(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,d,m){return xl(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Lu(t):Lu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Io(l):this.lineralizeSegments(r,l).pipe((0,En.z)(d=>{const m=new zt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:m,consumedSegments:y,remainingSegments:E,positionalParamSegments:S}=re(t,i,l);if(!m)return Lu(t);const N=this.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?Io(N):this.lineralizeSegments(i,N).pipe((0,En.z)(F=>this.expandSegment(e,t,r,F.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ft(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ot.U)(N=>(r._loadedConfig=N,new zt(i,{})))):ft(new zt(i,{}));const{matched:d,consumedSegments:m,remainingSegments:y}=re(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,En.z)(S=>{const N=S.module,F=S.routes,{segmentGroup:V,slicedSegments:W}=Ve(t,m,y,F),ne=new zt(V.segments,V.children);if(0===W.length&&ne.hasChildren())return this.expandChildren(N,F,ne).pipe((0,ot.U)(_t=>new zt(m,_t)));if(0===F.length&&0===W.length)return ft(new zt(m,{}));const Ae=T(r)===l;return this.expandSegment(N,ne,F,W,Ae?Ut:l,!0).pipe((0,ot.U)(Re=>new zt(m.concat(Re.segments),Re.children)))})):Lu(t)}getChildConfig(e,t,r){return t.children?ft(new zc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ft(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,En.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,ot.U)(l=>(t._loadedConfig=l,l))):function wh(n){return hi(vu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ft(new zc([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ft(i.map(d=>{const m=e.get(d);let y;if(function Fm(n){return n&&In(n.canLoad)}(m))y=m.canLoad(t,r);else{if(!In(m))throw new Error("Invalid CanLoad guard");y=m(t,r)}return ps(y)})).pipe(Pu(),(0,Jn.b)(d=>{if(!Do(d))return;const m=vu(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,ot.U)(d=>!0===d)):ft(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ft(r);if(i.numberOfChildren>1||!i.children[Ut])return hi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Sl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ir(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return ir(t.children,(m,y)=>{d[y]=this.createSegmentGroup(e,m,r,i)}),new zt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Vu(n){const e={};for(const r of Object.keys(n.children)){const l=Vu(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Vm(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}class Yv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mp{constructor(e,t){this.component=e,this.route=t}}function YD(n,e,t){const r=n._root;return Bu(r,e?e._root:null,t,[r.value])}function Yc(n,e,t){const r=function Qv(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Bu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Eo(e);return n.children.forEach(d=>{(function JD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const y=function QD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ba(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ba(n.url,e.url)||!wo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hc(n,e)||!wo(n.queryParams,e.queryParams);default:return!Hc(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Yv(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Bu(n,e,l.component?m?m.children:null:t,r,i),y&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new mp(m.outlet.component,d))}else d&&Jc(e,m,i),i.canActivateChecks.push(new Yv(r)),Bu(n,null,l.component?m?m.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),ir(l,(d,m)=>Jc(d,t.getContext(m),i)),i}function Jc(n,e,t){const r=Eo(n),i=n.value;ir(r,(l,d)=>{Jc(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new mp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class r0{}function Um(n){return new kn.y(e=>e.error(n))}class s0{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=Ve(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ut);if(null===t)return null;const r=new Nl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zs(r,t),l=new ch(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=uh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],m=x(e,l),y=this.processSegmentGroup(m,d,l);if(null===y)return null;r.push(...y)}const i=bp(r);return function yp(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return Fu(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!xl(e,t,r,i))return null;let l,d=[],m=[];if("**"===e.path){const V=r.length>0?rh(r).parameters:{};l=new Nl(r,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,a0(e),T(e),e.component,e,wp(t),Qc(t)+r.length,Gm(e))}else{const V=re(t,e,r);if(!V.matched)return null;d=V.consumedSegments,m=V.remainingSegments,l=new Nl(d,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,a0(e),T(e),e.component,e,wp(t),Qc(t)+d.length,Gm(e))}const y=function vp(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:S}=Ve(t,d,m,y.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===S.length&&E.hasChildren()){const V=this.processChildren(y,E);return null===V?null:[new zs(l,V)]}if(0===y.length&&0===S.length)return[new zs(l,[])];const N=T(e)===i,F=this.processSegment(y,E,S,N?Ut:i);return null===F?null:[new zs(l,F)]}}function o0(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bp(n){const e=[],t=new Set;for(const r of n){if(!o0(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=bp(r.children);e.push(new zs(r.value,i))}return e.filter(r=>!t.has(r))}function wp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qc(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function a0(n){return n.data||{}}function Gm(n){return n.resolve||{}}function $m(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ep(n){return L(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,ot.U)(()=>e)):ft(e)})}class s1 extends class u0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wm=new c.OlP("ROUTES");class qs{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,ot.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new zc(Lc(d.injector.get(Wm,void 0,c.XFs.Self|c.XFs.Optional)).map(b),d)}),Ye(l=>{throw t._loader$=void 0,l}));return t._loader$=new R(i,()=>new Cn.x).pipe(I()),t._loader$}loadModuleFactory(e){return ps(e()).pipe((0,En.z)(t=>t instanceof c.YKP?ft(t):(0,tn.D)(this.compiler.compileModuleAsync(t))))}}class c0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function a1(n){throw n}function l1(n,e,t){return e.parse("/")}function d0(n,e){return ft(null)}const u1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _s=(()=>{class n{constructor(t,r,i,l,d,m,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cn.x,this.errorHandler=a1,this.malformedUriErrorHandler=l1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:d0,afterPreactivation:d0},this.urlHandlingStrategy=new c0,this.routeReuseStrategy=new s1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const N=d.get(c.R0b);this.isNgZoneEnabled=N instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function bm(){return new Sl(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qs(d,m,F=>this.triggerEvent(new bo(F)),F=>this.triggerEvent(new Cl(F))),this.routerState=Gc(this.currentUrlTree,this.rootComponentType),this.transitions=new yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Fn(i=>0!==i.id),(0,ot.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),L(i=>{let l=!1,d=!1;return ft(i).pipe((0,Jn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),L(m=>{const y=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return f0(m.source)&&(this.browserUrlTree=m.extractedUrl),ft(m).pipe(L(N=>{const F=this.transitions.getValue();return r.next(new Ki(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),F!==this.transitions.getValue()?zi.E:Promise.resolve(N)}),function Bm(n,e,t,r){return L(i=>function Eh(n,e,t,r,i){return new Zc(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ot.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jn.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function n1(n,e,t,r,i){return(0,En.z)(l=>function jm(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new s0(n,e,t,r,i,l).recognize();return null===d?Um(new r0):ft(d)}catch(d){return Um(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,ot.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jn.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(V,N)}this.browserUrlTree=N.urlAfterRedirects}const F=new kc(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(F)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:V,source:W,restoredState:ne,extras:Ae}=m,Be=new Ki(F,this.serializeUrl(V),W,ne);r.next(Be);const Re=Gc(V,this.rootComponentType).snapshot;return ft(Object.assign(Object.assign({},m),{targetSnapshot:Re,urlAfterRedirects:V,extras:Object.assign(Object.assign({},Ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),zi.E}),Ep(m=>{const{targetSnapshot:y,id:E,extractedUrl:S,rawUrl:N,extras:{skipLocationChange:F,replaceUrl:V}}=m;return this.hooks.beforePreactivation(y,{navigationId:E,appliedUrlTree:S,rawUrlTree:N,skipLocationChange:!!F,replaceUrl:!!V})}),(0,Jn.b)(m=>{const y=new Dl(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),(0,ot.U)(m=>Object.assign(Object.assign({},m),{guards:YD(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Xv(n,e){return(0,En.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?ft(Object.assign(Object.assign({},t),{guardsResult:!0})):function Uu(n,e,t,r){return(0,tn.D)(n).pipe((0,En.z)(i=>function n0(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ft(l.map(m=>{const y=Yc(m,e,i);let E;if(function yh(n){return n&&In(n.canDeactivate)}(y))E=ps(y.canDeactivate(n,e,t,r));else{if(!In(y))throw new Error("Invalid CanDeactivate guard");E=ps(y(n,e,t,r))}return E.pipe(fi())})).pipe(Pu()):ft(!0)}(i.component,i.route,t,e,r)),fi(i=>!0!==i,!0))}(d,r,i,n).pipe((0,En.z)(m=>m&&function _h(n){return"boolean"==typeof n}(m)?function e0(n,e,t,r){return(0,tn.D)(e).pipe(Jt(i=>vo(function XD(n,e){return null!==n&&e&&e(new pm(n)),ft(!0)}(i.route.parent,r),function t0(n,e){return null!==n&&e&&e(new up(n)),ft(!0)}(i.route,r),function e1(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Jv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ta(()=>ft(d.guards.map(y=>{const E=Yc(y,d.node,t);let S;if(function Ou(n){return n&&In(n.canActivateChild)}(E))S=ps(E.canActivateChild(r,n));else{if(!In(E))throw new Error("Invalid CanActivateChild guard");S=ps(E(r,n))}return S.pipe(fi())})).pipe(Pu())));return ft(l).pipe(Pu())}(n,i.path,t),function _p(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const i=r.map(l=>ta(()=>{const d=Yc(l,e,t);let m;if(function Co(n){return n&&In(n.canActivate)}(d))m=ps(d.canActivate(e,n));else{if(!In(d))throw new Error("Invalid CanActivate guard");m=ps(d(e,n))}return m.pipe(fi())}));return ft(i).pipe(Pu())}(n,i.route,t))),fi(i=>!0!==i,!0))}(r,l,n,e):ft(m)),(0,ot.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Jn.b)(m=>{if(Do(m.guardsResult)){const E=vu(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const y=new lp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(y)}),Fn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Ep(m=>{if(m.guards.canActivateChecks.length)return ft(m).pipe((0,Jn.b)(y=>{const E=new hm(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),L(y=>{let E=!1;return ft(y).pipe(function r1(n,e){return(0,En.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ft(t);let l=0;return(0,tn.D)(i).pipe(Jt(d=>function l0(n,e,t,r){return function Hm(n,e,t,r){const i=$m(n);if(0===i.length)return ft({});const l={};return(0,tn.D)(i).pipe((0,En.z)(d=>function RN(n,e,t,r){const i=Yc(n,e,r);return ps(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Jn.b)(m=>{l[d]=m}))),wt(1),(0,En.z)(()=>$m(l).length===i.length?ft(l):zi.E))}(n._resolve,n,e,r).pipe((0,ot.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),uh(n,t).resolve),null)))}(d.route,r,n,e)),(0,Jn.b)(()=>l++),wt(1),(0,En.z)(d=>l===i.length?ft(t):zi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jn.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Jn.b)(y=>{const E=new fm(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),Ep(m=>{const{targetSnapshot:y,id:E,extractedUrl:S,rawUrl:N,extras:{skipLocationChange:F,replaceUrl:V}}=m;return this.hooks.afterPreactivation(y,{navigationId:E,appliedUrlTree:S,rawUrlTree:N,skipLocationChange:!!F,replaceUrl:!!V})}),(0,ot.U)(m=>{const y=function Rm(n,e,t){const r=$c(n,e._root,t?t._root:void 0);return new Su(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:y})}),(0,Jn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ot.U)(r=>(new mh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Jn.b)({next(){l=!0},complete(){l=!0}}),function qi(n){return(0,hr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),Ye(m=>{if(d=!0,function Tl(n){return n&&n[yu]}(m)){const y=Do(m.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const E=new th(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(E),y?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f0(i.source)};this.scheduleNavigation(S,"imperative",null,N,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new ap(i.id,this.serializeUrl(i.extractedUrl),m);r.next(y);try{i.resolve(this.errorHandler(m))}catch(E){i.reject(E)}}return zi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_(t),this.config=t.map(b),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:y}=r,E=i||this.routerState.root,S=y?this.currentUrlTree.fragment:d;let N=null;switch(m){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=l||null}return null!==N&&(N=this.removeEmptyProps(N)),function Fr(n,e,t,r,i){if(0===t.length)return Mu(e.root,e.root,e.root,r,i);const l=function fh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sa(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return ir(l.outlets,(y,E)=>{m[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new sa(t,e,r)}(t);if(l.toRoot())return Mu(e.root,e.root,new zt([],{}),r,i);const d=function Ru(n,e,t){if(n.isAbsolute)return new Jr(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Jr(l,l===e.root,0)}const r=ra(n.commands[0])?0:1;return function ph(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Jr(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=d.processChildren?Ml(d.segmentGroup,d.index,l.commands):xu(d.segmentGroup,d.index,l.commands);return Mu(e.root,d.segmentGroup,m,r,i)}(E,this.currentUrlTree,t,N,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Do(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function c1(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},u1):!1===r?Object.assign({},h0):r,Do(t))return Vc(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Vc(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Pi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var m,y;if(this.disposed)return Promise.resolve(!1);let E,S,N;d?(E=d.resolve,S=d.reject,N=d.promise):N=new Promise((W,ne)=>{E=W,S=ne});const F=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),V=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):V=0,this.setTransition({id:F,targetPageId:V,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:E,reject:S,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(W=>Promise.reject(W))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new th(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function f0(n){return"imperative"!==n}class Ks{}class m0{preload(e,t){return ft(null)}}let Ip=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new qs(i,r,y=>t.triggerEvent(new bo(y)),y=>t.triggerEvent(new Cl(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fn(t=>t instanceof Pi),Jt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,tn.D)(i).pipe((0,Va.J)(),(0,ot.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ft(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,En.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Ks))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),To=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new mm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=new c.OlP("ROUTER_CONFIGURATION"),Tp=new c.OlP("ROUTER_FORROOT_GUARD"),xN=[be,{provide:Im,useClass:na},{provide:_s,useFactory:function qm(n,e,t,r,i,l,d={},m,y){const E=new _s(null,n,e,t,r,i,Lc(l));return m&&(E.urlHandlingStrategy=m),y&&(E.routeReuseStrategy=y),function ON(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(S=>{var N,F;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(F=console.groupEnd)||void 0===F||F.call(console)}),E},deps:[Im,ku,be,c.zs3,c.Sil,Wm,Ol,[class o1{},new c.FiY],[class i1{},new c.FiY]]},ku,{provide:Dn,useFactory:function h1(n){return n.routerState.root},deps:[_s]},Ip,m0,class g0{preload(e,t){return t().pipe(Ye(()=>ft(null)))}},{provide:Ol,useValue:{enableTracing:!1}}];function y0(){return new c.PXZ("Router",_s)}let d1=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[xN,Np(t),{provide:Tp,useFactory:zm,deps:[[_s,new c.FiY,new c.tp0]]},{provide:Ol,useValue:r||{}},{provide:fe,useFactory:Ap,deps:[he,[new c.tBr(tt),new c.FiY],Ol]},{provide:To,useFactory:Sp,deps:[_s,ll,Ol]},{provide:Ks,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:m0},{provide:c.PXZ,multi:!0,useFactory:y0},[Km,{provide:c.ip1,multi:!0,useFactory:f1,deps:[Km]},{provide:Zm,useFactory:p1,deps:[Km]},{provide:c.tb,multi:!0,useExisting:Zm}]]}}static forChild(t){return{ngModule:n,providers:[Np(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tp,8),c.LFG(_s,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Sp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new To(n,e,t)}function Ap(n,e,t={}){return t.useHash?new Ie(n,e):new Ze(n,e)}function zm(n){return"guarded"}function Np(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Wm,multi:!0,useValue:n}]}let Km=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Cn.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(_s),d=this.injector.get(Ol);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ft(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ol),i=this.injector.get(Ip),l=this.injector.get(To),d=this.injector.get(_s),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function f1(n){return n.appInitializer.bind(n)}function p1(n){return n.bootstrapListener.bind(n)}const Zm=new c.OlP("Router Initializer");var FN=O(1144);const v0=["addListener","removeListener"],b0=["addEventListener","removeEventListener"],g1=["on","off"];function Xr(n,e,t,r){if((0,Ni.m)(t)&&(r=t,t=void 0),r)return Xr(n,e,t).pipe($s(r));const[i,l]=function BN(n){return(0,Ni.m)(n.addEventListener)&&(0,Ni.m)(n.removeEventListener)}(n)?b0.map(d=>m=>n[d](e,m,t)):function LN(n){return(0,Ni.m)(n.addListener)&&(0,Ni.m)(n.removeListener)}(n)?v0.map(m1(n,e)):function VN(n){return(0,Ni.m)(n.on)&&(0,Ni.m)(n.off)}(n)?g1.map(m1(n,e)):[];if(!i&&(0,FN.z)(n))return(0,En.z)(d=>Xr(d,e,t))((0,fr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new kn.y(d=>{const m=(...y)=>d.next(1<y.length?y:y[0]);return i(m),()=>l(m)})}function m1(n,e){return t=>r=>n[t](e,r)}var w0=O(4986),UN=O(3532);function E0(n=0,e,t=w0.P){let r=-1;return null!=e&&((0,UN.K)(e)?t=e:r=e),new kn.y(i=>{let l=function jN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}const{isArray:GN}=Array;function _1(n){return 1===n.length&&GN(n[0])?n[0]:n}var Mp=O(5032);const Jm=new kn.y(Mp.Z);function Dh(...n){const e=(0,Hi.jO)(n),t=_1(n);return t.length?new kn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,fr.Xf)(t[d]).subscribe((0,rn.x)(r,m=>{if(i[d].push(m),i.every(y=>y.length)){const y=i.map(E=>E.shift());r.next(e?e(...y):y),i.some((E,S)=>!E.length&&l[S])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):zi.E}function Cr(n){return(0,hr.e)((e,t)=>{(0,fr.Xf)(n).subscribe((0,rn.x)(t,()=>t.complete(),Mp.Z)),!t.closed&&e.subscribe(t)})}function So(n,e=Hs.y){return n=null!=n?n:C0,(0,hr.e)((t,r)=>{let i,l=!0;t.subscribe((0,rn.x)(r,d=>{const m=e(d);(l||!n(i,m))&&(l=!1,i=m,r.next(d))}))})}function C0(n,e){return n===e}function Xm(...n){const e=(0,Hi.jO)(n);return(0,hr.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),m=!1;for(let y=0;y<i;y++)(0,fr.Xf)(n[y]).subscribe((0,rn.x)(r,E=>{l[y]=E,!m&&!d[y]&&(d[y]=!0,(m=d.every(Hs.y))&&(d=null))},Mp.Z));t.subscribe((0,rn.x)(r,y=>{if(m){const E=[y,...l];r.next(e?e(...E):E)}}))})}let L1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),$1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[L1]]}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$1]}),n})();Math,Math,Math;const Vb=["*"];function Bb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){const l=c.CHM(t).$implicit,d=c.oxw();return d.focus(),d.select(l.id,d.NgbSlideEventSource.INDICATOR)}),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw();c.ekj("active",t.id===r.activeId),c.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function Ub(n,e){}function jb(n,e){if(1&n&&(c.TgZ(0,"div",7)(1,"span",8),c.SDv(2,9),c.qZA(),c.YNc(3,Ub,0,0,"ng-template",10),c.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;c.Q6J("id","slide-"+t.id),c.xp6(2),c.pQV(r+1)(i),c.QtT(2),c.xp6(1),c.Q6J("ngTemplateOutlet",t.tplRef)}}function Gb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){return c.CHM(t),c.oxw().arrowLeft()}),c._UZ(1,"span",12),c.TgZ(2,"span",8),c.SDv(3,13),c.qZA()()}}function Hb(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){return c.CHM(t),c.oxw().arrowRight()}),c._UZ(1,"span",15),c.TgZ(2,"span",8),c.SDv(3,16),c.qZA()()}}const Yb=["dialog"];function Qu(n){return null!=n}function Xu(n){return(n||document.body).getBoundingClientRect()}const oy={animation:!0,transitionTimerDelayMs:5},XC=()=>{},{transitionTimerDelayMs:ay}=oy,zh=new Map,pi=(n,e,t,r)=>{let i=r.context||{};const l=zh.get(e);if(l)switch(r.runningTransition){case"continue":return zi.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),zh.delete(e)}const d=t(e,r.animation,i)||XC;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),ft(void 0).pipe(function YC(n){return e=>new kn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new Cn.x,y=new Cn.x,E=m.pipe(function Qm(...n){return e=>vo(e,ft(...n))}(!0));zh.set(e,{transition$:m,complete:()=>{y.next(),y.complete()},context:i});const S=function QC(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const N=Xr(e,"transitionend").pipe(Cr(E),Fn(({target:V})=>V===e));(function ja(...n){return 1===(n=_1(n)).length?(0,fr.Xf)(n[0]):new kn.y(function Ym(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,fr.Xf)(n[r]).subscribe((0,rn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(E0(S+ay).pipe(Cr(E)),N,y).pipe(Cr(E)).subscribe(()=>{zh.delete(e),n.run(()=>{d(),m.next(),m.complete()})})}),m.asObservable()};let ag=(()=>{class n{constructor(){this.animation=oy.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),_w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var fa=(()=>{return(n=fa||(fa={})).START="start",n.END="end",fa;var n})();const Ew=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Kh=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},vd=n=>{Kh(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},aI=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Ew(n)?Kh(r):(r.add("carousel-item-"+(t===fa.START?"next":"prev")),Xu(n),r.add("carousel-item-"+t)),()=>{vd(r),r.add("active")}):(Kh(r),vd(r),void r.add("active"))},Dw=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Ew(n)?Kh(r):r.add("carousel-item-"+t),()=>{vd(r),r.remove("active")}):(Kh(r),vd(r),void r.remove("active"))};let lI=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ag))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cw=0,dy=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Cw++,this.slid=new c.vpe}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),hy=(()=>{class n{constructor(t,r,i,l,d){this._platformId=r,this._ngZone=i,this._cd=l,this._container=d,this.NgbSlideEventSource=bd,this._destroy$=new Cn.x,this._interval$=new yn(0),this._mouseHover$=new yn(!1),this._focused$=new yn(!1),this._pauseOnHover$=new yn(!1),this._pauseOnFocus$=new yn(!1),this._pause$=new yn(!1),this._wrap$=new yn(!1),this.slide=new c.vpe,this.slid=new c.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(bd.ARROW_LEFT)}arrowRight(){this.focus(),this.next(bd.ARROW_RIGHT)}ngAfterContentInit(){(function xr(n){return n===Os})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=ea([this.slide.pipe((0,ot.U)(r=>r.current),ee(this.activeId)),this._wrap$,this.slides.changes.pipe(ee(null))]).pipe((0,ot.U)(([r,i])=>{const l=this.slides.toArray(),d=this._getSlideIdxById(r);return i?l.length>1:d<l.length-1}),So());ea([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,ot.U)(([r,i,l,d,m,y,E])=>r||i&&l||d&&m||!E?0:y),So(),L(r=>r>0?E0(r,r):Jm),Cr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(bd.TIMER)))}),this.slides.changes.pipe(Cr(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(r=>(n=>{var e;null===(e=zh.get(n))||void 0===e||e.complete()})(this._getSlideElement(r))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,q.q)(1)).subscribe(()=>{for(const{id:r}of this.slides){const i=this._getSlideElement(r);r===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),fa.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),fa.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const l=this._transitionIds;if(l&&(l[0]!==t||l[1]!==this.activeId))return;let d=this._getSlideById(t);if(d&&d.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:d.id,direction:r,paused:this._pause$.value,source:i});const m={animation:this.animation,runningTransition:"stop",context:{direction:r}},y=[],E=this._getSlideById(this.activeId);if(E){const V=pi(this._ngZone,this._getSlideElement(E.id),Dw,m);V.subscribe(()=>{E.slid.emit({isShown:!1,direction:r,source:i})}),y.push(V)}const S=this.activeId;this.activeId=d.id;const N=this._getSlideById(this.activeId),F=pi(this._ngZone,this._getSlideElement(d.id),aI,m);F.subscribe(()=>{null==N||N.slid.emit({isShown:!0,direction:r,source:i})}),y.push(F),Dh(...y).pipe((0,q.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:S,current:d.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?fa.END:fa.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lI),c.Y36(c.Lbi),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,dy,4),2&t){let l;c.iGM(l=c.CRH())&&(r.slides=l)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&c.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(c.uIk("aria-activedescendant","slide-"+r.activeId),c.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,Bb,1,5,"button",1),c.qZA(),c.TgZ(2,"div",2),c.YNc(3,jb,4,4,"div",3),c.qZA(),c.YNc(4,Gb,4,0,"button",4),c.YNc(5,Hb,4,0,"button",5)),2&t&&(c.ekj("visually-hidden",!r.showNavigationIndicators),c.xp6(1),c.Q6J("ngForOf",r.slides),c.xp6(2),c.Q6J("ngForOf",r.slides),c.xp6(1),c.Q6J("ngIf",r.showNavigationArrows),c.xp6(1),c.Q6J("ngIf",r.showNavigationArrows))},directives:[On,jo,vr],encapsulation:2,changeDetection:0}),n})();var bd=(()=>{return(n=bd||(bd={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",bd;var n})();let Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var pr=(()=>{return(n=pr||(pr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",pr;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Mw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Rw(n){const e=Array.from(n.querySelectorAll(Mw)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Xw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn,pb]]}),n})(),fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),Dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class tc{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let nE=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,q.q)(1)).subscribe(()=>{pi(this._zone,this._el.nativeElement,(t,r)=>{r&&Xu(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return pi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Cy{close(e){}dismiss(e){}}class rE{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Cn.x,this._dismissed=new Cn.x,this._hidden=new Cn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Cr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Cr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function uw(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ft(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Dh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var cf=(()=>{return(n=cf||(cf={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",cf;var n})();let zI=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Cn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Cn.x,this.hidden=new Cn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,q.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=Dh(pi(this._zone,t,()=>t.classList.remove("show"),r),pi(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};Dh(pi(this._zone,this._elRef.nativeElement,(l,d)=>{d&&Xu(l),l.classList.add("show")},t),pi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xr(t,"keydown").pipe(Cr(this._closed$),Fn(i=>i.which===pr.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(cf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Xr(this._dialogEl.nativeElement,"mousedown").pipe(Cr(this._closed$),(0,Jn.b)(()=>r=!1),L(()=>Xr(t,"mouseup").pipe(Cr(this._closed$),(0,q.q)(1))),Fn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Xr(t,"click").pipe(Cr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(cf.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=Rw(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&pi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ie),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(Yb,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Vb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),iR=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const m=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${m+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iE=(()=>{class n{constructor(t,r,i,l,d,m){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=m,this._activeWindowCmptHasChanged=new Cn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Xr(e,"focusin").pipe(Cr(t),(0,ot.U)(l=>l.target));Xr(e,"keydown").pipe(Cr(t),Fn(l=>l.which===pr.Tab),Xm(i)).subscribe(([l,d])=>{const[m,y]=Rw(e);(d===m||d===e)&&l.shiftKey&&(y.focus(),l.preventDefault()),d===y&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&Xr(e,"click").pipe(Cr(t),Xm(i),(0,ot.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,l){const d=l.container instanceof HTMLElement?l.container:Qu(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),y=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!d)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const E=new Cy,S=this._getContentRef(t,l.injector||r,i,E,l);let N=!1!==l.backdrop?this._attachBackdrop(t,d):void 0,F=this._attachWindowComponent(t,d,S),V=new rE(F,S,N,l.beforeDismiss);return this._registerModalRef(V),this._registerWindowCmpt(F),V.result.then(y,y),E.close=W=>{V.close(W)},E.dismiss=W=>{V.dismiss(W)},this._applyWindowOptions(F.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),N&&N.instance&&(this._applyBackdropOptions(N.instance,l),N.changeDetectorRef.detectChanges()),F.changeDetectorRef.detectChanges(),V}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let l=t.resolveComponentFactory(nE).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,r,i){let d=t.resolveComponentFactory(zI).create(this._injector,i.nodes);return this._applicationRef.attachView(d.hostView),r.appendChild(d.location.nativeElement),d}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Qu(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Qu(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l,d){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,l):function lw(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,d):new tc([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new tc([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new tc([[r]])}_createFromComponent(t,r,i,l,d){const m=t.resolveComponentFactory(i),y=c.zs3.create({providers:[{provide:Cy,useValue:l}],parent:r}),E=m.create(y),S=E.location.nativeElement;return d.scrollable&&S.classList.add("component-host-scrollable"),this._applicationRef.attachView(E.hostView),new tc([[S]],E.hostView,E)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(ie),c.LFG(iR),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sR=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ag))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oR=(()=>{class n{constructor(t,r,i,l){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=l}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(iE),c.LFG(sR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oR]}),n})(),mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),XI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),fE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),gE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),My=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})(),Ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function CR(){return 100}});let gT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yn]]}),n})();const AR=[mw,_w,cy,Zh,wd,Xw,Dy,qI,mg,XI,yg,hE,fE,gE,My,Ry,gT];let NR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[AR,mw,_w,cy,Zh,wd,Xw,Dy,qI,mg,XI,yg,hE,fE,gE,My,Ry,gT]}),n})(),MR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:13,vars:0,consts:[[1,"d-flex","flex-column","align-items-center","bg-light","pt-5","pb-3"],[1,"pb-3"],[1,"d-inline-block"],[1,"fa","fa-facebook"],[1,"d-inline-block","mx-3"],[1,"fa","fa-twitter"],[1,"fa","fa-instagram"],[1,"mb-1"],[1,"text-muted"]],template:function(t,r){1&t&&(c.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2),c._UZ(4,"i",3),c.qZA(),c.TgZ(5,"div",4),c._UZ(6,"i",5),c.qZA(),c.TgZ(7,"div",2),c._UZ(8,"i",6),c.qZA()(),c.TgZ(9,"p",7),c._uU(10,"sismealsrecipes@gmail.com"),c.qZA(),c.TgZ(11,"p",8),c._uU(12,"\xa9 SisMeals Recipes"),c.qZA()()())},styles:[""]}),n})();function RR(n,e){1&n&&(c.TgZ(0,"div",9),c._UZ(1,"img",10),c.qZA(),c.TgZ(2,"div",11)(3,"h3"),c._uU(4,"Sisters"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Nulla vitae elit libero, a pharetra augue mollis interdum."),c.qZA()())}function mT(n,e){1&n&&(c.TgZ(0,"div",9),c._UZ(1,"img",12),c.qZA(),c.TgZ(2,"div",11)(3,"h3"),c._uU(4,"Recipes"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."),c.qZA()())}function vg(n,e){1&n&&(c.TgZ(0,"div",9),c._UZ(1,"img",13),c.qZA(),c.TgZ(2,"div",11)(3,"h3"),c._uU(4,"Ideas"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Praesent commodo cursus magna, vel scelerisque nisl consectetur."),c.qZA()())}let xy=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:26,vars:0,consts:[["ngbSlide",""],[1,"container","mt-5","mb-5"],[1,"row"],[1,"col-md-8","d-flex","flex-column","justify-content-center"],[1,"mb-4"],[1,"col-md-4","d-flex","flex-column","align-items-end"],["src","../../../assets/home_carousel/4.jpg","alt","",1,"home_image-circle"],["src","../../../assets/home_images/sisters.jpg","alt","",1,"home_image-introduction"],[1,"col-md-4","d-flex","flex-column","align-items-start"],[1,"picsum-img-wrapper","carousel-img"],["src","../../../assets/home_carousel/1.jpg","alt","Random first slide"],[1,"carousel-caption"],["src","../../../assets/home_carousel/2.jpg","alt","Random second slide"],["src","../../../assets/home_carousel/3.jpg","alt","Random third slide"]],template:function(t,r){1&t&&(c.TgZ(0,"div")(1,"ngb-carousel"),c.YNc(2,RR,7,0,"ng-template",0),c.YNc(3,mT,7,0,"ng-template",0),c.YNc(4,vg,7,0,"ng-template",0),c.qZA(),c.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"h2",4),c._uU(9,"Who are we?"),c.qZA(),c.TgZ(10,"p"),c._uU(11," Stare at wall turn and meow stare at wall some more meow again continue staring throw down all the stuff in the kitchen hide when guests come over, or pet right here, no not there, here, no fool, right here that other cat smells funny you should really give me all the treats because i smell the best and omg you finally got the right spot and i love you right now. I shredded your linens for you cat milk copy park pee walk owner escape bored tired cage droppings sick vet vomit annoy the old grumpy cat, start a fight and then retreat to wash when i lose sit and stare meow to be let in so jump up to edge of bath, fall in then scramble in a mad panic to get out. "),c.qZA()(),c.TgZ(12,"div",5),c._UZ(13,"img",6),c.qZA()()(),c.TgZ(14,"div"),c._UZ(15,"img",7),c.qZA(),c.TgZ(16,"div",1)(17,"div",2)(18,"div",8),c._UZ(19,"img",6),c.qZA(),c.TgZ(20,"div",3)(21,"h2",4),c._uU(22,"What are we doing?"),c.qZA(),c.TgZ(23,"p"),c._uU(24," Stare at wall turn and meow stare at wall some more meow again continue staring throw down all the stuff in the kitchen hide when guests come over, or pet right here, no not there, here, no fool, right here that other cat smells funny you should really give me all the treats because i smell the best and omg you finally got the right spot and i love you right now. I shredded your linens for you cat milk copy park pee walk owner escape bored tired cage droppings sick vet vomit annoy the old grumpy cat, start a fight and then retreat to wash when i lose sit and stare meow to be let in so jump up to edge of bath, fall in then scramble in a mad panic to get out. "),c.qZA()()()(),c._UZ(25,"app-footer"),c.qZA())},directives:[hy,dy,MR],styles:[".carousel-img[_ngcontent-%COMP%]{width:100vw;max-width:100vw;height:90vh;max-height:90vh;object-fit:cover}.home_image-circle[_ngcontent-%COMP%]{max-width:17vw;border-radius:50%}.home_image-introduction[_ngcontent-%COMP%]{width:100vw;max-width:100vw;height:90vh;max-height:90vh;object-fit:cover}"]}),n})();var gi=O(5813);function bg(){return(0,hr.e)((n,e)=>{let t,r=!1;n.subscribe((0,rn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var it,ri=O(2011),Oy=(O(4087),O(3942)),ve=O(5861),nc=O(9681),Td=O(4859),_a=O(1877),Vt=O(2090),xR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ll={},yE=yE||{},At=xR||self;function wg(){}function Py(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function df(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Eg="closure_uid_"+(1e9*Math.random()>>>0),vE=0;function bE(n,e,t){return n.call.apply(n.bind,arguments)}function vT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ii(n,e,t){return(ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bE:vT).apply(null,arguments)}function hf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Sr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function rc(){this.s=this.s,this.o=this.o}var ky={};rc.prototype.s=!1,rc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yT(n){return Object.prototype.hasOwnProperty.call(n,Eg)&&n[Eg]||(n[Eg]=++vE)}(this);delete ky[n]}},rc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},DE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function bT(n){return Array.prototype.concat.apply([],arguments)}function CE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Dg(n){return/^[\s\xa0]*$/.test(n)}var Qi,IE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ji(n,e){return-1!=n.indexOf(e)}function TE(n,e){return n<e?-1:n>e?1:0}e:{var wT=At.navigator;if(wT){var ET=wT.userAgent;if(ET){Qi=ET;break e}}Qi=""}function Fy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DT(n){const e={};for(const t in n)e[t]=n[t];return e}var CT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IT(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<CT.length;l++)t=CT[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function SE(n){return SE[" "](n),n}SE[" "]=wg;var D,n,o=Ji(Qi,"Opera"),a=Ji(Qi,"Trident")||Ji(Qi,"MSIE"),u=Ji(Qi,"Edge"),h=u||a,p=Ji(Qi,"Gecko")&&!(Ji(Qi.toLowerCase(),"webkit")&&!Ji(Qi,"Edge"))&&!(Ji(Qi,"Trident")||Ji(Qi,"MSIE"))&&!Ji(Qi,"Edge"),v=Ji(Qi.toLowerCase(),"webkit")&&!Ji(Qi,"Edge");function w(){var n=At.document;return n?n.documentMode:void 0}e:{var A="",M=(n=Qi,p?/rv:([^\);]+)(\)|;)/.exec(n):u?/Edge\/([\d\.]+)/.exec(n):a?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):v?/WebKit\/(\S+)/.exec(n):o?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(M&&(A=M?M[1]:""),a){var k=w();if(null!=k&&k>parseFloat(A)){D=String(k);break e}}D=A}var U={};var He=At.document&&a&&(w()||parseInt(D,10))||void 0,rt=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",wg,e),At.removeEventListener("test",wg,e)}catch(t){}return n}();function ye(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ct(n,e){if(ye.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(p){e:{try{SE(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kt[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ct.Z.h.call(this)}}ye.prototype.h=function(){this.defaultPrevented=!0},Sr(ct,ye);var Kt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),bs=0;function ic(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++bs,this.ca=this.fa=!1}function Sd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ad(n){this.src=n,this.g={},this.h=0}function ff(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=EE(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Sd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pf(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Ad.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=pf(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new ic(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var gf="closure_lm_"+(1e6*Math.random()|0),mf={};function Cg(n,e,t,r,i){if(r&&r.once)return PR(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Cg(n,e[l],t,r,i);return null}return t=NT(t),n&&n[nn]?n.N(e,t,df(r)?!!r.capture:!!r,i):Ig(n,e,t,!1,r,i)}function Ig(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=df(i)?!!i.capture:!!i,m=ST(n);if(m||(n[gf]=m=new Ad(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function Ly(){var e=nL;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rt||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(FR(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PR(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)PR(n,e[l],t,r,i);return null}return t=NT(t),n&&n[nn]?n.O(e,t,df(r)?!!r.capture:!!r,i):Ig(n,e,t,!0,r,i)}function kR(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)kR(n,e[l],t,r,i);else r=df(r)?!!r.capture:!!r,t=NT(t),n&&n[nn]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pf(l=n.g[e],t,r,i))&&(Sd(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=ST(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pf(e,t,r,i)),(t=-1<n?e[n]:null)&&TT(t))}function TT(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[nn])ff(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(FR(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ST(e))?(ff(t,n),0==t.h&&(t.src=null,e[gf]=null)):Sd(n)}}}function FR(n){return n in mf?mf[n]:mf[n]="on"+n}function nL(n,e){if(n.ca)n=!0;else{e=new ct(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&TT(n),n=t.call(r,e)}return n}function ST(n){return(n=n[gf])instanceof Ad?n:null}var AT="__closure_events_fn_"+(1e9*Math.random()>>>0);function NT(n){return"function"==typeof n?n:(n[AT]||(n[AT]=function(e){return n.handleEvent(e)}),n[AT])}function mi(){rc.call(this),this.i=new Ad(this),this.P=this,this.I=null}function Fi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ye(e,n);else if(e instanceof ye)e.target=e.target||n;else{var i=e;IT(e=new ye(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=AE(d,r,!0,e)&&i}if(i=AE(d=e.g=n,r,!0,e)&&i,i=AE(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=AE(d=e.g=t[l],r,!1,e)&&i}function AE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,y=d.ia||d.src;d.fa&&ff(n.i,d),i=!1!==m.call(y,r)&&i}}return i&&!r.defaultPrevented}Sr(mi,rc),mi.prototype[nn]=!0,mi.prototype.removeEventListener=function(n,e,t,r){kR(this,n,e,t,r)},mi.prototype.M=function(){if(mi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sd(t[r]);delete n.g[e],n.h--}}this.I=null},mi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},mi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var MT=At.JSON.stringify;function rL(){var n=VR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xT,LR=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sL,n=>n.reset());class sL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oL(n){At.setTimeout(()=>{throw n},0)}function RT(n,e){xT||function aL(){var n=At.Promise.resolve(void 0);xT=function(){n.then(lL)}}(),OT||(xT(),OT=!0),VR.add(n,e)}var OT=!1,VR=new class iL{constructor(){this.h=this.g=null}add(e,t){const r=LR.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lL(){for(var n;n=rL();){try{n.h.call(n.g)}catch(t){oL(t)}var e=LR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}OT=!1}function NE(n,e){mi.call(this),this.h=n||1,this.g=e||At,this.j=ii(this.kb,this),this.l=Date.now()}function PT(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function kT(n,e,t){if("function"==typeof n)t&&(n=ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:At.setTimeout(n,e||0)}function BR(n){n.g=kT(()=>{n.g=null,n.i&&(n.i=!1,BR(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Sr(NE,mi),(it=NE.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fi(this,"tick"),this.da&&(PT(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){NE.Z.M.call(this),PT(this),delete this.g};class uL extends rc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BR(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vy(n){rc.call(this),this.h=n,this.g={}}Sr(Vy,rc);var UR=[];function jR(n,e,t,r){Array.isArray(t)||(t&&(UR[0]=t.toString()),t=UR);for(var i=0;i<t.length;i++){var l=Cg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function GR(n){Fy(n.g,function(e,t){this.g.hasOwnProperty(t)&&TT(e)},n),n.g={}}function ME(){this.g=!0}function Tg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return MT(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Vy.prototype.M=function(){Vy.Z.M.call(this),GR(this)},Vy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ME.prototype.Aa=function(){this.g=!1},ME.prototype.info=function(){};var _f={},HR=null;function RE(){return HR=HR||new mi}function $R(n){ye.call(this,_f.Ma,n)}function By(n){const e=RE();Fi(e,new $R(e,n))}function WR(n,e){ye.call(this,_f.STAT_EVENT,n),this.stat=e}function ws(n){const e=RE();Fi(e,new WR(e,n))}function zR(n,e){ye.call(this,_f.Na,n),this.size=e}function Uy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},e)}_f.Ma="serverreachability",Sr($R,ye),_f.STAT_EVENT="statevent",Sr(WR,ye),_f.Na="timingevent",Sr(zR,ye);var xE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function FT(){}function ZR(){}FT.prototype.h=null;var BT,jy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function LT(){ye.call(this,"d")}function VT(){ye.call(this,"c")}function OE(){}function Gy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Vy(this),this.P=pL,this.W=new NE(n=h?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new YR}function YR(){this.i=null,this.g="",this.h=!1}Sr(LT,ye),Sr(VT,ye),Sr(OE,FT),OE.prototype.g=function(){return new XMLHttpRequest},OE.prototype.i=function(){return{}},BT=new OE;var pL=45e3,UT={},PE={};function jT(n,e,t){n.K=1,n.v=BE(sc(e)),n.s=t,n.U=!0,JR(n,null)}function JR(n,e){n.F=Date.now(),Hy(n),n.A=sc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ox(t.h,"t",r),n.C=0,t=n.l.H,n.h=new YR,n.g=Nx(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uL(ii(n.Ia,n,n.g),n.O)),jR(n.V,n.g,"readystatechange",n.gb),e=n.H?DT(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),By(1),function cL(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),y=0;y<m.length;y++){var E=m[y].split("=");if(1<E.length){var S=E[0];E=E[1];var N=S.split("_");d=2<=N.length&&"type"==N[1]?d+(S+"=")+E+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function QR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function XR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=gL(n,t),i==PE){4==e&&(n.o=4,ws(14),r=!1),Tg(n.j,n.m,null,"[Incomplete Response]");break}if(i==UT){n.o=4,ws(15),Tg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tg(n.j,n.m,i,null),GT(n,i)}QR(n)&&i!=PE&&i!=UT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ws(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),XT(e),e.L=!0,ws(11))):(Tg(n.j,n.m,t,"[Invalid Chunked Response]"),yf(n),$y(n))}function gL(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?PE:(t=Number(e.substring(t,r)),isNaN(t)?UT:(r+=1)+t>e.length?PE:(e=e.substr(r,t),n.C=r+t,e))}function Hy(n){n.Y=Date.now()+n.P,ex(n,n.P)}function ex(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uy(ii(n.eb,n),e)}function kE(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function $y(n){0==n.l.G||n.I||Ix(n.l,n)}function yf(n){kE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,PT(n.W),GR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function GT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||WT(t.i,n)))if(t.I=n.N,!n.J&&WT(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Uy(ii(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;WE(t),HE(t)}QT(t),ws(18)}if(1>=ux(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else wf(t,11)}else if((n.J||t.g==n)&&WE(t),!Dg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const S=E[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const N=E[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const F=E[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const W=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var l=r.i;!l.g&&(Ji(W,"spdy")||Ji(W,"quic")||Ji(W,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(zT(l,l.h),l.h=null))}if(r.D){const ne=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.sa=ne,Xn(r.F,r.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Ax(r,r.H?r.la:null,r.W),d.J){cx(r.i,d);var m=d,y=r.K;y&&m.setTimeout(y),m.B&&(kE(m),Hy(m)),r.g=d}else Dx(r);0<t.l.length&&$E(t)}else"stop"!=E[0]&&"close"!=E[0]||wf(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?wf(t,7):YT(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}By(4)}catch(E){}}function HT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Py(n)||"string"==typeof n)DE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Py(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function mL(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Py(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Sg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Sg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function $T(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(it=Gy.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const e=this.L;e&&3==oc(n)?e.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const S=oc(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>S)&&(3!=S||h||this.g&&(this.h.h||this.g.ga()||yx(this.g)))){this.I||4!=S||7==e||By(8==e||0>=N?3:2),kE(this);var t=this.g.ba();this.N=t;t:if(QR(this)){var r=yx(this.g);n="";var i=r.length,l=4==oc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yf(this),$y(this);var d="";break t}this.h.i=new At.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function dL(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,y=this.g;if((m=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dg(m)){var E=m;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ws(12),yf(this),$y(this);break e}Tg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GT(this,t)}this.U?(XR(this,S,d),h&&this.i&&3==S&&(jR(this.V,this.W,"tick",this.fb),this.W.start())):(Tg(this.j,this.m,d,null),GT(this,d)),4==S&&yf(this),this.i&&!this.I&&(4==S?Ix(this.l,this):(this.i=!1,Hy(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),yf(this),$y(this)}}}catch(S){}},it.fb=function(){if(this.g){var n=oc(this.g),e=this.g.ga();this.C<e.length&&(kE(this),XR(this,n,e),this.i&&4!=n&&Hy(this))}},it.cancel=function(){this.I=!0,yf(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(By(3),ws(17)),yf(this),this.o=2,$y(this)):ex(this,this.Y-n)},(it=Sg.prototype).R=function(){$T(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},it.T=function(){return $T(this),this.g.concat()},it.get=function(n,e){return vf(this.h,n)?this.h[n]:e},it.set=function(n,e){vf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},it.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var tx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bf){this.g=void 0!==e?e:n.g,FE(this,n.j),this.s=n.s,LE(this,n.i),VE(this,n.m),this.l=n.l,e=n.h;var t=new qy;t.i=e.i,e.g&&(t.g=new Sg(e.g),t.h=e.h),nx(this,t),this.o=n.o}else n&&(t=String(n).match(tx))?(this.g=!!e,FE(this,t[1]||"",!0),this.s=Wy(t[2]||""),LE(this,t[3]||"",!0),VE(this,t[4]),this.l=Wy(t[5]||"",!0),nx(this,t[6]||"",!0),this.o=Wy(t[7]||"")):(this.g=!!e,this.h=new qy(null,this.g))}function sc(n){return new bf(n)}function FE(n,e,t){n.j=t?Wy(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function LE(n,e,t){n.i=t?Wy(e,!0):e}function VE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nx(n,e,t){e instanceof qy?(n.h=e,function IL(n,e){e&&!n.j&&(Nd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ix(this,r),ox(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=zy(e,DL)),n.h=new qy(e,n.g))}function Xn(n,e,t){n.h.set(e,t)}function BE(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wy(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zy(e,rx,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zy(e,rx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(zy(t,"/"==t.charAt(0)?EL:wL,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zy(t,CL)),n.join("")};var rx=/[#\/\?@]/g,wL=/[#\?:]/g,EL=/[#\?]/g,DL=/[#\?@]/g,CL=/#/g;function qy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nd(n){n.g||(n.g=new Sg,n.h=0,n.i&&function _L(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ix(n,e){Nd(n),e=Ag(n,e),vf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&$T(n)))}function sx(n,e){return Nd(n),e=Ag(n,e),vf(n.g.h,e)}function ox(n,e,t){ix(n,e),0<t.length&&(n.i=null,n.g.set(Ag(n,e),CE(t)),n.h+=t.length)}function Ag(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ax(n){this.l=n||SL,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=qy.prototype).add=function(n,e){Nd(this),this.i=null,n=Ag(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Nd(this),this.g.forEach(function(t,r){DE(t,function(i){n.call(e,i,r,this)},this)},this)},it.T=function(){Nd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},it.R=function(n){Nd(this);var e=[];if("string"==typeof n)sx(this,n)&&(e=bT(e,this.g.get(Ag(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=bT(e,n[t])}return e},it.set=function(n,e){return Nd(this),this.i=null,sx(this,n=Ag(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var SL=10;function lx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ux(n){return n.h?1:n.g?n.g.size:0}function WT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function zT(n,e){n.g?n.g.add(e):n.h=e}function cx(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dx(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return CE(n.i)}function qT(){}function AL(){this.g=new qT}function NL(n,e,t){const r=t||"";try{HT(n,function(i,l){let d=i;df(i)&&(d=MT(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function UE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Ky(n){this.l=n.$b||null,this.j=n.ib||!1}function jE(n,e){mi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=KT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ax.prototype.cancel=function(){if(this.i=dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qT.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},qT.prototype.parse=function(n){return At.JSON.parse(n,void 0)},Sr(Ky,FT),Ky.prototype.g=function(){return new jE(this.l,this.j)},Ky.prototype.i=function(n){return function(){return n}}({}),Sr(jE,mi);var KT=0;function hx(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Zy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yy(n)}function Yy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=jE.prototype).open=function(n,e){if(this.readyState!=KT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yy(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||At).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zy(this)),this.readyState=KT},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yy(this)),this.g&&(this.readyState=3,Yy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hx(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zy(this):Yy(this),3==this.readyState&&hx(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,Zy(this))},it.Ta=function(n){this.g&&(this.response=n,Zy(this))},it.ha=function(){this.g&&Zy(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RL=At.JSON.parse;function Vr(n){mi.call(this),this.headers=new Sg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fx,this.K=this.L=!1}Sr(Vr,mi);var fx="",xL=/^https?$/i,OL=["POST","PUT"];function kL(n){return"content-type"==n.toLowerCase()}function px(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gx(n),GE(n)}function gx(n){n.D||(n.D=!0,Fi(n,"complete"),Fi(n,"error"))}function mx(n){if(n.h&&void 0!==yE&&(!n.C[1]||4!=oc(n)||2!=n.ba()))if(n.v&&4==oc(n))kT(n.Fa,0,n);else if(Fi(n,"readystatechange"),4==oc(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(tx)[1]||null;if(!i&&At.self&&At.self.location){var l=At.self.location.protocol;i=l.substr(0,l.length-1)}r=!xL.test(i?i.toLowerCase():"")}t=r}if(t)Fi(n,"complete"),Fi(n,"success");else{n.m=6;try{var d=2<oc(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.ba()+"]",gx(n)}}finally{GE(n)}}}function GE(n,e){if(n.g){_x(n);const t=n.g,r=n.C[0]?wg:null;n.g=null,n.C=null,e||Fi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function _x(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function oc(n){return n.g?n.g.readyState:0}function yx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ZT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function FL(n){let e="";return Fy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function Jy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vx(n){this.za=0,this.l=[],this.h=new ME,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jy("baseRetryDelayMs",5e3,n),this.$a=Jy("retryDelaySeedMs",1e4,n),this.Ya=Jy("forwardChannelMaxRetries",2,n),this.ra=Jy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ax(n&&n.concurrentRequestLimit),this.Ca=new AL,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function YT(n){if(bx(n),3==n.G){var e=n.V++,t=sc(n.F);Xn(t,"SID",n.J),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),Qy(n,t),(e=new Gy(n,n.h,e,void 0)).K=2,e.v=BE(sc(t)),t=!1,At.navigator&&At.navigator.sendBeacon&&(t=At.navigator.sendBeacon(e.v.toString(),"")),!t&&At.Image&&((new Image).src=e.v,t=!0),t||(e.g=Nx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Hy(e)}Sx(n)}function HE(n){n.g&&(XT(n),n.g.cancel(),n.g=null)}function bx(n){HE(n),n.u&&(At.clearTimeout(n.u),n.u=null),WE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function JT(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&$E(n)}function $E(n){lx(n.i)||n.m||(n.m=!0,RT(n.Ha,n),n.C=0)}function wx(n,e){var t;t=e?e.m:n.V++;const r=sc(n.F);Xn(r,"SID",n.J),Xn(r,"RID",t),Xn(r,"AID",n.U),Qy(n,r),n.o&&n.s&&ZT(r,n.o,n.s),t=new Gy(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ex(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),zT(n.i,t),jT(t,r,e)}function Qy(n,e){n.j&&HT({},function(t,r){Xn(e,r,t)})}function Ex(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ii(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let y=0;y<t;y++){let E=i[y].h;const S=i[y].g;if(E-=l,0>E)l=Math.max(0,i[y].h-100),m=!1;else try{NL(S,d,"req"+E+"_")}catch(N){r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Dx(n){n.g||n.u||(n.Y=1,RT(n.Ga,n),n.A=0)}function QT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Uy(ii(n.Ga,n),Tx(n,n.A)),n.A++,0))}function XT(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function Cx(n){n.g=new Gy(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=sc(n.oa);Xn(e,"RID","rpc"),Xn(e,"SID",n.J),Xn(e,"CI",n.N?"0":"1"),Xn(e,"AID",n.U),Qy(n,e),Xn(e,"TYPE","xmlhttp"),n.o&&n.s&&ZT(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=BE(sc(e)),t.s=null,t.U=!0,JR(t,n)}function WE(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function Ix(n,e){var t=null;if(n.g==e){WE(n),XT(n),n.g=null;var r=2}else{if(!WT(n.i,e))return;t=e.D,cx(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Fi(r=RE(),new zR(r,t,e,i)),$E(n)}else Dx(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function LL(n,e){return!(ux(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Uy(ii(n.Ha,n,e),Tx(n,n.C)),n.C++,0)))}(n,e)||2==r&&QT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:wf(n,5);break;case 4:wf(n,10);break;case 3:wf(n,6);break;default:wf(n,2)}}function Tx(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function wf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ii(n.jb,n);t||(t=new bf("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||FE(t,"https"),BE(t)),function ML(n,e){const t=new ME;if(At.Image){const r=new Image;r.onload=hf(UE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=hf(UE,t,r,"TestLoadImage: error",!1,e),r.onabort=hf(UE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=hf(UE,t,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ws(2);n.G=0,n.j&&n.j.va(e),Sx(n),bx(n)}function Sx(n){n.G=0,n.I=-1,n.j&&((0!=dx(n.i).length||0!=n.l.length)&&(n.i.i.length=0,CE(n.l),n.l.length=0),n.j.ua())}function Ax(n,e,t){let r=function yL(n){return n instanceof bf?sc(n):new bf(n,void 0)}(t);if(""!=r.i)e&&LE(r,e+"."+r.i),VE(r,r.m);else{const i=At.location;r=function vL(n,e,t,r){var i=new bf(null,void 0);return n&&FE(i,n),e&&LE(i,e),t&&VE(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Fy(n.aa,function(i,l){Xn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Xn(r,e,t),Xn(r,"VER",n.ma),Qy(n,r),r}function Nx(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&n.Ba&&!n.qa?new Ky({ib:!0}):n.qa)).L=n.H,e}function Mx(){}function zE(){if(a&&!(10<=Number(He)))throw Error("Environmental error: no available transport.")}function Lo(n,e){mi.call(this),this.g=new vx(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Dg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ng(this)}function Rx(n){LT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xx(){VT.call(this),this.status=1}function Ng(n){this.g=n}(it=Vr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():BT.g(),this.C=function KR(n){return n.h||(n.h=n.i())}(this.u?this.u:BT),this.g.onreadystatechange=ii(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void px(this,l)}n=t||"";const i=new Sg(this.headers);r&&HT(r,function(l,d){i.set(d,l)}),r=function OR(n){e:{var e=kL;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=At.FormData&&n instanceof At.FormData,!(0<=EE(OL,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_x(this),0<this.B&&((this.K=function PL(n){return a&&function Z(){return function s(n){var e=U;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=IE(String(D)).split("."),t=IE("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=TE(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||TE(0==i[2].length,0==l[2].length)||TE(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.pa,this)):this.A=kT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){px(this,l)}},it.pa=function(){void 0!==yE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fi(this,"complete"),Fi(this,"abort"),GE(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),GE(this,!0)),Vr.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?mx(this):this.cb())},it.cb=function(){mx(this)},it.ba=function(){try{return 2<oc(this)?this.g.status:-1}catch(n){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},it.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),RL(e)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=vx.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Gy(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=DT(l),IT(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ex(this,i,e),Xn(t=sc(this.F),"RID",n),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),Qy(this,t),this.o&&l&&ZT(t,this.o,l),zT(this.i,i),this.Ra&&Xn(t,"TYPE","init"),this.ja?(Xn(t,"$req",e),Xn(t,"SID","null"),i.$=!0,jT(i,t,null)):jT(i,t,e),this.G=2}}else 3==this.G&&(n?wx(this,n):0==this.l.length||lx(this.i)||wx(this))},it.Ga=function(){if(this.u=null,Cx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Uy(ii(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ws(10),HE(this),Cx(this))},it.ab=function(){null!=this.v&&(this.v=null,HE(this),QT(this),ws(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ws(2)):(this.h.info("Failed to ping google.com"),ws(1))},(it=Mx.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},zE.prototype.g=function(n,e){return new Lo(n,e)},Sr(Lo,mi),Lo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),RT(ii(n.hb,n,e))),ws(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Ax(n,null,n.W),$E(n)},Lo.prototype.close=function(){YT(this.g)},Lo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,JT(this.g,e)}else this.v?((e={}).__data__=MT(n),JT(this.g,e)):JT(this.g,n)},Lo.prototype.M=function(){this.g.j=null,delete this.j,YT(this.g),delete this.g,Lo.Z.M.call(this)},Sr(Rx,LT),Sr(xx,VT),Sr(Ng,Mx),Ng.prototype.xa=function(){Fi(this.g,"a")},Ng.prototype.wa=function(n){Fi(this.g,new Rx(n))},Ng.prototype.va=function(n){Fi(this.g,new xx(n))},Ng.prototype.ua=function(){Fi(this.g,"b")},zE.prototype.createWebChannel=zE.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,xE.NO_ERROR=0,xE.TIMEOUT=8,xE.HTTP_ERROR=6,qR.COMPLETE="complete",ZR.EventType=jy,jy.OPEN="a",jy.CLOSE="b",jy.ERROR="c",jy.MESSAGE="d",mi.prototype.listen=mi.prototype.N,Vr.prototype.listenOnce=Vr.prototype.O,Vr.prototype.getLastError=Vr.prototype.La,Vr.prototype.getLastErrorCode=Vr.prototype.Da,Vr.prototype.getStatus=Vr.prototype.ba,Vr.prototype.getResponseJson=Vr.prototype.Qa,Vr.prototype.getResponseText=Vr.prototype.ga,Vr.prototype.send=Vr.prototype.ea;var VL=Ll.createWebChannelTransport=function(){return new zE},BL=Ll.getStatEventTarget=function(){return RE()},eS=Ll.ErrorCode=xE,UL=Ll.EventType=qR,jL=Ll.Event=_f,Ox=Ll.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GL=Ll.FetchXmlHttpFactory=Ky,qE=Ll.WebChannel=ZR,HL=Ll.XhrIo=Vr;const Px="@firebase/firestore";class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let Mg="9.6.10";const Md=new _a.Yd("@firebase/firestore");function tS(){return Md.logLevel}function Fe(n,...e){if(Md.logLevel<=_a.in.DEBUG){const t=e.map(nS);Md.debug(`Firestore (${Mg}): ${n}`,...t)}}function Br(n,...e){if(Md.logLevel<=_a.in.ERROR){const t=e.map(nS);Md.error(`Firestore (${Mg}): ${n}`,...t)}}function Xy(n,...e){if(Md.logLevel<=_a.in.WARN){const t=e.map(nS);Md.warn(`Firestore (${Mg}): ${n}`,...t)}}function nS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Mg}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function Mt(n,e){n||at()}function Ke(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Vt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class qL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KL{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new _i,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const E=d;e.enqueueRetryable((0,ve.Z)(function*(){yield E.promise,yield l(r.currentUser)}))},y=E=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new _i)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new kx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new Li(e)}}class ZL{constructor(e,t,r){this.type="FirstParty",this.user=Li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class YL{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ZL(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JL{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new Fx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Vo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function QL(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Vo.A=-1;class Lx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QL(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Rg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Vx(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Ar(0,0))}static max(){return new Tt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Bx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ef(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ux(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ev{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ev.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ev?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends ev{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const XL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends ev{construct(e,t,r){return new yi(e,t,r)}static isValidIdentifier(e){return XL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ne(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ne(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(l(),i++)}if(l(),d)throw new Ne(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(t)}static emptyPath(){return new yi([])}}class xg{constructor(e){this.fields=e,e.sort(yi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class si{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new si(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new si(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const tV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rd(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=tV.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Df(n){return"string"==typeof n?si.fromBase64String(n):si.fromUint8Array(n)}function rS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jx(n){const e=n.mapValue.fields.__previous_value__;return rS(e)?jx(e):e}function tv(n){const e=Rd(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class nV{constructor(e,t,r,i,l,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=y}}class ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}function Cf(n){return null==n}function nv(n){return 0===n&&1/n==-1/0}function Gx(n){return"number"==typeof n&&Number.isInteger(n)&&!nv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(e){this.path=e}static fromPath(e){return new We(dn.fromString(e))}static fromName(e){return new We(dn.fromString(e).popFirst(5))}static empty(){return new We(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new dn(e.slice()))}}const Hx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$x={nullValue:"NULL_VALUE"};function If(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rS(n)?4:Kx(n)?9:10:at()}function Vl(n,e){if(n===e)return!0;const t=If(n);if(t!==If(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tv(n).isEqual(tv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Rd(r.timestampValue),d=Rd(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Df(n.bytesValue).isEqual(Df(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gr(r.geoPointValue.latitude)===gr(i.geoPointValue.latitude)&&gr(r.geoPointValue.longitude)===gr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gr(r.integerValue)===gr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=gr(r.doubleValue),d=gr(i.doubleValue);return l===d?nv(l)===nv(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Rg(n.arrayValue.values||[],e.arrayValue.values||[],Vl);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(Bx(l)!==Bx(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!Vl(l[m],d[m])))return!1;return!0}(n,e);default:return at()}var i}function rv(n,e){return void 0!==(n.values||[]).find(t=>Vl(t,e))}function xd(n,e){if(n===e)return 0;const t=If(n),r=If(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=gr(i.integerValue||i.doubleValue),m=gr(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Wx(n.timestampValue,e.timestampValue);case 4:return Wx(tv(n),tv(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=Df(i),m=Df(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),m=l.split("/");for(let y=0;y<d.length&&y<m.length;y++){const E=Yt(d[y],m[y]);if(0!==E)return E}return Yt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Yt(gr(i.latitude),gr(l.latitude));return 0!==d?d:Yt(gr(i.longitude),gr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],m=l.values||[];for(let y=0;y<d.length&&y<m.length;++y){const E=xd(d[y],m[y]);if(E)return E}return Yt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},m=Object.keys(d),y=l.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const N=Yt(m[S],E[S]);if(0!==N)return N;const F=xd(d[m[S]],y[E[S]]);if(0!==F)return F}return Yt(m.length,E.length)}(n.mapValue,e.mapValue);default:throw at()}}function Wx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=Rd(n),r=Rd(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function Og(n){return iS(n)}function iS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Rd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Df(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=iS(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of i)d?d=!1:l+=",",l+=`${m}:${iS(r.fields[m])}`;return l+"}"}(n.mapValue):at();var e}function Pg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sS(n){return!!n&&"integerValue"in n}function iv(n){return!!n&&"arrayValue"in n}function zx(n){return!!n&&"nullValue"in n}function qx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function KE(n){return!!n&&"mapValue"in n}function sv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ef(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Kx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zx(n,e){return void 0===n?e:void 0===e||xd(n,e)>0?n:e}function Yx(n,e){return void 0===n?e:void 0===e||xd(n,e)<0?n:e}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!KE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sv(t)}setAll(e){let t=yi.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=sv(d):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());KE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];KE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ef(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Xi(sv(this.value))}}function Jx(n){const e=[];return Ef(n.fields,(t,r)=>{const i=new yi([t]);if(KE(r)){const l=Jx(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new xg(e)}class $n{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new $n(e,0,Tt.min(),Tt.min(),Xi.empty(),0)}static newFoundDocument(e,t,r){return new $n(e,1,t,Tt.min(),r,0)}static newNoDocument(e,t){return new $n(e,2,t,Tt.min(),Xi.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,Tt.min(),Xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ZE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function oS(n){return n.fields.find(e=>2===e.kind)}function kg(n){return n.fields.filter(e=>2!==e.kind)}ZE.UNKNOWN_ID=-1;class YE{constructor(e,t){this.fieldPath=e,this.kind=t}}class ov{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ov(0,lc.min())}}function Qx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new Ar(t+1,0):new Ar(t,r));return new lc(i,We.empty(),e)}function rV(n){return new lc(n.readTime,n.key,-1)}class lc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new lc(Tt.min(),We.empty(),-1)}static max(){return new lc(Tt.max(),We.empty(),-1)}}function iV(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}class sV{constructor(e,t=null,r=[],i=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=m,this.P=null}}function Xx(n,e=null,t=[],r=[],i=null,l=null,d=null){return new sV(n,e,t,r,i,l,d)}function Tf(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Og(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Og(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Og(r)).join(",")),e.P=t}return e.P}function av(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!pV(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Vl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nO(n.startAt,e.startAt)&&nO(n.endAt,e.endAt)}function JE(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function QE(n,e){return n.filters.filter(t=>t instanceof Vi&&t.field.isEqual(e))}class Vi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new aV(e,t,r):"array-contains"===t?new cV(e,r):"in"===t?new dV(e,r):"not-in"===t?new hV(e,r):"array-contains-any"===t?new fV(e,r):new Vi(e,t,r)}static V(e,t,r){return"in"===t?new lV(e,r):new uV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(xd(t,this.value)):null!==t&&If(this.value)===If(t)&&this.v(xd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aV extends Vi{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.v(t)}}class lV extends Vi{constructor(e,t){super(e,"in",t),this.keys=eO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uV extends Vi{constructor(e,t){super(e,"not-in",t),this.keys=eO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class cV extends Vi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iv(t)&&rv(t.arrayValue,this.value)}}class dV extends Vi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rv(this.value.arrayValue,t)}}class hV extends Vi{constructor(e,t){super(e,"not-in",t)}matches(e){if(rv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rv(this.value.arrayValue,t)}}class fV extends Vi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rv(this.value.arrayValue,r))}}class Od{constructor(e,t){this.position=e,this.inclusive=t}}class Fg{constructor(e,t="asc"){this.field=e,this.dir=t}}function pV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?We.comparator(We.fromName(d.referenceValue),t.key):xd(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function nO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vl(n.position[t],e.position[t]))return!1;return!0}class uc{constructor(e,t=null,r=[],i=[],l=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=y,this.D=null,this.C=null}}function rO(n,e,t,r,i,l,d,m){return new uc(n,e,t,r,i,l,d,m)}function Lg(n){return new uc(n)}function XE(n){return!Cf(n.limit)&&"F"===n.limitType}function eD(n){return!Cf(n.limit)&&"L"===n.limitType}function aS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lS(n){for(const e of n.filters)if(e.S())return e.field;return null}function uS(n){return null!==n.collectionGroup}function Vg(n){const e=Ke(n);if(null===e.D){e.D=[];const t=lS(e),r=aS(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Fg(t)),e.D.push(new Fg(yi.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Fg(yi.keyField(),l))}}}return e.D}function ya(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=Xx(e.path,e.collectionGroup,Vg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Vg(e))t.push(new Fg(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Od(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Od(e.startAt.position,!e.startAt.inclusive):null;e.C=Xx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function iO(n,e,t){return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lv(n,e){return av(ya(n),ya(e))&&n.limitType===e.limitType}function sO(n){return`${Tf(ya(n))}|lt:${n.limitType}`}function cS(n){return`Query(target=${function oV(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Og(r.value)}`;var r}).join(", ")}]`),Cf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Og(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Og(t)).join(",")),`Target(${e})`}(ya(n))}; limitType=${n.limitType})`}function dS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):We.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const m=tO(i,l,d);return i.inclusive?m<=0:m<0}(t.startAt,Vg(t),r)||t.endAt&&!function(i,l,d){const m=tO(i,l,d);return i.inclusive?m>=0:m>0}(t.endAt,Vg(t),r)));var t,r}function oO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aO(n){return(e,t)=>{let r=!1;for(const i of Vg(n)){const l=gV(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function gV(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(i,l,d){const m=l.data.field(i),y=d.data.field(i);return null!==m&&null!==y?xd(m,y):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function lO(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nv(e)?"-0":e}}function uO(n){return{integerValue:""+n}}function cO(n,e){return Gx(e)?uO(e):lO(n,e)}class tD{constructor(){this._=void 0}}function mV(n,e,t){return n instanceof Bg?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Sf?hO(n,e):n instanceof Af?fO(n,e):function(r,i){const l=dO(r,i),d=pO(l)+pO(r.k);return sS(l)&&sS(r.k)?uO(d):lO(r.M,d)}(n,e)}function _V(n,e,t){return n instanceof Sf?hO(n,e):n instanceof Af?fO(n,e):t}function dO(n,e){return n instanceof Ug?sS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Bg extends tD{}class Sf extends tD{constructor(e){super(),this.elements=e}}function hO(n,e){const t=gO(e);for(const r of n.elements)t.some(i=>Vl(i,r))||t.push(r);return{arrayValue:{values:t}}}class Af extends tD{constructor(e){super(),this.elements=e}}function fO(n,e){let t=gO(e);for(const r of n.elements)t=t.filter(i=>!Vl(i,r));return{arrayValue:{values:t}}}class Ug extends tD{constructor(e,t){super(),this.M=e,this.k=t}}function pO(n){return gr(n.integerValue||n.doubleValue)}function gO(n){return iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uv{constructor(e,t){this.field=e,this.transform=t}}class vV{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rD{}function bV(n,e,t){n instanceof cv?function(r,i,l){const d=r.value.clone(),m=vO(r.fieldTransforms,i,l.transformResults);d.setAll(m),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Nf?function(r,i,l){if(!nD(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=vO(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(yO(r)),m.setAll(d),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hS(n,e,t){var i;n instanceof cv?function(r,i,l){if(!nD(r.precondition,i))return;const d=r.value.clone(),m=bO(r.fieldTransforms,l,i);d.setAll(m),i.convertToFoundDocument(_O(i),d).setHasLocalMutations()}(n,e,t):n instanceof Nf?function(r,i,l){if(!nD(r.precondition,i))return;const d=bO(r.fieldTransforms,l,i),m=i.data;m.setAll(yO(r)),m.setAll(d),i.convertToFoundDocument(_O(i),m).setHasLocalMutations()}(n,e,t):nD(n.precondition,i=e)&&i.convertToNoDocument(Tt.min())}function wV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=dO(r.transform,i||null);null!=l&&(null==t&&(t=Xi.empty()),t.set(r.field,l))}return t||null}function mO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rg(t,r,(i,l)=>function yV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Sf&&r instanceof Sf||t instanceof Af&&r instanceof Af?Rg(t.elements,r.elements,Vl):t instanceof Ug&&r instanceof Ug?Vl(t.k,r.k):t instanceof Bg&&r instanceof Bg);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function _O(n){return n.isFoundDocument()?n.version:Tt.min()}class cv extends rD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Nf extends rD{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function yO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vO(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,m=e.data.field(l.field);r.set(l.field,_V(d,m,t[i]))}return r}function bO(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,mV(l,d,e))}return r}class dv extends rD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class fS extends rD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class EV{constructor(e){this.count=e}}var jr,hn;function wO(n){switch(n){default:return at();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function EO(n){if(void 0===n)return Br("GRPC error has no .code"),de.UNKNOWN;switch(n){case jr.OK:return de.OK;case jr.CANCELLED:return de.CANCELLED;case jr.UNKNOWN:return de.UNKNOWN;case jr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case jr.INTERNAL:return de.INTERNAL;case jr.UNAVAILABLE:return de.UNAVAILABLE;case jr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case jr.NOT_FOUND:return de.NOT_FOUND;case jr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case jr.ABORTED:return de.ABORTED;case jr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case jr.DATA_LOSS:return de.DATA_LOSS;default:return at()}}(hn=jr||(jr={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class Pd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ef(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}}class Nr{constructor(e,t){this.comparator=e,this.root=t||Bi.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iD(this.root,e,this.comparator,!1)}getReverseIterator(){return new iD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iD(this.root,e,this.comparator,!0)}}class iD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Bi.RED,this.left=null!=i?i:Bi.EMPTY,this.right=null!=l?l:Bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Bi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1,Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DO(this.data.getIterator())}getIteratorFrom(e){return new DO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class DO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jg(n){return n.hasNext()?n.getNext():void 0}const DV=new Nr(We.comparator);function va(){return DV}const CV=new Nr(We.comparator);function pS(){return CV}function hv(){return new Pd(n=>n.toString(),(n,e)=>n.isEqual(e))}const IV=new Nr(We.comparator),TV=new Wn(We.comparator);function bn(...n){let e=TV;for(const t of n)e=e.add(t);return e}const SV=new Wn(Yt);function sD(){return SV}class fv{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,pv.createSynthesizedTargetChangeForCurrentChange(e,t)),new fv(Tt.min(),r,sD(),va(),bn())}}class pv{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new pv(si.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class oD{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class CO{constructor(e,t){this.targetId=e,this.$=t}}class IO{constructor(e,t,r=si.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TO{constructor(){this.B=0,this.L=AO(),this.U=si.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=bn(),t=bn(),r=bn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new pv(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=AO()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class AV{constructor(e){this.nt=e,this.st=new Map,this.it=va(),this.rt=SO(),this.ot=new Wn(Yt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(JE(l))if(0===r){const d=new We(l.path);this.ct(t,d,$n.newNoDocument(d,Tt.min()))}else Mt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const m=this.wt(d);if(m){if(l.current&&JE(m.target)){const y=new We(m.target.path);null!==this.it.get(y)||this.It(d,y)||this.ct(d,y,$n.newNoDocument(y,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=bn();this.rt.forEach((l,d)=>{let m=!0;d.forEachWhile(y=>{const E=this.wt(y);return!E||2===E.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new fv(e,t,this.ot,this.it,r);return this.it=va(),this.rt=SO(),this.ot=new Wn(Yt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new TO,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Wn(Yt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new TO),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function SO(){return new Nr(We.comparator)}function AO(){return new Nr(We.comparator)}const NV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class RV{constructor(e,t){this.databaseId=e,this.N=t}}function gv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NO(n,e){return n.N?e.toBase64():e.toUint8Array()}function xV(n,e){return gv(n,e.toTimestamp())}function vi(n){return Mt(!!n),Tt.fromTimestamp(function(e){const t=Rd(e);return new Ar(t.seconds,t.nanos)}(n))}function gS(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function MO(n){const e=dn.fromString(n);return Mt(BO(e)),e}function mv(n,e){return gS(n.databaseId,e.path)}function Bl(n,e){const t=MO(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(xO(t))}function mS(n,e){return gS(n.databaseId,e)}function RO(n){const e=MO(n);return 4===e.length?dn.emptyPath():xO(e)}function _v(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xO(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OO(n,e,t){return{name:mv(n,e),fields:t.value.mapValue.fields}}function PO(n,e,t){const r=Bl(n,e.name),i=vi(e.updateTime),l=new Xi({mapValue:{fields:e.fields}}),d=$n.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function yv(n,e){let t;if(e instanceof cv)t={update:OO(n,e.key,e.value)};else if(e instanceof dv)t={delete:mv(n,e.key)};else if(e instanceof Nf)t={update:OO(n,e.key,e.data),updateMask:jV(e.fieldMask)};else{if(!(e instanceof fS))return at();t={verify:mv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Bg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Sf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Af)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ug)return{fieldPath:l.field.canonicalString(),increment:d.k};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}function _S(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ur.updateTime(vi(i.updateTime)):void 0!==i.exists?Ur.exists(i.exists):Ur.none():Ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let m=null;"setToServerValue"in d?(Mt("REQUEST_TIME"===d.setToServerValue),m=new Bg):"appendMissingElements"in d?m=new Sf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Af(d.removeAllFromArray.values||[]):"increment"in d?m=new Ug(l,d.increment):at();const y=yi.fromServerFormat(d.fieldPath);return new uv(y,m)}(n,i)):[];var i;if(e.update){const i=Bl(n,e.update.name),l=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new xg((e.updateMask.fieldPaths||[]).map(E=>yi.fromServerFormat(E)));return new Nf(i,l,d,t,r)}return new cv(i,l,t,r)}if(e.delete){const i=Bl(n,e.delete);return new dv(i,t)}if(e.verify){const i=Bl(n,e.verify);return new fS(i,t)}return at()}function kO(n,e){return{documents:[mS(n,e.path)]}}function FO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const E=y.map(S=>function(N){if("=="===N.op){if(qx(N.value))return{unaryFilter:{field:Gg(N.field),op:"IS_NAN"}};if(zx(N.value))return{unaryFilter:{field:Gg(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(qx(N.value))return{unaryFilter:{field:Gg(N.field),op:"IS_NOT_NAN"}};if(zx(N.value))return{unaryFilter:{field:Gg(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gg(N.field),op:VV(N.op),value:N.value}}}(S));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(E=>{return{field:Gg((S=E).field),direction:LV(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(E=e.limit,n.N||Cf(E)?E:{value:E});var E,m,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function LO(n){let e=RO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=VO(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Fg(Hg((N=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(S){let N;return N="object"==typeof S?S.value:S,Cf(N)?null:N}(t.limit));let y=null;var S;t.startAt&&(y=new Od((S=t.startAt).values||[],!!S.before));let E=null;return t.endAt&&(E=function(S){return new Od(S.values||[],!S.before)}(t.endAt)),rO(e,i,d,l,m,"F",y,E)}function VO(n){return n?void 0!==n.unaryFilter?[UV(n)]:void 0!==n.fieldFilter?[BV(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>VO(e)).reduce((e,t)=>e.concat(t)):at():[]}function LV(n){return NV[n]}function VV(n){return MV[n]}function Gg(n){return{fieldPath:n.canonicalString()}}function Hg(n){return yi.fromServerFormat(n.fieldPath)}function BV(n){return Vi.create(Hg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function UV(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Hg(n.unaryFilter.field);return Vi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Hg(n.unaryFilter.field);return Vi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hg(n.unaryFilter.field);return Vi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hg(n.unaryFilter.field);return Vi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function jV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function bi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UO(e)),e=GV(n.get(t),e);return UO(e)}function GV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function UO(n){return n+"\x01\x01"}function Ya(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&at(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let y;0===i.length?y=m:(i+=m,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:at()}l=d+2}return new dn(r)}const jO=["userId","batchId"];function aD(n,e){return[n,bi(e)]}function GO(n,e,t){return[n,bi(e),t]}const HV={},$V=["prefixPath","collectionGroup","readTime","documentId"],WV=["prefixPath","collectionGroup","documentId"],zV=["collectionGroup","readTime","prefixPath","documentId"],qV=["canonicalId","targetId"],KV=["targetId","path"],ZV=["path","targetId"],YV=["collectionId","parent"],JV=["indexId","uid"],QV=["uid","sequenceNumber"],XV=["indexId","uid","arrayValue","directionalValue","documentKey"],e2=["indexId","uid","documentKey"],t2=["userId","collectionPath","documentId"],n2=["userId","collectionPath","largestBatchId"],r2=["userId","collectionGroup","largestBatchId"],HO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s2=[...HO,"documentOverlays"],$O=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],o2=[...$O,"indexConfiguration","indexState","indexEntries"],WO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,l=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++l,d&&l===i&&t()},y=>r(y))}),d=!0,l===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class lD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new _i,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new vv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=yS(r.target.error);this.At.reject(new vv(e,i))}}static open(e,t,r,i){try{return new lD(t,e.transaction(i,r))}catch(l){throw new vv(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new l2(t)}}class Ja{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ja.Vt((0,Vt.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Rf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Vt.hl)())return!1;if(Ja.St())return!0;const e=(0,Vt.z$)(),t=Ja.Vt(e),r=0<t&&t<10,i=Ja.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new vv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Ne(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new vv(e,m))},l.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ve.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const y=lD.open(l.db,e,d?"readonly":"readwrite",r),E=i(y).next(S=>(y.bt(),S)).catch(S=>(y.abort(S),pe.reject(S))).toPromise();return E.catch(()=>{}),yield y.Rt,E}catch(y){const E="FirebaseError"!==y.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),l.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a2{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Rf(this.Ft.delete())}}class vv extends Ne{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mf(n){return"IndexedDbTransactionError"===n.name}class l2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rf(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Rf(this.store.add(e))}get(e){return Rf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Rf(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Rf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Gt(i,(d,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new pe((l,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(l,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=l=>{const d=yS(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new pe((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const y=new a2(m),E=t(m.primaryKey,m.value,y);if(E instanceof pe){const S=E.catch(N=>(y.done(),pe.reject(N)));r.push(S)}y.isDone?i():null===y.Lt?m.continue():m.continue(y.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rf(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=yS(r.target.error);t(i)}})}let qO=!1;function yS(n){const e=Ja.Vt((0,Vt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qO||(qO=!0,setTimeout(()=>{throw r},0)),r}}return n}class KO extends zO{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function wi(n,e){const t=Ke(n);return Ja.xt(t.Ht,e)}class vS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&bV(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&hS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&hS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&Rg(this.mutations,e.mutations,(t,r)=>mO(t,r))&&Rg(this.baseMutations,e.baseMutations,(t,r)=>mO(t,r))}}class bS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=IV;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new bS(e,t,r,i)}}class wS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kd{constructor(e,t,r,i,l=Tt.min(),d=Tt.min(),m=si.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new kd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ZO{constructor(e){this.Jt=e}}function YO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:mv(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:gv(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xf(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:xf(e.version)}}var i,l;return r}function uD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Of(n){const e=new Ar(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function $g(n,e){const t=(e.baseMutations||[]).map(l=>_S(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>_S(n.Jt,l)),i=Ar.fromMillis(e.localWriteTimeMs);return new vS(e.batchId,i,t,r)}function bv(n){const e=Of(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Of(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=ya(Lg(RO(i.documents[0])))):r=ya(LO(n.query)),new kd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,si.fromBase64String(n.resumeToken))}function JO(n,e){const t=xf(e.snapshotVersion),r=xf(e.lastLimboFreeSnapshotVersion);let i;i=JE(e.target)?kO(n.Jt,e.target):FO(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ES(n){const e=LO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iO(e,e.limit,"L"):e}function DS(n,e){return new wS(e.largestBatchId,_S(n.Jt,e.overlayMutation))}function QO(n,e){const t=e.path.lastSegment();return[n,bi(e.path.popLast()),t]}class c2{getBundleMetadata(e,t){return XO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Of(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return XO(e).put({bundleId:(r=t).id,createTime:xf(vi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return eP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ES(i.bundledQuery),readTime:Of(i.readTime)};var i})}saveNamedQuery(e,t){return eP(e).put({name:(r=t).name,readTime:xf(vi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function XO(n){return wi(n,"bundles")}function eP(n){return wi(n,"namedQueries")}class CS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new CS(e,t.uid||"")}getOverlay(e,t){return wv(e).get(QO(this.userId,t)).next(r=>r?DS(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const m=new wS(t,d);i.push(this.Xt(e,m))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(bi(d.getCollectionPath())));const l=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(wv(e).Qt("collectionPathOverlayIndex",m))}),pe.waitFor(l)}getOverlaysForCollection(e,t,r){const i=hv(),l=bi(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return wv(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const y of m){const E=DS(this.M,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=hv();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wv(e).Wt({index:"collectionGroupOverlayIndex",range:m},(y,E,S)=>{const N=DS(this.M,E);l.size()<i||N.largestBatchId===d?(l.set(N.getKey(),N),d=N.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return wv(e).put(function(r,i,l){const[d,m,y]=QO(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:yv(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function wv(n){return wi(n,"documentOverlays")}class Wg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(gr(e.integerValue));else if("doubleValue"in e){const r=gr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),nv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Df(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Kx(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):at()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),We.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function d2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function tP(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=d2(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Wg.fe=new Wg;class h2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=tP(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=tP(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class f2{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class p2{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class cD{constructor(){this.De=new h2,this.Ce=new f2(this.De),this.xe=new p2(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Fd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fd(this.indexId,this.documentKey,this.arrayValue,r)}}function Pf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nP(n.arrayValue,e.arrayValue),0!==t?t:(t=nP(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function nP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class g2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=oS(e);if(void 0!==t&&!this.Be(t))return!1;const r=kg(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class m2{constructor(){this.qe=new IS}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class IS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wn(dn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(dn.comparator)).toArray()}}const dD=new Uint8Array(0);class _2{constructor(e){this.user=e,this.Ge=new IS,this.Ke=new Pd(t=>Tf(t),(t,r)=>av(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:bi(i)};return rP(e).put(l)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Vx(t),""],!1,!0);return rP(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Ya(d.parent))}return r})}addFieldIndex(e,t){const r=hD(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=hD(e),i=fD(e),l=Ev(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ev(e);let i=!0;const l=new Map;return pe.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{i&&(i=!!m),l.set(d,m)})).next(()=>{if(i){let d=bn();return pe.forEach(l,(m,y)=>{var E;Fe("IndexedDbIndexManager",`Using index ${E=m,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Re=>`${Re.fieldPath}:${Re.kind}`).join(",")}`} to execute ${Tf(t)}`);const S=function(Re,_t){const je=oS(_t);if(void 0===je)return null;for(const Qe of QE(Re,je.fieldPath))switch(Qe.op){case"array-contains-any":return Qe.value.arrayValue.values||[];case"array-contains":return[Qe.value]}return null}(y,m),N=function(Re,_t){const je=new Map;for(const Qe of kg(_t))for(const Xe of QE(Re,Qe.fieldPath))switch(Xe.op){case"==":case"in":je.set(Qe.fieldPath.canonicalString(),Xe.value);break;case"not-in":case"!=":return je.set(Qe.fieldPath.canonicalString(),Xe.value),Array.from(je.values())}return null}(y,m),F=function(Re,_t){const je=[];let Qe=!0;for(const qt of kg(_t)){let Ft,qn=!0;for(const Qt of QE(Re,qt.fieldPath)){let xt,Ci=!0;switch(Qt.op){case"<":case"<=":xt="nullValue"in(Xe=Qt.value)?$x:"booleanValue"in Xe?{booleanValue:!1}:"integerValue"in Xe||"doubleValue"in Xe?{doubleValue:NaN}:"timestampValue"in Xe?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Xe?{stringValue:""}:"bytesValue"in Xe?{bytesValue:""}:"referenceValue"in Xe?Pg(ac.empty(),We.empty()):"geoPointValue"in Xe?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Xe?{arrayValue:{}}:"mapValue"in Xe?{mapValue:{}}:at();break;case"==":case"in":case">=":xt=Qt.value;break;case">":xt=Qt.value,Ci=!1;break;case"!=":case"not-in":xt=$x}Zx(Ft,xt)===xt&&(Ft=xt,qn=Ci)}if(null!==Re.startAt)for(let Qt=0;Qt<Re.orderBy.length;++Qt)if(Re.orderBy[Qt].field.isEqual(qt.fieldPath)){const xt=Re.startAt.position[Qt];Zx(Ft,xt)===xt&&(Ft=xt,qn=Re.startAt.inclusive);break}if(void 0===Ft)return null;je.push(Ft),Qe&&(Qe=qn)}var Xe;return new Od(je,Qe)}(y,m),V=function(Re,_t){const je=[];let Qe=!0;for(const qt of kg(_t)){let Ft,qn=!0;for(const Qt of QE(Re,qt.fieldPath)){let xt,Ci=!0;switch(Qt.op){case">=":case">":xt="nullValue"in(Xe=Qt.value)?{booleanValue:!1}:"booleanValue"in Xe?{doubleValue:NaN}:"integerValue"in Xe||"doubleValue"in Xe?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Xe?{stringValue:""}:"stringValue"in Xe?{bytesValue:""}:"bytesValue"in Xe?Pg(ac.empty(),We.empty()):"referenceValue"in Xe?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Xe?{arrayValue:{}}:"arrayValue"in Xe?{mapValue:{}}:"mapValue"in Xe?Hx:at(),Ci=!1;break;case"==":case"in":case"<=":xt=Qt.value;break;case"<":xt=Qt.value,Ci=!1;break;case"!=":case"not-in":xt=Hx}Yx(Ft,xt)===xt&&(Ft=xt,qn=Ci)}if(null!==Re.endAt)for(let Qt=0;Qt<Re.orderBy.length;++Qt)if(Re.orderBy[Qt].field.isEqual(qt.fieldPath)){const xt=Re.endAt.position[Qt];Yx(Ft,xt)===xt&&(Ft=xt,qn=Re.endAt.inclusive);break}if(void 0===Ft)return null;je.push(Ft),Qe&&(Qe=qn)}var Xe;return new Od(je,Qe)}(y,m),W=this.je(m,y,F),ne=this.je(m,y,V),Ae=this.We(m,y,N),Be=this.ze(m.indexId,S,W,!!F&&F.inclusive,ne,!!V&&V.inclusive,Ae);return pe.forEach(Be,Re=>r.Kt(Re,t.limit).next(_t=>{_t.forEach(je=>{d=d.add(new We(Ya(je.documentKey)))})}))}).next(()=>d)}return pe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,l,d,m){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),E=y/(null!=t?t.length:1),S=[];for(let N=0;N<y;++N){const F=t?this.He(t[N/E]):dD,V=r?this.Je(e,F,r[N%E],i):this.Ye(e),W=l?this.Xe(e,F,l[N%E],d):this.Ye(e+1);S.push(...this.createRange(V,W,m.map(ne=>this.Je(e,F,ne,!0))))}return S}Je(e,t,r,i){const l=new Fd(e,We.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Fd(e,We.empty(),t,r);return i?l.ke():l}Ye(e){return new Fd(e,We.empty(),dD,dD)}getFieldIndex(e,t){const r=new g2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const d=l.filter(m=>r.$e(m));return d.sort((m,y)=>y.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new cD;for(const i of kg(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);Wg.fe.Zt(l,d)}return r.Se()}He(e){const t=new cD;return Wg.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new cD);let l=0;for(const d of kg(e)){const m=r[l++];for(const y of i)if(this.tn(t,d.fieldPath)&&iv(m))i=this.en(i,d,m);else{const E=y.Ne(d.kind);Wg.fe.Zt(m,E)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of i){const y=new cD;y.seed(m.Se()),Wg.fe.Zt(d,y.Ne(t.kind)),l.push(y)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof Vi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=hD(e),i=fD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return pe.forEach(l,m=>i.get([m.indexId,this.uid]).next(y=>{d.push(function(E,S){const N=S?new ov(S.sequenceNumber,new lc(Of(S.readTime),new We(Ya(S.documentKey)),S.largestBatchId)):ov.empty(),F=E.fields.map(([V,W])=>new YE(yi.fromServerFormat(V),W));return new ZE(E.indexId,E.collectionGroup,F,N)}(m,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=hD(e),l=fD(e);return this.sn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>pe.forEach(m,y=>{return l.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:xf((F=r).readTime),documentKey:bi(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?pe.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),pe.forEach(m,y=>this.rn(e,i,y).next(E=>{const S=this.on(l,y);return E.isEqual(S)?pe.resolve():this.un(e,l,E,S)}))))})}an(e,t,r){return Ev(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:bi(t.key.path)})}cn(e,t,r){return Ev(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,bi(t.key.path)])}rn(e,t,r){const i=Ev(e);let l=new Wn(Pf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,bi(t.path)])},(d,m)=>{l=l.add(new Fd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new Wn(Pf);const i=this.Ze(t,e);if(null==i)return r;const l=oS(t);if(null!=l){const d=e.data.field(l.fieldPath);if(iv(d))for(const m of d.arrayValue.values||[])r=r.add(new Fd(t.indexId,e.key,this.He(m),i))}else r=r.add(new Fd(t.indexId,e.key,dD,i));return r}un(e,t,r,i){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,m,y,E,S){const N=d.getIterator(),F=m.getIterator();let V=jg(N),W=jg(F);for(;V||W;){let ne=!1,Ae=!1;if(V&&W){const Be=y(V,W);Be<0?Ae=!0:Be>0&&(ne=!0)}else null!=V?Ae=!0:ne=!0;ne?(E(W),W=jg(F)):Ae?(S(V),V=jg(N)):(V=jg(N),W=jg(F))}}(r,i,Pf,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),pe.waitFor(l)}sn(e){let t=1;return fD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Pf(d,m)).filter((d,m,y)=>!m||0!==Pf(d,y[m-1]));const i=[];i.push(e);for(const d of r){const m=Pf(d,e),y=Pf(d,t);if(0===m)i[0]=e.ke();else if(m>0&&y<0)i.push(d),i.push(d.ke());else if(y>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,""],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,""]));return l}}function rP(n){return wi(n,"collectionParents")}function Ev(n){return wi(n,"indexEntries")}function hD(n){return wi(n,"indexConfiguration")}function fD(n){return wi(n,"indexState")}const iP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const y=r.Wt({range:d},(S,N,F)=>(m++,F.delete()));l.push(y.next(()=>{Mt(1===m)}));const E=[];for(const S of t.mutations){const N=GO(e,S.key.path,t.batchId);l.push(i.delete(N)),E.push(S.key)}return pe.waitFor(l).next(()=>E)}function pD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class TS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Mt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new TS(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ld(e).Wt({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=zg(e),d=Ld(e);return d.add({}).next(m=>{Mt("number"==typeof m);const y=new vS(m,t,r,i),E=function(F,V,W){const ne=W.baseMutations.map(Be=>yv(F.Jt,Be)),Ae=W.mutations.map(Be=>yv(F.Jt,Be));return{userId:V,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:ne,mutations:Ae}}(this.M,this.userId,y),S=[];let N=new Wn((F,V)=>Yt(F.canonicalString(),V.canonicalString()));for(const F of i){const V=GO(this.userId,F.key.path,m);N=N.add(F.key.path.popLast()),S.push(d.put(E)),S.push(l.put(V,HV))}return N.forEach(F=>{S.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[m]=y.keys()}),pe.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return Ld(e).get(t).next(r=>r?(Mt(r.userId===this.userId),$g(this.M,r)):null)}ln(e,t){return this.hn[t]?pe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ld(e).Wt({index:"userMutationsIndex",range:i},(d,m,y)=>{m.userId===this.userId&&(Mt(m.batchId>=r),l=$g(this.M,m)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ld(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ld(e).qt("userMutationsIndex",t).next(r=>r.map(i=>$g(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=aD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return zg(e).Wt({range:i},(d,m,y)=>{const[E,S,N]=d,F=Ya(S);if(E===this.userId&&t.path.isEqual(F))return Ld(e).get(N).next(V=>{if(!V)throw at();Mt(V.userId===this.userId),l.push($g(this.M,V))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Yt);const i=[];return t.forEach(l=>{const d=aD(this.userId,l.path),m=IDBKeyRange.lowerBound(d),y=zg(e).Wt({range:m},(E,S,N)=>{const[F,V,W]=E,ne=Ya(V);F===this.userId&&l.path.isEqual(ne)?r=r.add(W):N.done()});i.push(y)}),pe.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=aD(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Wn(Yt);return zg(e).Wt({range:d},(y,E,S)=>{const[N,F,V]=y,W=Ya(F);N===this.userId&&r.isPrefixOf(W)?W.length===i&&(m=m.add(V)):S.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Ld(e).get(l).next(d=>{if(null===d)throw at();Mt(d.userId===this.userId),r.push($g(this.M,d))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sP(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return zg(e).Wt({range:r},(l,d,m)=>{if(l[0]===this.userId){const y=Ya(l[1]);i.push(y)}else m.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return oP(e,this.userId,t)}_n(e){return aP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oP(n,e,t){const r=aD(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return zg(n).Wt({range:l,jt:!0},(m,y,E)=>{const[S,N,F]=m;S===e&&N===i&&(d=!0),E.done()}).next(()=>d)}function Ld(n){return wi(n,"mutations")}function zg(n){return wi(n,"documentMutations")}function aP(n){return wi(n,"mutationQueues")}class kf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new kf(0)}static gn(){return new kf(-1)}}class y2{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new kf(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Tt.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qg(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return qg(e).Wt((d,m)=>{const y=bv(m);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>pe.waitFor(l)).next(()=>i)}forEachTarget(e,t){return qg(e).Wt((r,i)=>{const l=bv(i);t(l)})}yn(e){return lP(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}pn(e,t){return lP(e).put("targetGlobalKey",t)}In(e,t){return qg(e).put(JO(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Tf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return qg(e).Wt({range:i,index:"queryTargetsIndex"},(d,m,y)=>{const E=bv(m);av(t,E.target)&&(l=E,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Vd(e);return t.forEach(d=>{const m=bi(d.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vd(e);return pe.forEach(t,l=>{const d=bi(l.path);return pe.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Vd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vd(e);let l=bn();return i.Wt({range:r,jt:!0},(d,m,y)=>{const E=Ya(d[1]),S=new We(E);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=bi(t.path),i=IDBKeyRange.bound([r],[Vx(r)],!1,!0);let l=0;return Vd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,m],y,E)=>{0!==d&&(l++,E.done())}).next(()=>l>0)}Et(e,t){return qg(e).get(t).next(r=>r?bv(r):null)}}function qg(n){return wi(n,"targets")}function lP(n){return wi(n,"targetGlobal")}function Vd(n){return wi(n,"targetDocuments")}function Ff(n){return SS.apply(this,arguments)}function SS(){return SS=(0,ve.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==WO)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),SS.apply(this,arguments)}function uP([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class v2{constructor(e){this.En=e,this.buffer=new Wn(uP),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class b2{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Mf(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ff(i)}yield t.vn(e)}))}}class w2{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Vo.A);const r=new v2(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(iP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iP):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,l,d,m,y,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),i=this.params.maximumSequenceNumbersToCollect):i=N,d=Date.now(),this.nthSequenceNumber(e,i))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(l=N,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(E=Date.now(),tS()<=_a.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(y-m)+`ms\n\tRemoved ${N} documents in `+(E-y)+`ms\nTotal Duration: ${E-S}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:N})))}}class E2{constructor(e,t){this.db=e,this.garbageCollector=new w2(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return gD(e,r)}removeReference(e,t,r){return gD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gD(e,t)}Mn(e,t){return function(r,i){let l=!1;return aP(r).zt(d=>oP(r,d,i).next(m=>(m&&(l=!0),pe.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.kn(e,(d,m)=>{if(m<=t){const y=this.Mn(e,d).next(E=>{if(!E)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Tt.min()),Vd(e).delete([0,bi(d.path)])))});i.push(y)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gD(e,t)}kn(e,t){const r=Vd(e);let i,l=Vo.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:y,sequenceNumber:E})=>{0===d?(l!==Vo.A&&t(new We(Ya(i)),l),l=E,i=y):l=Vo.A}).next(()=>{l!==Vo.A&&t(new We(Ya(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gD(n,e){return Vd(n).put((r=n.currentSequenceNumber,{targetId:0,path:bi(e.path),sequenceNumber:r}));var r}class cP{constructor(){this.changes=new Pd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D2{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lf(e).put(r)}removeEntry(e,t,r){return Lf(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],uD(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=$n.newInvalidDocument(t);return Lf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dv(t))},(i,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:$n.newInvalidDocument(t)};return Lf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dv(t))},(i,l)=>{r={document:this.Fn(t,l),size:pD(l)}}).next(()=>r)}getEntries(e,t){let r=va();return this.Bn(e,t,(i,l)=>{const d=this.Fn(i,l);r=r.insert(i,d)}).next(()=>r)}Ln(e,t){let r=va(),i=new Nr(We.comparator);return this.Bn(e,t,(l,d)=>{const m=this.Fn(l,d);r=r.insert(l,m),i=i.insert(l,pD(d))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return pe.resolve();let i=new Wn(fP);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(Dv(i.first()),Dv(i.last())),d=i.getIterator();let m=d.getNext();return Lf(e).Wt({index:"documentKeyIndex",range:l},(y,E,S)=>{const N=We.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;m&&fP(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,E),m=d.hasNext()?d.getNext():null),m?S.Ut(Dv(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),uD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lf(e).qt(IDBKeyRange.bound(i,l,!0)).next(d=>{let m=va();for(const y of d){const E=this.Fn(We.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);m=m.insert(E.key,E)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=va();const d=hP(t,r),m=hP(t,lc.max());return Lf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(y,E,S)=>{const N=this.Fn(We.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(N.key,N),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new C2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dP(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}On(e,t){return dP(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function u2(n,e){let t;if(e.document)t=PO(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=Of(e.noDocument.readTime);t=$n.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=We.fromSegments(e.unknownDocument.path),i=Of(e.unknownDocument.version);t=$n.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ar(r[0],r[1]);return Tt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return $n.newInvalidDocument(e)}}class C2 extends cP{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Pd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wn((l,d)=>Yt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const y=YO(this.qn.M,d);i=i.add(l.path.popLast()),r+=pD(y)-m.size,t.push(this.qn.addEntry(e,l,y))}else if(r-=m.size,this.trackRemovals){const y=YO(this.qn.M,d.convertToNoDocument(Tt.min()));t.push(this.qn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function dP(n){return wi(n,"remoteDocumentGlobal")}function Lf(n){return wi(n,"remoteDocumentsV14")}function Dv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hP(n,e){const t=e.documentKey.path.toArray();return[n,uD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fP(n,e){const t=n.path.length-e.path.length;return 0!==t?t:We.comparator(n,e)}class I2{constructor(e){this.M=e}kt(e,t,r,i){const l=new lD("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jO,{unique:!0}),m.createObjectStore("documentMutations"),pP(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),pP(e)),d=d.next(()=>function(m){const y=m.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,y){return y.store("mutations").qt().next(E=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jO,{unique:!0});const S=y.store("mutations"),N=E.map(F=>S.put(F));return pe.waitFor(N)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Kn(l))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&i>=7&&(d=d.next(()=>this.jn(l))),r<8&&i>=8&&(d=d.next(()=>this.Wn(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.zn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const y=m.createObjectStore("documentOverlays",{keyPath:t2});y.createIndex("collectionPathOverlayIndex",n2,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",r2,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const y=m.createObjectStore("remoteDocumentsV14",{keyPath:$V});y.createIndex("documentKeyIndex",WV),y.createIndex("collectionGroupIndex",zV)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:JV}).createIndex("sequenceNumberIndex",QV,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:XV}).createIndex("documentKeyIndex",e2,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=pD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>pe.forEach(m,y=>{Mt(y.userId===l.userId);const E=$g(this.M,y);return sP(e,l.userId,E).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((d,m)=>{const y=new dn(d),E=[0,bi(y)];l.push(t.get(E).next(S=>S?pe.resolve():t.put({targetId:0,path:bi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:YV});const r=t.store("collectionParents"),i=new IS,l=d=>{if(i.add(d)){const m=d.lastSegment(),y=d.popLast();return r.put({collectionId:m,parent:bi(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const y=new dn(d);return l(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,y],E)=>{const S=Ya(m);return l(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=bv(i),d=JO(this.M,l);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,d)=>{const m=t.store("remoteDocumentsV14"),y=(E=d,E.document?new We(dn.fromString(E.document.name).popFirst(5)):E.noDocument?We.fromSegments(E.noDocument.path):E.unknownDocument?We.fromSegments(E.unknownDocument.path):at()).path.toArray();var E;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(S))}).next(()=>pe.waitFor(i))}}function pP(n){n.createObjectStore("targetDocuments",{keyPath:KV}).createIndex("documentTargetsIndex",ZV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qV,{unique:!0}),n.createObjectStore("targetGlobal")}const AS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NS{constructor(e,t,r,i,l,d,m,y,E,S,N=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=d,this.document=m,this.Yn=E,this.Xn=S,this.Zn=N,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!NS.vt())throw new Ne(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E2(this,i),this.cs=t+"main",this.M=new ZO(y),this.hs=new Ja(this.cs,this.Zn,new I2(this.M)),this.ls=new y2(this.referenceDelegate,this.M),this.fs=new D2(this.M),this.ds=new c2,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(de.FAILED_PRECONDITION,AS);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Vo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Mf(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Cv(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Ps(e){return mD(e).delete(this.clientId)}Vs(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wi(r,"clientMetadata");return i.qt().next(l=>{const d=e.Ss(l,18e5),m=l.filter(y=>-1===d.indexOf(y));return pe.forEach(m,y=>i.delete(y.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?pe.resolve(!0):Cv(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ne(de.FAILED_PRECONDITION,AS);return!1}}return!(!this.networkEnabled||!this.inForeground)||mD(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new KO(t,Vo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>mD(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return TS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new _2(e)}getDocumentOverlayCache(e){return CS.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?o2:13===d?$O:12===d?s2:11===d?HO:void at();var d;let m;return this.hs.runTransaction(e,i,l,y=>(m=new KO(y,this.ts?this.ts.next():Vo.A),"readwrite-primary"===t?this.Ts(m).next(E=>!!E||this.Es(m)).next(E=>{if(!E)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ne(de.FAILED_PRECONDITION,WO);return r(m)}).next(E=>this.Rs(m).next(()=>E)):this.Fs(m).next(()=>r(m)))).then(y=>(m.raiseOnCommittedEvent(),y))}Fs(e){return Cv(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(de.FAILED_PRECONDITION,AS)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cv(e).put("owner",t)}static vt(){return Ja.vt()}As(e){const t=Cv(e);return t.get("owner").next(r=>this.bs(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Br(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Vt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cv(n){return wi(n,"owner")}function mD(n){return wi(n,"clientMetadata")}function MS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class T2{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return We.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):uS(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new We(t)).next(r=>{let i=pS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let l=pS();return this.indexManager.getCollectionParents(e,i).next(d=>pe.forEach(d,m=>{const y=(E=t,S=m.child(i),new uc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,S;return this.Ws(e,y,r).next(E=>{E.forEach((S,N)=>{l=l.insert(S,N)})})}).next(()=>l))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const m of d.mutations){const y=m.key;let E=i.get(y);null==E&&(E=$n.newInvalidDocument(y),i=i.insert(y,E)),hS(m,E,d.localWriteTime),E.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((l,d)=>{dS(t,d)||(i=i.remove(l))}),i))}}class RS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=bn(),i=bn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new RS(e,t.fromCache,r,i)}}class gP{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Tt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(l=>{const d=this.ti(t,l);return(XE(t)||eD(t))&&this.ei(t.limitType,d,i,r)?this.Zs(e,t):(tS()<=_a.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cS(t)),this.Xs.Ks(e,t,Qx(r,-1)).next(m=>(d.forEach(y=>{m=m.insert(y.key,y)}),m)))});var l}ti(e,t){let r=new Wn(aO(e));return t.forEach((i,l)=>{dS(e,l)&&(r=r.add(l))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Zs(e,t){return tS()<=_a.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",cS(t)),this.Xs.Ks(e,t,lc.min())}}class S2{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Nr(Yt),this.ii=new Pd(l=>Tf(l),av),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new T2(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function mP(n,e,t,r){return new S2(n,e,t,r)}function _P(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,ve.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(l=>(i=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let y=bn();for(const E of i){d.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}for(const E of l){m.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}return t.ai.qs(r,y).next(E=>({ci:E,removedBatchIds:d,addedBatchIds:m}))})})}),xS.apply(this,arguments)}function A2(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,y,E){const S=y.batch,N=S.keys();let F=pe.resolve();return N.forEach(V=>{F=F.next(()=>E.getEntry(m,V)).next(W=>{const ne=y.docVersions.get(V);Mt(null!==ne),W.version.compareTo(ne)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),F.next(()=>d.$s.removeMutationBatch(m,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function yP(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function N2(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const m=[];e.targetChanges.forEach((E,S)=>{const N=i.get(S);if(!N)return;m.push(t.ls.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.ls.addMatchingKeys(l,E.addedDocuments,S)));let F=N.withSequenceNumber(l.currentSequenceNumber);var V,W,ne;e.targetMismatches.has(S)?F=F.withResumeToken(si.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,r)),i=i.insert(S,F),W=F,ne=E,(0===(V=N).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,F))});let y=va();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),m.push(vP(l,d,e.documentUpdates).next(E=>{y=E})),!r.isEqual(Tt.min())){const E=t.ls.getLastRemoteSnapshotVersion(l).next(S=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(E)}return pe.waitFor(m).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,y)).next(()=>y)}).then(l=>(t.si=i,l))}function vP(n,e,t){let r=bn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=va();return t.forEach((d,m)=>{const y=i.get(d);m.isNoDocument()&&m.version.isEqual(Tt.min())?(e.removeEntry(d,m.readTime),l=l.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),l=l.insert(d,m)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)}),l})}function M2(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Kg(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(l=>l?(i=l,pe.resolve(i)):t.ls.allocateTargetId(r).next(d=>(i=new kd(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Zg(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,ve.Z)(function*(n,e,t){const r=Ke(n),i=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Mf(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),OS.apply(this,arguments)}function _D(n,e,t){const r=Ke(n);let i=Tt.min(),l=bn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,y,E){const S=Ke(m),N=S.ii.get(E);return void 0!==N?pe.resolve(S.si.get(N)):S.ls.getTargetData(y,E)}(r,d,ya(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,m.targetId).next(y=>{l=y})}).next(()=>r.ni.Ks(d,e,t?i:Tt.min(),t?l:bn())).next(m=>(EP(r,oO(e),m),{documents:m,hi:l})))}function bP(n,e){const t=Ke(n),r=Ke(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function wP(n,e){const t=Ke(n),r=t.ri.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,Qx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(EP(t,e,i),i))}function EP(n,e,t){let r=Tt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function PS(){return PS=(0,ve.Z)(function*(n,e,t,r){const i=Ke(n);let l=bn(),d=va();for(const E of t){const S=e.li(E.metadata.name);E.document&&(l=l.add(S));const N=e.fi(E);N.setReadTime(e.di(E.metadata.readTime)),d=d.insert(S,N)}const m=i.oi.newChangeBuffer({trackRemovals:!0}),y=yield Kg(i,(E=r,ya(Lg(dn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>vP(E,m,d).next(S=>(m.apply(E),S)).next(S=>i.ls.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.ls.addMatchingKeys(E,l,y.targetId)).next(()=>i.ai.Gs(E,S)).next(()=>S)))}),PS.apply(this,arguments)}function x2(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,ve.Z)(function*(n,e,t=bn()){const r=yield Kg(n,ya(ES(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=vi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.ds.saveNamedQuery(l,e);const m=r.withResumeToken(si.EMPTY_BYTE_STRING,d);return i.si=i.si.insert(m.targetId,m),i.ls.updateTargetData(l,m).next(()=>i.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.ls.addMatchingKeys(l,t,r.targetId)).next(()=>i.ds.saveNamedQuery(l,e))})}),kS.apply(this,arguments)}class O2{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return pe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:vi(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:ES(r.bundledQuery),readTime:vi(r.readTime)}),pe.resolve();var r}}class P2{constructor(){this.overlays=new Nr(We.comparator),this.mi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=hv(),l=t.length+1,d=new We(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Nr((E,S)=>E-S);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let S=l.get(E.largestBatchId);null===S&&(S=hv(),l=l.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const m=hv(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,S)=>m.set(E,S)),!(m.size()>=i)););return pe.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new wS(t,r));let l=this.mi.get(t);void 0===l&&(l=bn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class FS{constructor(){this.gi=new Wn(Ei.yi),this.pi=new Wn(Ei.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ei(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ei(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new We(new dn([])),r=new Ei(t,e),i=new Ei(t,e+1),l=[];return this.pi.forEachInRange([r,i],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new We(new dn([])),r=new Ei(t,e),i=new Ei(t,e+1);let l=bn();return this.pi.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ei(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ei{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return We.comparator(e.key,t.key)||Yt(e.Vi,t.Vi)}static Ii(e,t){return Yt(e.Vi,t.Vi)||We.comparator(e.key,t.key)}}class k2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Wn(Ei.yi)}checkEmpty(e){return pe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const l=this.vi;this.vi++;const d=new vS(l,t,r,i);this.$s.push(d);for(const m of i)this.Si=this.Si.add(new Ei(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return pe.resolve(d)}lookupMutationBatch(e,t){return pe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),l=i<0?0:i;return pe.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return pe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ei(t,0),i=new Ei(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,i],d=>{const m=this.Di(d.Vi);l.push(m)}),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Yt);return t.forEach(i=>{const l=new Ei(i,0),d=new Ei(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],m=>{r=r.add(m.Vi)})}),pe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;We.isDocumentKey(l)||(l=l.child(""));const d=new Ei(new We(l),0);let m=new Wn(Yt);return this.Si.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(m=m.add(y.Vi)),!0)},d),pe.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return pe.forEach(t.mutations,i=>{const l=new Ei(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ei(t,0),i=this.Si.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class F2{constructor(e){this.ki=e,this.docs=new Nr(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=va();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():$n.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=va();const l=new We(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||iV(rV(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){at()}Mi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new L2(this)}getSize(e){return pe.resolve(this.size)}}class L2 extends cP{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class V2{constructor(e){this.persistence=e,this.Oi=new Pd(t=>Tf(t),av),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new FS,this.targetCount=0,this.Bi=kf.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),pe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new kf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.In(t),pe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),pe.waitFor(l).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),pe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.$i.containsKey(t))}}class B2{constructor(e,t){this.Li={},this.overlays={},this.ts=new Vo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new V2(this),this.indexManager=new m2,this.fs=new F2(r=>this.referenceDelegate.Ui(r)),this.M=new ZO(t),this.ds=new O2(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new k2(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new U2(this.ts.next());return this.referenceDelegate.qi(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ki(e,t){return pe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class U2 extends zO{constructor(e){super(),this.currentSequenceNumber=e}}class LS{constructor(e){this.persistence=e,this.Qi=new FS,this.ji=null}static Wi(e){return new LS(e)}get zi(){if(this.ji)return this.ji;throw at()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zi,r=>{const i=We.fromPath(r);return this.Hi(e,i).next(l=>{l||t.removeEntry(i,Tt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return pe.or([()=>pe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function DP(n,e){return`firestore_clients_${n}_${e}`}function CP(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function VS(n,e){return`firestore_targets_${n}_${e}`}class yD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Ne(i.error.code,i.error.message))),d?new yD(e,t,i.state,l):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new Iv(e,r.state,i):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=sD();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Gx(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new vD(e,l):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class BS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BS(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class US{constructor(){this.activeTargetIds=sD()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(e,t,r,i,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Nr(Yt),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=DP(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new US),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const l=e.getItem(DP(e.persistenceKey,i));if(l){const d=vD.Ji(i,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(VS(this.persistenceKey,e));if(r){const i=Iv.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(VS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let d=Vo.A;if(null!=l)try{const m=JSON.parse(l);Mt("number"==typeof m),d=m}catch(m){Br("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Vo.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new yD(this.currentUser,e,t,r),l=CP(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=CP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=VS(this.persistenceKey,e),l=new Iv(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return vD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return yD.Ji(new Li(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Iv.Ji(i,t)}wr(e){return BS.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),d=[],m=[];return l.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{l.has(y)||m.push(y)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=sD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class IP{constructor(){this.Fr=new US,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new US,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class j2{Br(e){}shutdown(){}}class TP{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const G2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class H2{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class $2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const d=this.oo(e,t);Fe("RestConnection","Sending: ",d,r);const m={};return this.uo(m,i,l),this.ao(e,d,m,r).then(y=>(Fe("RestConnection","Received: ",y),y),y=>{throw Xy("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}co(e,t,r,i,l){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${G2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((l,d)=>{const m=new HL;m.listenOnce(UL.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case eS.NO_ERROR:const E=m.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(E)),l(E);break;case eS.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),d(new Ne(de.DEADLINE_EXCEEDED,"Request time out"));break;case eS.HTTP_ERROR:const S=m.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const N=m.getResponseJson().error;if(N&&N.status&&N.message){const F=function(V){const W=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(W)>=0?W:de.UNKNOWN}(N.status);d(new Ne(F,N.message))}else d(new Ne(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ne(de.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);m.send(t,"POST",y,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VL(),d=BL(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new GL({})),this.uo(m.initMessageHeaders,t,r),(0,Vt.uI)()||(0,Vt.b$)()||(0,Vt.d)()||(0,Vt.w1)()||(0,Vt.Mn)()||(0,Vt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Fe("Connection","Creating WebChannel: "+y,m);const E=l.createWebChannel(y,m);let S=!1,N=!1;const F=new H2({jr:W=>{N?Fe("Connection","Not sending because WebChannel is closed:",W):(S||(Fe("Connection","Opening WebChannel transport."),E.open(),S=!0),Fe("Connection","WebChannel sending:",W),E.send(W))},Wr:()=>E.close()}),V=(W,ne,Ae)=>{W.listen(ne,Be=>{try{Ae(Be)}catch(Re){setTimeout(()=>{throw Re},0)}})};return V(E,qE.EventType.OPEN,()=>{N||Fe("Connection","WebChannel transport opened.")}),V(E,qE.EventType.CLOSE,()=>{N||(N=!0,Fe("Connection","WebChannel transport closed"),F.eo())}),V(E,qE.EventType.ERROR,W=>{N||(N=!0,Xy("Connection","WebChannel transport errored:",W),F.eo(new Ne(de.UNAVAILABLE,"The operation could not be completed")))}),V(E,qE.EventType.MESSAGE,W=>{var ne;if(!N){const Ae=W.data[0];Mt(!!Ae);const Be=Ae,Re=Be.error||(null===(ne=Be[0])||void 0===ne?void 0:ne.error);if(Re){Fe("Connection","WebChannel received error:",Re);const _t=Re.status;let je=function(Xe){const qt=jr[Xe];if(void 0!==qt)return EO(qt)}(_t),Qe=Re.message;void 0===je&&(je=de.INTERNAL,Qe="Unknown error status: "+_t+" with message "+Re.message),N=!0,F.eo(new Ne(je,Qe)),E.close()}else Fe("Connection","WebChannel received:",Ae),F.no(Ae)}}),V(d,jL.STAT_EVENT,W=>{W.stat===Ox.PROXY?Fe("Connection","Detected buffering proxy"):W.stat===Ox.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function SP(){return"undefined"!=typeof window?window:null}function bD(){return"undefined"!=typeof document?document:null}function Tv(n){return new RV(n,!0)}class GS{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class AP{constructor(e,t,r,i,l,d,m,y){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new GS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ve.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ne(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ve.Z)(function*(){e.state=0,e.start()}))}qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W2 extends AP{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function PV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:at(),i=e.targetChange.targetIds||[],l=function(y,E){return y.N?(Mt(void 0===E||"string"==typeof E),si.fromBase64String(E||"")):(Mt(void 0===E||E instanceof Uint8Array),si.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=void 0===y.code?de.UNKNOWN:EO(y.code);return new Ne(E,y.message||"")}(d);t=new IO(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=Bl(n,r.document.name),l=vi(r.document.updateTime),d=new Xi({mapValue:{fields:r.document.fields}}),m=$n.newFoundDocument(i,l,d);t=new oD(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Bl(n,r.document),l=r.readTime?vi(r.readTime):Tt.min(),d=$n.newNoDocument(i,l);t=new oD([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Bl(n,r.document);t=new oD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,l=new EV(r.count||0);t=new CO(r.targetId,l)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Tt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Tt.min():l.readTime?vi(l.readTime):Tt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=_v(this.M),t.addTarget=function(i,l){let d;const m=l.target;return d=JE(m)?{documents:kO(i,m)}:{query:FO(i,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=NO(i,l.resumeToken):l.snapshotVersion.compareTo(Tt.min())>0&&(d.readTime=gv(i,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function FV(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=_v(this.M),t.removeTarget=e,this.Oo(t)}}class z2 extends AP{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function kV(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let l=vi(r.updateTime?r.updateTime:i);return l.isEqual(Tt.min())&&(l=vi(i)),new vV(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.Jo(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=_v(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>yv(this.M,r))};this.Oo(t)}}class q2 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(de.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(de.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class K2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Br(t),this.su=!1):Fe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Z2{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;Bd(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(E){const S=Ke(E);S.lu.add(4),yield Yg(S),S._u.set("Unknown"),S.lu.delete(4),yield Sv(S)}),function(E){return y.apply(this,arguments)})(d))}))}),this._u=new K2(r,i)}}function Sv(n){return HS.apply(this,arguments)}function HS(){return HS=(0,ve.Z)(function*(n){if(Bd(n))for(const e of n.fu)yield e(!0)}),HS.apply(this,arguments)}function Yg(n){return $S.apply(this,arguments)}function $S(){return $S=(0,ve.Z)(function*(n){for(const e of n.fu)yield e(!1)}),$S.apply(this,arguments)}function wD(n,e){const t=Ke(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),qS(t)?zS(t):Qg(t).Co()&&WS(t,e))}function Av(n,e){const t=Ke(n),r=Qg(t);t.hu.delete(e),r.Co()&&NP(t,e),0===t.hu.size&&(r.Co()?r.ko():Bd(t)&&t._u.set("Unknown"))}function WS(n,e){n.wu.Z(e.targetId),Qg(n).Qo(e)}function NP(n,e){n.wu.Z(e),Qg(n).jo(e)}function zS(n){n.wu=new AV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Qg(n).start(),n._u.iu()}function qS(n){return Bd(n)&&!Qg(n).Do()&&n.hu.size>0}function Bd(n){return 0===Ke(n).lu.size}function MP(n){n.wu=void 0}function Y2(n){return KS.apply(this,arguments)}function KS(){return KS=(0,ve.Z)(function*(n){n.hu.forEach((e,t)=>{WS(n,e)})}),KS.apply(this,arguments)}function J2(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,ve.Z)(function*(n,e){MP(n),qS(n)?(n._u.uu(e),zS(n)):n._u.set("Unknown")}),ZS.apply(this,arguments)}function Q2(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,ve.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof IO&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,l){const d=l.cause;for(const m of l.targetIds)i.hu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.hu.delete(m),i.wu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ED(n,r)}else if(e instanceof oD?n.wu.ut(e):e instanceof CO?n.wu._t(e):n.wu.ht(e),!t.isEqual(Tt.min()))try{const r=yield yP(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.wu.yt(l);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=i.hu.get(y);E&&i.hu.set(y,E.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const y=i.hu.get(m);if(!y)return;i.hu.set(m,y.withResumeToken(si.EMPTY_BYTE_STRING,y.snapshotVersion)),NP(i,m);const E=new kd(y.target,m,1,y.sequenceNumber);WS(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield ED(n,r)}var r}),YS.apply(this,arguments)}function ED(n,e,t){return JS.apply(this,arguments)}function JS(){return JS=(0,ve.Z)(function*(n,e,t){if(!Mf(e))throw e;n.lu.add(1),yield Yg(n),n._u.set("Offline"),t||(t=()=>yP(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Sv(n)}))}),JS.apply(this,arguments)}function RP(n,e){return e().catch(t=>ED(n,t,e))}function Jg(n){return QS.apply(this,arguments)}function QS(){return QS=(0,ve.Z)(function*(n){const e=Ke(n),t=Ud(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;X2(e);)try{const i=yield M2(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,eB(e,i)}catch(i){yield ED(e,i)}xP(e)&&OP(e)}),QS.apply(this,arguments)}function X2(n){return Bd(n)&&n.cu.length<10}function eB(n,e){n.cu.push(e);const t=Ud(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function xP(n){return Bd(n)&&!Ud(n).Do()&&n.cu.length>0}function OP(n){Ud(n).start()}function tB(n){return XS.apply(this,arguments)}function XS(){return XS=(0,ve.Z)(function*(n){Ud(n).Xo()}),XS.apply(this,arguments)}function nB(n){return eA.apply(this,arguments)}function eA(){return eA=(0,ve.Z)(function*(n){const e=Ud(n);for(const t of n.cu)e.Ho(t.mutations)}),eA.apply(this,arguments)}function rB(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,ve.Z)(function*(n,e,t){const r=n.cu.shift(),i=bS.from(r,e,t);yield RP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jg(n)}),tA.apply(this,arguments)}function iB(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ve.Z)(function*(n,e){var t;e&&Ud(n).zo&&(yield(t=(0,ve.Z)(function*(r,i){if(wO(l=i.code)&&l!==de.ABORTED){const d=r.cu.shift();Ud(r).No(),yield RP(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Jg(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),xP(n)&&OP(n)}),nA.apply(this,arguments)}function PP(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,ve.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Bd(t);t.lu.add(3),yield Yg(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Sv(t)}),rA.apply(this,arguments)}function iA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,ve.Z)(function*(n,e){const t=Ke(n);e?(t.lu.delete(2),yield Sv(t)):e||(t.lu.add(2),yield Yg(t),t._u.set("Unknown"))}),sA.apply(this,arguments)}function Qg(n){return n.mu||(n.mu=function(e,t,r){const i=Ke(e);return i.tu(),new W2(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:Y2.bind(null,n),Jr:J2.bind(null,n),Ko:Q2.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.mu.No(),qS(n)?zS(n):n._u.set("Unknown")):(yield n.mu.stop(),MP(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Ud(n){return n.gu||(n.gu=function(e,t,r){const i=Ke(e);return i.tu(),new z2(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:tB.bind(null,n),Jr:iB.bind(null,n),Yo:nB.bind(null,n),Jo:rB.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.gu.No(),yield Jg(n)):(yield n.gu.stop(),n.cu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class oA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,m=new oA(e,t,d,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Mf(n))return new Ne(de.UNAVAILABLE,`${e}: ${n}`);throw n}class em{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=pS(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new em(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class kP{constructor(){this.yu=new Nr(We.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):at():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class tm{constructor(e,t,r,i,l,d,m,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new tm(e,t,em.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sB{constructor(){this.Iu=void 0,this.listeners=[]}}class oB{constructor(){this.queries=new Pd(e=>sO(e),lv),this.onlineState="Unknown",this.Tu=new Set}}function aA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new sB),i)try{l.Iu=yield t.onListen(r)}catch(d){const m=Xg(d,`Initialization of query '${cS(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&dA(t)}),lA.apply(this,arguments)}function uA(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),cA.apply(this,arguments)}function aB(n,e){const t=Ke(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Au(i)&&(r=!0);d.Iu=i}}r&&dA(t)}function lB(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function dA(n){n.Tu.forEach(e=>{e.next()})}class hA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new tm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class uB{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class FP{constructor(e){this.M=e}li(e){return Bl(this.M,e)}fi(e){return e.metadata.exists?PO(this.M,e.document,!1):$n.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return vi(e)}}class cB{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LP(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new FP(this.M);for(const i of e)if(i.metadata.queries){const l=r.li(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||bn()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function R2(n,e,t,r){return PS.apply(this,arguments)}(e.localStore,new FP(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield x2(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function LP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VP{constructor(e){this.key=e}}class BP{constructor(e){this.key=e}}class UP{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=bn(),this.mutatedKeys=bn(),this.Lu=aO(e),this.Uu=new em(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new kP,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const y=XE(this.query)&&i.size===this.query.limit?i.last():null,E=eD(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,N)=>{const F=i.get(S),V=dS(this.query,N)?N:null,W=!!F&&this.mutatedKeys.has(F.key),ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Ae=!1;F&&V?F.data.isEqual(V.data)?W!==ne&&(r.track({type:3,doc:V}),Ae=!0):this.Qu(F,V)||(r.track({type:2,doc:V}),Ae=!0,(y&&this.Lu(V,y)>0||E&&this.Lu(V,E)<0)&&(m=!0)):!F&&V?(r.track({type:0,doc:V}),Ae=!0):F&&!V&&(r.track({type:1,doc:F}),Ae=!0,(y||E)&&(m=!0)),Ae&&(V?(d=d.add(V),l=ne?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),XE(this.query)||eD(this.query))for(;d.size>this.query.limit;){const S=XE(this.query)?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:d,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((E,S)=>function(N,F){const V=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return V(N)-V(F)}(E.type,S.type)||this.Lu(E.doc,S.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,y=m!==this.$u;return this.$u=m,0!==l.length||y?{snapshot:new tm(this.query,e.Uu,i,l,e.mutatedKeys,0===m,y,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new kP,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=bn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new BP(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new VP(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=bn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return tm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class dB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hB{constructor(e){this.key=e,this.Xu=!1}}class fB{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Pd(m=>sO(m),lv),this.ea=new Map,this.na=new Set,this.sa=new Nr(We.comparator),this.ia=new Map,this.ra=new FS,this.oa={},this.ua=new Map,this.aa=kf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function pB(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,ve.Z)(function*(n,e){const t=FA(n);let r,i;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const d=yield Kg(t.localStore,ya(e));t.isPrimaryClient&&wD(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield pA(t,e,r,"current"===m)}return i}),fA.apply(this,arguments)}function pA(n,e,t,r){return gA.apply(this,arguments)}function gA(){return gA=(0,ve.Z)(function*(n,e,t,r){n.ha=(S,N,F)=>{return(V=(0,ve.Z)(function*(W,ne,Ae,Be){let Re=ne.view.Gu(Ae);Re.ei&&(Re=yield _D(W.localStore,ne.query,!1).then(({documents:Qe})=>ne.view.Gu(Qe,Re)));const _t=Be&&Be.targetChanges.get(ne.targetId),je=ne.view.applyChanges(Re,W.isPrimaryClient,_t);return IA(W,ne.targetId,je.zu),je.snapshot}),function(W,ne,Ae,Be){return V.apply(this,arguments)})(n,S,N,F);var V};const i=yield _D(n.localStore,e,!0),l=new UP(e,i.hi),d=l.Gu(i.documents),m=pv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=l.applyChanges(d,n.isPrimaryClient,m);IA(n,t,y.zu);const E=new dB(e,t,l);return n.ta.set(e,E),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),y.snapshot}),gA.apply(this,arguments)}function gB(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(l=>!lv(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Av(t.remoteStore,r.targetId),nm(t,r.targetId)}).catch(Ff))):(nm(t,r.targetId),yield Zg(t.localStore,r.targetId,!0))}),mA.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,e,t){const r=LA(n);try{const i=yield function(l,d){const m=Ke(l),y=Ar.now(),E=d.reduce((N,F)=>N.add(F.key),bn());let S;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>m.ai.qs(N,E).next(F=>{S=F;const V=[];for(const W of d){const ne=wV(W,S.get(W.key));null!=ne&&V.push(new Nf(W.key,ne,Jx(ne.value.mapValue),Ur.exists(!0)))}return m.$s.addMutationBatch(N,y,V,d)})).then(N=>(N.applyToLocalDocumentSet(S),{batchId:N.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,m){let y=l.oa[l.currentUser.toKey()];y||(y=new Nr(Yt)),y=y.insert(d,m),l.oa[l.currentUser.toKey()]=y}(r,i.batchId,t),yield cc(r,i.changes),yield Jg(r.remoteStore)}catch(i){const l=Xg(i,"Failed to persist write");t.reject(l)}}),_A.apply(this,arguments)}function jP(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,e){const t=Ke(n);try{const r=yield N2(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.ia.get(l);d&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Xu=!0:i.modifiedDocuments.size>0?Mt(d.Xu):i.removedDocuments.size>0&&(Mt(d.Xu),d.Xu=!1))}),yield cc(t,r,e)}catch(r){yield Ff(r)}}),yA.apply(this,arguments)}function GP(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((l,d)=>{const m=d.view.Eu(e);m.snapshot&&i.push(m.snapshot)}),function(l,d){const m=Ke(l);m.onlineState=d;let y=!1;m.queries.forEach((E,S)=>{for(const N of S.listeners)N.Eu(d)&&(y=!0)}),y&&dA(m)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _B(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,ve.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),l=i&&i.key;if(l){let d=new Nr(We.comparator);d=d.insert(l,$n.newNoDocument(l,Tt.min()));const m=bn().add(l),y=new fv(Tt.min(),new Map,new Wn(Yt),d,m);yield jP(r,y),r.sa=r.sa.remove(l),r.ia.delete(e),TA(r)}else yield Zg(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(Ff)}),vA.apply(this,arguments)}function yB(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield A2(t.localStore,e);CA(t,r,null),DA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield cc(t,i)}catch(i){yield Ff(i)}}),bA.apply(this,arguments)}function vB(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(l,d){const m=Ke(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return m.$s.lookupMutationBatch(y,d).next(S=>(Mt(null!==S),E=S.keys(),m.$s.removeMutationBatch(y,S))).next(()=>m.$s.performConsistencyCheck(y)).next(()=>m.ai.qs(y,E))})}(r.localStore,e);CA(r,e,t),DA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield cc(r,i)}catch(i){yield Ff(i)}}),wA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n,e){const t=Ke(n);Bd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Ke(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Xg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),EA.apply(this,arguments)}function DA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function CA(n,e,t){const r=Ke(n);let i=r.oa[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||HP(n,r)})}function HP(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Av(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),TA(n))}function IA(n,e,t){for(const r of t)r instanceof VP?(n.ra.addReference(r.key,e),wB(n,r)):r instanceof BP?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||HP(n,r.key)):at()}function wB(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.na.add(r),TA(n))}function TA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new We(dn.fromString(e)),r=n.aa.next();n.ia.set(r,new hB(t)),n.sa=n.sa.insert(t,r),wD(n.remoteStore,new kd(ya(Lg(t.path)),r,2,Vo.A))}}function cc(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,ve.Z)(function*(n,e,t){const r=Ke(n),i=[],l=[],d=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,y)=>{d.push(r.ha(y,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E.fromCache?"not-current":"current"),i.push(E);const S=RS.Js(y.targetId,E);l.push(S)}}))}),yield Promise.all(d),r.Zu.Ko(i),yield(m=(0,ve.Z)(function*(y,E){const S=Ke(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>pe.forEach(E,F=>pe.forEach(F.zs,V=>S.persistence.referenceDelegate.addReference(N,F.targetId,V)).next(()=>pe.forEach(F.Hs,V=>S.persistence.referenceDelegate.removeReference(N,F.targetId,V)))))}catch(N){if(!Mf(N))throw N;Fe("LocalStore","Failed to update sequence numbers: "+N)}for(const N of E){const F=N.targetId;if(!N.fromCache){const V=S.si.get(F),ne=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);S.si=S.si.insert(F,ne)}}}),function(y,E){return m.apply(this,arguments)})(r.localStore,l))}),SA.apply(this,arguments)}function EB(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield _P(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new Ne(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cc(t,r.ci)}var i}),AA.apply(this,arguments)}function DB(n,e){const t=Ke(n),r=t.ia.get(e);if(r&&r.Xu)return bn().add(r.key);{let i=bn();const l=t.ea.get(e);if(!l)return i;for(const d of l){const m=t.ta.get(d);i=i.unionWith(m.view.qu)}return i}}function CB(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=yield _D(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&IA(t,e.targetId,i.zu),i}),NA.apply(this,arguments)}function IB(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n,e){const t=Ke(n);return wP(t.localStore,e).then(r=>cc(t,r))}),MA.apply(this,arguments)}function TB(n,e,t,r){return RA.apply(this,arguments)}function RA(){return RA=(0,ve.Z)(function*(n,e,t,r){const i=Ke(n),l=yield function(d,m){const y=Ke(d),E=Ke(y.$s);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.ln(S,m).next(N=>N?y.ai.qs(S,N):pe.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield Jg(i.remoteStore):"acknowledged"===t||"rejected"===t?(CA(i,e,r||null),DA(i,e),m=e,Ke(Ke(i.localStore).$s).dn(m)):at(),yield cc(i,l)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),RA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n,e){const t=Ke(n);if(FA(t),LA(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield $P(t,r.toArray());t.ca=!0,yield iA(t.remoteStore,!0);for(const l of i)wD(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(nm(t,d),Zg(t.localStore,d,!0))),Av(t.remoteStore,d)}),yield i,yield $P(t,r),function(l){const d=Ke(l);d.ia.forEach((m,y)=>{Av(d.remoteStore,y)}),d.ra.bi(),d.ia=new Map,d.sa=new Nr(We.comparator)}(t),t.ca=!1,yield iA(t.remoteStore,!1)}}),xA.apply(this,arguments)}function $P(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,ve.Z)(function*(n,e,t){const r=Ke(n),i=[],l=[];for(const d of e){let m;const y=r.ea.get(d);if(y&&0!==y.length){m=yield Kg(r.localStore,ya(y[0]));for(const E of y){const S=r.ta.get(E),N=yield CB(r,S);N.snapshot&&l.push(N.snapshot)}}else{const E=yield bP(r.localStore,d);m=yield Kg(r.localStore,E),yield pA(r,WP(E),d,!1)}i.push(m)}return r.Zu.Ko(l),i}),OA.apply(this,arguments)}function WP(n){return rO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AB(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Os()}function NB(n,e,t,r){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n,e,t,r){const i=Ke(n);if(i.ca)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield wP(i.localStore,oO(l[0])),m=fv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield cc(i,d,m);break}case"rejected":yield Zg(i.localStore,e,!0),nm(i,e,r);break;default:at()}}),PA.apply(this,arguments)}function MB(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,ve.Z)(function*(n,e,t){const r=FA(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const l=yield bP(r.localStore,i),d=yield Kg(r.localStore,l);yield pA(r,WP(l),d.targetId,!1),wD(r.remoteStore,d)}for(const i of t)r.ea.has(i)&&(yield Zg(r.localStore,i,!1).then(()=>{Av(r.remoteStore,i),nm(r,i)}).catch(Ff))}}),kA.apply(this,arguments)}function FA(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_B.bind(null,e),e.Zu.Ko=aB.bind(null,e.eventManager),e.Zu.la=lB.bind(null,e.eventManager),e}function LA(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vB.bind(null,e),e}class zP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.M=Tv(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return mP(this.persistence,new gP,e.initialUser,this.M)}_a(e){return new B2(LS.Wi,this.M)}da(e){return new IP}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qP extends zP{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield LA(r.ga.syncEngine),yield Jg(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return mP(this.persistence,new gP,e.initialUser,this.M)}wa(e){return new b2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=MS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new NS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,SP(),bD(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new IP}}class xB extends qP{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof jS&&(r.sharedClientState.syncEngine={kr:TB.bind(null,i),Mr:NB.bind(null,i),Or:MB.bind(null,i),Os:AB.bind(null,i),Nr:IB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ve.Z)(function*(d){yield function SB(n,e){return xA.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=SP();if(!jS.vt(t))throw new Ne(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=MS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class VA{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>GP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=EB.bind(null,r.syncEngine),yield iA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oB}createDatastore(e){const t=Tv(e.databaseInfo.databaseId),r=new $2(e.databaseInfo);return new q2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>GP(this.syncEngine,m,0),d=TP.vt()?new TP:new j2,new Z2(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,m,y,E){const S=new fB(r,i,l,d,m,y);return E&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Yg(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KP(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class DD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class OB{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new _i,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new uB(JSON.parse(l),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ve.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class PB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(l,d){const m=Ke(l),y=_v(m.M)+"/documents",E={documents:d.map(V=>mv(m.M,V))},S=yield m.co("BatchGetDocuments",y,E),N=new Map;S.forEach(V=>{const W=function OV(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=Bl(t,r.found.name),l=vi(r.found.updateTime),d=new Xi({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=Bl(t,r.missing),l=vi(r.readTime);return $n.newNoDocument(i,l)}(n,e):at()}(m.M,V);N.set(W.key.toString(),W)});const F=[];return d.forEach(V=>{const W=N.get(V.toString());Mt(!!W),F.push(W)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=We.fromPath(i);e.mutations.push(new fS(l,e.precondition(l)))}),yield(r=(0,ve.Z)(function*(i,l){const d=Ke(i),m=_v(d.M)+"/documents",y={writes:l.map(E=>yv(d.M,E))};yield d.ro("Commit",m,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new Ne(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kB{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new GS(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ve.Z)(function*(){const t=new PB(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ca(l)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Cf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wO(t)}return!1}}class FB{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Li.UNAUTHENTICATED,this.clientId=Lx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Xg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ZP(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(l){r.isEqual(l)||(yield _P(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),BA.apply(this,arguments)}function YP(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>PP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>PP(e.remoteStore,l)),n.onlineComponents=e}),UA.apply(this,arguments)}function jA(n){return GA.apply(this,arguments)}function GA(){return GA=(0,ve.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield ZP(n,new zP)),n.offlineComponents}),GA.apply(this,arguments)}function CD(n){return HA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield YP(n,new VA)),n.onlineComponents}),HA.apply(this,arguments)}function JP(n){return jA(n).then(e=>e.persistence)}function $A(n){return jA(n).then(e=>e.localStore)}function QP(n){return CD(n).then(e=>e.remoteStore)}function WA(n){return CD(n).then(e=>e.syncEngine)}function rm(n){return zA.apply(this,arguments)}function zA(){return zA=(0,ve.Z)(function*(n){const e=yield CD(n),t=e.eventManager;return t.onListen=pB.bind(null,e.syncEngine),t.onUnlisten=gB.bind(null,e.syncEngine),t}),zA.apply(this,arguments)}function XP(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,l,d,m,y){const E=new DD({next:N=>{l.enqueueAndForget(()=>uA(i,S));const F=N.docs.has(d);!F&&N.fromCache?y.reject(new Ne(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&m&&"server"===m.source?y.reject(new Ne(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new hA(Lg(d.path),E,{includeMetadataChanges:!0,Du:!0});return aA(i,S)}(yield rm(n),n.asyncQueue,e,t,r)})),r.promise}function ek(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,l,d,m,y){const E=new DD({next:N=>{l.enqueueAndForget(()=>uA(i,S)),N.fromCache&&"server"===m.source?y.reject(new Ne(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new hA(d,E,{includeMetadataChanges:!0,Du:!0});return aA(i,S)}(yield rm(n),n.asyncQueue,e,t,r)})),r.promise}const tk=new Map;function qA(n,e,t){if(!t)throw new Ne(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nk(n,e,t,r){if(!0===e&&!0===r)throw new Ne(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rk(n){if(!We.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ik(n){if(We.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ID(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ID(n);throw new Ne(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sk(n,e){if(e<=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ok{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ok({}),this._settingsFrozen=!1,e instanceof ac?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ok(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zL;switch(t.type){case"gapi":const r=t.client;return Mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new YL(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tk.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),tk.delete(e),t.terminate())}(this),Promise.resolve()}}class zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Ul extends es{constructor(e,t,r){super(e,t,Lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new We(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function ak(n,e,...t){if(n=(0,Vt.m9)(n),qA("collection","path",e),n instanceof Nv){const r=dn.fromString(e,...t);return ik(r),new Ul(n,null,r)}{if(!(n instanceof zn||n instanceof Ul))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return ik(r),new Ul(n.firestore,null,r)}}function TD(n,e,...t){if(n=(0,Vt.m9)(n),1===arguments.length&&(e=Lx.R()),qA("doc","path",e),n instanceof Nv){const r=dn.fromString(e,...t);return rk(r),new zn(n,null,new We(r))}{if(!(n instanceof zn||n instanceof Ul))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return rk(r),new zn(n.firestore,n instanceof Ul?n.converter:null,new We(r))}}function lk(n,e){return n=(0,Vt.m9)(n),e=(0,Vt.m9)(e),(n instanceof zn||n instanceof Ul)&&(e instanceof zn||e instanceof Ul)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uk(n,e){return n=(0,Vt.m9)(n),e=(0,Vt.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&lv(n._query,e._query)&&n.converter===e.converter}class qB{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new GS(this,"async_queue_retry"),this.Ua=()=>{const t=bD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=bD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=bD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new _i;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ve.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Mf(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Br("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=oA.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(i),i}qa(){this.Fa&&at()}verifyOperationInProgress(){}ja(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function KA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class KB{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends Nv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new qB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ck(this),this._firestoreClient.terminate()}}function Gr(n){return n._firestoreClient||ck(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ck(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nV(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new FB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dk(n,e,t){const r=new _i;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield ZP(n,t),yield YP(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function hk(n){if(n._initialized||n._terminated)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(si.fromBase64String(e))}catch(t){throw new Ne(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vf{constructor(e){this._methodName=e}}class SD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const iU=/^__.*__$/;class sU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Nf(e,this.data,this.fieldMask,t,this.fieldTransforms):new cv(e,this.data,t,this.fieldTransforms)}}class fk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Nf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class AD{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new AD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return RD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(pk(this.Ya)&&iU.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class oU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Tv(e)}uc(e,t,r,i=!1){return new AD({Ya:e,methodName:t,oc:r,path:yi.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bf(n){const e=n._freezeSettings(),t=Tv(n._databaseId);return new oU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ND(n,e,t,r,i,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,i);QA("Data must be an object, but it was:",d,r);const m=_k(r,d);let y,E;if(l.merge)y=new xg(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const N of l.mergeFields){const F=XA(e,N,t);if(!d.contains(F))throw new Ne(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);vk(S,F)||S.push(F)}y=new xg(S),E=d.fieldTransforms.filter(N=>y.covers(N.field))}else y=null,E=d.fieldTransforms;return new sU(new Xi(m),y,E)}class Mv extends Vf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mv}}function gk(n,e,t){return new AD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ZA extends Vf{_toFieldTransform(e){return new uv(e.path,new Bg)}isEqual(e){return e instanceof ZA}}class aU extends Vf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=gk(this,e,!0),r=this.ac.map(l=>Uf(l,t)),i=new Sf(r);return new uv(e.path,i)}isEqual(e){return this===e}}class lU extends Vf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=gk(this,e,!0),r=this.ac.map(l=>Uf(l,t)),i=new Af(r);return new uv(e.path,i)}isEqual(e){return this===e}}class uU extends Vf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Ug(e.M,cO(e.M,this.cc));return new uv(e.path,t)}isEqual(e){return this===e}}function YA(n,e,t,r){const i=n.uc(1,e,t);QA("Data must be an object, but it was:",i,r);const l=[],d=Xi.empty();Ef(r,(y,E)=>{const S=MD(e,y,t);E=(0,Vt.m9)(E);const N=i.nc(S);if(E instanceof Mv)l.push(S);else{const F=Uf(E,N);null!=F&&(l.push(S),d.set(S,F))}});const m=new xg(l);return new fk(d,m,i.fieldTransforms)}function JA(n,e,t,r,i,l){const d=n.uc(1,e,t),m=[XA(e,r,t)],y=[i];if(l.length%2!=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)m.push(XA(e,l[F])),y.push(l[F+1]);const E=[],S=Xi.empty();for(let F=m.length-1;F>=0;--F)if(!vk(E,m[F])){const V=m[F];let W=y[F];W=(0,Vt.m9)(W);const ne=d.nc(V);if(W instanceof Mv)E.push(V);else{const Ae=Uf(W,ne);null!=Ae&&(E.push(V),S.set(V,Ae))}}const N=new xg(E);return new fk(S,N,d.fieldTransforms)}function mk(n,e,t,r=!1){return Uf(t,n.uc(r?4:3,e))}function Uf(n,e){if(yk(n=(0,Vt.m9)(n)))return QA("Unsupported field value:",e,n),_k(n,e);if(n instanceof Vf)return function(t,r){if(!pk(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let m=Uf(d,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cO(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ar.fromDate(t);return{timestampValue:gv(r.M,i)}}if(t instanceof Ar){const i=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gv(r.M,i)}}if(t instanceof SD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:NO(r.M,t._byteString)};if(t instanceof zn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${ID(t)}`)}(n,e)}function _k(n,e){const t={};return Ux(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ef(n,(r,i)=>{const l=Uf(i,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function yk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof SD||n instanceof jl||n instanceof zn||n instanceof Vf)}function QA(n,e,t){if(!yk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ID(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function XA(n,e,t){if((e=(0,Vt.m9)(e))instanceof dc)return e._internalPath;if("string"==typeof e)return MD(n,e);throw RD("Field path arguments must be of type string or ",n,!1,void 0,t)}const cU=new RegExp("[~\\*/\\[\\]]");function MD(n,e,t){if(e.search(cU)>=0)throw RD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dc(...e.split("."))._internalPath}catch(r){throw RD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function RD(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(l||d)&&(y+=" (found",l&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Ne(de.INVALID_ARGUMENT,m+n+y)}function vk(n,e){return n.some(t=>t.isEqual(e))}class Rv{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dU extends Rv{data(){return super.data()}}function xD(n,e){return"string"==typeof e?MD(n,e):e instanceof dc?e._internalPath:e._delegate._internalPath}class jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hc extends Rv{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xv extends hc{data(e={}){return super.data(e)}}class jd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xv(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new xv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new jf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new xv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new jf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==d.type&&(y=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),E=l.indexOf(d.doc.key)),{type:hU(d.type),doc:m,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function bk(n,e){return n instanceof hc&&e instanceof hc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jd&&e instanceof jd&&n._firestore===e._firestore&&uk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function wk(n){if(eD(n)&&0===n.explicitOrderBy.length)throw new Ne(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}function Gd(n,...e){for(const t of e)n=t._apply(n);return n}class fU extends Ov{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Bf(e.firestore),r=function(i,l,d,m,y,E,S){let N;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){Sk(S,E);const V=[];for(const W of S)V.push(Tk(m,i,W));N={arrayValue:{values:V}}}else N=Tk(m,i,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||Sk(S,E),N=mk(d,"where",S,"in"===E||"not-in"===E);const F=Vi.create(y,E,N);return function(V,W){if(W.S()){const Ae=lS(V);if(null!==Ae&&!Ae.isEqual(W.field))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ae.toString()}' and '${W.field.toString()}'`);const Be=aS(V);null!==Be&&Ak(0,W.field,Be)}const ne=function(Ae,Be){for(const Re of Ae.filters)if(Be.indexOf(Re.op)>=0)return Re.op;return null}(V,function(Ae){switch(Ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==ne)throw new Ne(de.INVALID_ARGUMENT,ne===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${ne.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new es(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new uc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class gU extends Ov{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Fg(i,l);return function(m,y){if(null===aS(m)){const E=lS(m);null!==E&&Ak(0,E,y.field)}}(r,d),d}(e._query,this.hc,this.dc);return new es(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new uc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ek extends Ov{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new es(e.firestore,e.converter,iO(e._query,this._c,this.wc))}}class Dk extends Ov{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=Ik(e,this.type,this.mc,this.gc);return new es(e.firestore,e.converter,(i=t,new uc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Ck extends Ov{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=Ik(e,this.type,this.mc,this.gc);return new es(e.firestore,e.converter,(i=t,new uc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Ik(n,e,t,r){if(t[0]=(0,Vt.m9)(t[0]),t[0]instanceof Rv)return function(i,l,d,m,y){if(!m)throw new Ne(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const S of Vg(i))if(S.field.isKeyField())E.push(Pg(l,m.key));else{const N=m.data.field(S.field);if(rS(N))throw new Ne(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const F=S.field.canonicalString();throw new Ne(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}E.push(N)}return new Od(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Bf(n.firestore);return function(l,d,m,y,E,S){const N=l.explicitOrderBy;if(E.length>N.length)throw new Ne(de.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let V=0;V<E.length;V++){const W=E[V];if(N[V].field.isKeyField()){if("string"!=typeof W)throw new Ne(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof W}`);if(!uS(l)&&-1!==W.indexOf("/"))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${W}' contains a slash.`);const ne=l.path.child(dn.fromString(W));if(!We.isDocumentKey(ne))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const Ae=new We(ne);F.push(Pg(d,Ae))}else{const ne=mk(m,y,W);F.push(ne)}}return new Od(F,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Tk(n,e,t){if("string"==typeof(t=(0,Vt.m9)(t))){if(""===t)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(e)&&-1!==t.indexOf("/"))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!We.isDocumentKey(r))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pg(n,new We(r))}if(t instanceof zn)return Pg(n,t._key);throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ID(t)}.`)}function Sk(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ak(n,e,t){if(!t.isEqual(e))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class eN{convertValue(e,t="none"){switch(If(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Df(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return Ef(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new SD(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jx(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tv(e));default:return null}}convertTimestamp(e){const t=Rd(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);Mt(BO(r));const i=new ac(r.get(1),r.get(3)),l=new We(r.popFirst(5));return i.isEqual(t)||Br(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function OD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class DU extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}class Nk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bf(e)}set(e,t,r){this._verifyNotCommitted();const i=Hd(e,this._firestore),l=OD(i.converter,t,r),d=ND(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Hd(e,this._firestore);let d;return d="string"==typeof(t=(0,Vt.m9)(t))||t instanceof dc?JA(this._dataReader,"WriteBatch.update",l._key,t,r,i):YA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hd(e,this._firestore);return this._mutations=this._mutations.concat(new dv(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hd(n,e){if((n=(0,Vt.m9)(n)).firestore!==e)throw new Ne(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gf extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function Mk(n,e,t){n=on(n,zn);const r=on(n.firestore,er),i=OD(n.converter,e,t);return im(r,[ND(Bf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ur.none())])}function Rk(n,e,t,...r){n=on(n,zn);const i=on(n.firestore,er),l=Bf(i);let d;return d="string"==typeof(e=(0,Vt.m9)(e))||e instanceof dc?JA(l,"updateDoc",n._key,e,t,r):YA(l,"updateDoc",n._key,e),im(i,[d.toMutation(n._key,Ur.exists(!0))])}function xk(n,...e){var t,r,i;n=(0,Vt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||KA(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(KA(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(i=N.complete)||void 0===i?void 0:i.bind(N)}let y,E,S;if(n instanceof zn)E=on(n.firestore,er),S=Lg(n._key.path),y={next:N=>{e[d]&&e[d](tN(E,n,N))},error:e[d+1],complete:e[d+2]};else{const N=on(n,es);E=on(N.firestore,er),S=N._query;const F=new Gf(E);y={next:V=>{e[d]&&e[d](new jd(E,F,N,V))},error:e[d+1],complete:e[d+2]},wk(n._query)}return function(N,F,V,W){const ne=new DD(W),Ae=new hA(F,ne,V);return N.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return aA(yield rm(N),Ae)})),()=>{ne.pa(),N.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return uA(yield rm(N),Ae)}))}}(Gr(E),S,m,y)}function im(n,e){return function(t,r){const i=new _i;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function mB(n,e,t){return _A.apply(this,arguments)}(yield WA(t),r,i)})),i.promise}(Gr(n),e)}function tN(n,e,t){const r=t.docs.get(e._key),i=new Gf(n);return new hc(n,i,e._key,r,new jf(t.hasPendingWrites,t.fromCache),e.converter)}class OU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bf(e)}get(e){const t=Hd(e,this._firestore),r=new DU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return at();const l=i[0];if(l.isFoundDocument())return new Rv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Rv(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const i=Hd(e,this._firestore),l=OD(i.converter,t,r),d=ND(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Hd(e,this._firestore);let d;return d="string"==typeof(t=(0,Vt.m9)(t))||t instanceof dc?JA(this._dataReader,"Transaction.update",l._key,t,r,i):YA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Hd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hd(e,this._firestore),r=new Gf(this._firestore);return super.get(e).then(i=>new hc(this._firestore,r,t._key,i._document,new jf(!1,!1),t.converter))}}function nN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Pk(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function kk(){if(!function eV(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Mg=nc.SDK_VERSION,(0,nc._registerComponent)(new Td.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new er(i,new KL(t.getProvider("auth-internal")),new JL(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,nc.registerVersion)(Px,"3.4.7",n),(0,nc.registerVersion)(Px,"3.4.7","esm2017")}();class Pv{constructor(e){this._delegate=e}static fromBase64String(e){return kk(),new Pv(jl.fromBase64String(e))}static fromUint8Array(e){return Pk(),new Pv(jl.fromUint8Array(e))}toBase64(){return kk(),this._delegate.toBase64()}toUint8Array(){return Pk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rN(n){return function GU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class HU{enableIndexedDbPersistence(e,t){return function YB(n,e){hk(n=on(n,er));const t=Gr(n),r=n._freezeSettings(),i=new VA;return dk(t,i,new qP(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function JB(n){hk(n=on(n,er));const e=Gr(n),t=n._freezeSettings(),r=new VA;return dk(e,r,new xB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function QB(n){if(n._initialized&&!n._terminated)throw new Ne(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Ja.vt())return Promise.resolve();const i=r+"main";yield Ja.delete(i)}),function(r){return t.apply(this,arguments)})(MS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function WB(n,e,t,r={}){var i;const l=(n=on(n,Nv))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Xy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Li.MOCK_USER;else{d=(0,Vt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Li(y)}n._authCredentials=new qL(new kx(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function eU(n){return function LB(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield JP(n),t=yield QP(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i.lu.delete(0),Sv(i)}(t)}))}(Gr(n=on(n,er)))}(this._delegate)}disableNetwork(){return function tU(n){return function VB(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield JP(n),t=yield QP(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const l=Ke(i);l.lu.add(0),yield Yg(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Gr(n=on(n,er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,nk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function XB(n){return function(e){const t=new _i;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function bB(n,e){return EA.apply(this,arguments)}(yield WA(e),t)})),t.promise}(Gr(n=on(n,er)))}(this._delegate)}onSnapshotsInSync(e){return function xU(n,e){return function jB(n,e){const t=new DD(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield rm(n),i=t,Ke(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield rm(n),i=t,void Ke(r).Tu.delete(i);var r,i}))}}(Gr(n=on(n,er)),KA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sm(this,ak(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}}doc(e){try{return new ba(this,TD(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ds(this,function zB(n,e){if(n=on(n,Nv),qA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new uc(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function PU(n,e){return function GB(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(i=n,CD(i).then(l=>l.datastore));var i;new kB(n.asyncQueue,r,e,t).run()})),t.promise}(Gr(n=on(n,er)),t=>e(new OU(n,t)))}(this._delegate,t=>e(new Lk(this,t)))}batch(){return Gr(this._delegate),new Vk(new Nk(this._delegate,e=>im(this._delegate,e)))}loadBundle(e){return function nU(n,e){const t=Gr(n=on(n,er)),r=new KB;return function HB(n,e,t,r){const i=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,E){if(y instanceof Uint8Array)return KP(y,E);if(y instanceof ArrayBuffer)return KP(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new OB(y,d);var y}(t,Tv(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function RB(n,e,t){const r=Ke(n);var i;(i=(0,ve.Z)(function*(l,d,m){try{const y=yield d.getMetadata();if(yield function(F,V){const W=Ke(F),ne=vi(V.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",Ae=>W.ds.getBundleMetadata(Ae,V.id)).then(Ae=>!!Ae&&Ae.createTime.compareTo(ne)>=0)}(l.localStore,y))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);m._updateProgress(LP(y));const E=new cB(y,l.localStore,d.M);let S=yield d.fa();for(;S;){const F=yield E.Nu(S);F&&m._updateProgress(F),S=yield d.fa()}const N=yield E.complete();return yield cc(l,N.Ou,void 0),yield function(F,V){const W=Ke(F);return W.persistence.runTransaction("Save bundle","readwrite",ne=>W.ds.saveBundleMetadata(ne,V))}(l.localStore,y),m._completeWith(N.progress),Promise.resolve(N.Mu)}catch(y){return Xy("SyncEngine",`Loading bundle failed with ${y}`),m._failWith(y),Promise.resolve(new Set)}var F}),function(l,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield WA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rU(n,e){return function $B(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.ds.getNamedQuery(l,r))}(yield $A(n),e)}))}(Gr(n=on(n,er)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ds(this,t):null)}}class PD extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pv(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ba.forKey(t,this.firestore,null)}}class Lk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PD(e)}get(e){const t=$f(e);return this._delegate.get(t).then(r=>new kv(this._firestore,new hc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=$f(e);return r?(nN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=$f(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=$f(e);return this._delegate.delete(t),this}}class Vk{constructor(e){this._delegate=e}set(e,t,r){const i=$f(e);return r?(nN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=$f(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=$f(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new xv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Hf(e,new PD(e),t),i.set(t,l)),l}}Hf.INSTANCES=new WeakMap;class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ba(t,new zn(t._delegate,r,new We(e)))}static forKey(e,t,r){return new ba(t,new zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sm(this.firestore,ak(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Vt.m9)(e))instanceof zn&&lk(this._delegate,e)}set(e,t){t=nN("DocumentReference.set",t);try{return t?Mk(this._delegate,e,t):Mk(this._delegate,e)}catch(r){throw Es(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Rk(this._delegate,e):Rk(this._delegate,e,t,...r)}catch(i){throw Es(i,"updateDoc()","DocumentReference.update()")}}delete(){return function MU(n){return im(on(n.firestore,er),[new dv(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=Bk(e),r=Uk(e,i=>new kv(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xk(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function IU(n){n=on(n,zn);const e=on(n.firestore,er),t=Gr(e),r=new Gf(e);return function BB(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,l,d){try{const m=yield function(y,E){const S=Ke(y);return S.persistence.runTransaction("read document","readonly",N=>S.ai.Bs(N,E))}(i,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ne(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const y=Xg(m,`Failed to get document '${l} from cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield $A(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hc(e,r,n._key,i,new jf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function TU(n){n=on(n,zn);const e=on(n.firestore,er);return XP(Gr(e),n._key,{source:"server"}).then(t=>tN(e,n,t))}(this._delegate):function CU(n){n=on(n,zn);const e=on(n.firestore,er);return XP(Gr(e),n._key).then(t=>tN(e,n,t))}(this._delegate),t.then(r=>new kv(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}function Es(n,e,t){return n.message=n.message.replace(e,t),n}function Bk(n){for(const e of n)if("object"==typeof e&&!rN(e))return e;return{}}function Uk(n,e){var t,r;let i;return i=rN(n[0])?n[0]:rN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bk(this._delegate,e._delegate)}}class Fv extends kv{data(e){const t=this._delegate.data(e);return function WL(n,e){n||at()}(void 0!==t),t}}class Ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PD(e)}where(e,t,r){try{return new Ds(this.firestore,Gd(this._delegate,function pU(n,e,t){const r=e,i=xD("where",n);return new fU(i,r,t)}(e,t,r)))}catch(i){throw Es(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ds(this.firestore,Gd(this._delegate,function mU(n,e="asc"){const t=e,r=xD("orderBy",n);return new gU(r,t)}(e,t)))}catch(r){throw Es(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ds(this.firestore,Gd(this._delegate,function _U(n){return sk("limit",n),new Ek("limit",n,"F")}(e)))}catch(t){throw Es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ds(this.firestore,Gd(this._delegate,function yU(n){return sk("limitToLast",n),new Ek("limitToLast",n,"L")}(e)))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ds(this.firestore,Gd(this._delegate,function vU(...n){return new Dk("startAt",n,!0)}(...e)))}catch(t){throw Es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ds(this.firestore,Gd(this._delegate,function bU(...n){return new Dk("startAfter",n,!1)}(...e)))}catch(t){throw Es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ds(this.firestore,Gd(this._delegate,function wU(...n){return new Ck("endBefore",n,!1)}(...e)))}catch(t){throw Es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ds(this.firestore,Gd(this._delegate,function EU(...n){return new Ck("endAt",n,!0)}(...e)))}catch(t){throw Es(t,"endAt()","Query.endAt()")}}isEqual(e){return uk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function AU(n){n=on(n,es);const e=on(n.firestore,er),t=Gr(e),r=new Gf(e);return function UB(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,l,d){try{const m=yield _D(i,l,!0),y=new UP(l,m.hi),E=y.Gu(m.documents),S=y.applyChanges(E,!1);d.resolve(S.snapshot)}catch(m){const y=Xg(m,`Failed to execute query '${l} against cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield $A(n),e,t);var r})),t.promise}(t,n._query).then(i=>new jd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function NU(n){n=on(n,es);const e=on(n.firestore,er),t=Gr(e),r=new Gf(e);return ek(t,n._query,{source:"server"}).then(i=>new jd(e,r,n,i))}(this._delegate):function SU(n){n=on(n,es);const e=on(n.firestore,er),t=Gr(e),r=new Gf(e);return wk(n._query),ek(t,n._query).then(i=>new jd(e,r,n,i))}(this._delegate),t.then(r=>new iN(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Bk(e),r=Uk(e,i=>new iN(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xk(this._delegate,t,r)}withConverter(e){return new Ds(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}class WU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Fv(this._firestore,r))})}isEqual(e){return bk(this._delegate,e._delegate)}}class sm extends Ds{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ba(this.firestore,e):null}doc(e){try{return new ba(this.firestore,void 0===e?TD(this._delegate):TD(this._delegate,e))}catch(t){throw Es(t,"doc()","CollectionReference.doc()")}}add(e){return function RU(n,e){const t=on(n.firestore,er),r=TD(n),i=OD(n.converter,e);return im(t,[ND(Bf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ba(this.firestore,t))}isEqual(e){return lk(this._delegate,e._delegate)}withConverter(e){return new sm(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}function $f(n){return on(n,zn)}class sN{constructor(...e){this._delegate=new dc(...e)}static documentId(){return new sN(yi.keyField().canonicalString())}isEqual(e){return(e=(0,Vt.m9)(e))instanceof dc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function FU(){return new ZA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wf(e)}static delete(){const e=function kU(){return new Mv("deleteField")}();return e._methodName="FieldValue.delete",new Wf(e)}static arrayUnion(...e){const t=function LU(...n){return new aU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wf(t)}static arrayRemove(...e){const t=function VU(...n){return new lU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wf(t)}static increment(e){const t=function BU(n){return new uU("increment",n)}(e);return t._methodName="FieldValue.increment",new Wf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zU={Firestore:Fk,GeoPoint:SD,Timestamp:Ar,Blob:Pv,Transaction:Lk,WriteBatch:Vk,DocumentReference:ba,DocumentSnapshot:kv,Query:Ds,QueryDocumentSnapshot:Fv,QuerySnapshot:iN,CollectionReference:sm,FieldPath:sN,FieldValue:Wf,setLogLevel:function $U(n){!function $L(n){Md.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function KU(n){(function qU(n,e){n.INTERNAL.registerComponent(new Td.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},zU)))})(n,(e,t)=>new Fk(e,t,new HU)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(Oy.Z);var ZU=O(6451),kD=O(5363),YU=O(6063);class JU extends Cn.x{constructor(e=1/0,t=1/0,r=YU.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let m=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)m=y;m&&r.splice(0,m+1)}}}var QU=O(3099);function jk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,QU.B)({connector:()=>new JU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Gk(n,e){return(0,Ni.m)(e)?L(()=>n,e):L(()=>n)}var oN=O(9468);O(5867);const $k=new Map,rj={activated:!1,tokenObservers:[]},ij={initialized:!1,enabled:!1};function Di(n){return $k.get(n)||rj}function Qa(n,e){$k.set(n,e)}function LD(){return ij}class uj{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Vt.BH,yield function cj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Vt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Cs=new Vt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zk(n){if(!Di(n).activated)throw Cs.create("use-before-activation",{appName:n.name})}function cN(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const N=yield i.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(N){throw Cs.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==d.status)throw Cs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw Cs.create("fetch-parse-error",{originalErrorMessage:N.message})}const y=m.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const E=1e3*Number(y[1]),S=Date.now();return{token:m.attestationToken,expireTimeMillis:S+E,issuedAtTimeMillis:S}}),dN.apply(this,arguments)}function gj(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Lv="firebase-app-check-store";let UD=null;function Kk(){return UD||(UD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Cs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Lv,{keyPath:"compositeKey"})}}catch(t){e(Cs.create("storage-open",{originalErrorMessage:t.message}))}}),UD)}function hN(){return hN=(0,ve.Z)(function*(n,e){const r=(yield Kk()).transaction(Lv,"readwrite"),l=r.objectStore(Lv).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=y=>{d()},r.onerror=y=>{var E;m(Cs.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})}),hN.apply(this,arguments)}const Vv=new _a.Yd("@firebase/app-check");function Qk(n,e){return(0,Vt.hl)()?function vj(n,e){return function Zk(n,e){return hN.apply(this,arguments)}(function Jk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Xk(){return LD().enabled}function eF(){return mN.apply(this,arguments)}function mN(){return mN=(0,ve.Z)(function*(){const n=LD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),mN.apply(this,arguments)}const Ij={error:"UNKNOWN_ERROR"};function Tj(n){return Vt.US.encodeString(JSON.stringify(n),!1)}function jD(n){return _N.apply(this,arguments)}function _N(){return _N=(0,ve.Z)(function*(n,e=!1){const t=n.app;zk(t);const r=Di(t);let l,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&GD(y)&&(i=y)}if(!e&&i&&GD(i))return{token:i.token};let m,d=!1;if(Xk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cN(gj(t,yield eF()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const y=yield r.exchangeTokenPromise;return yield Qk(t,y),Qa(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Vv.warn(y.message):Vv.error(y),l=y}return i?(m={token:i.token},Qa(t,Object.assign(Object.assign({},r),{token:i})),yield Qk(t,i)):m=Aj(l),d&&nF(t,m),m}),_N.apply(this,arguments)}function vN(n,e){const t=Di(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function tF(n){const{app:e}=n,t=Di(e);let r=t.tokenRefresher;r||(r=function Sj(n){const{app:e}=n;return new uj((0,ve.Z)(function*(){let r;if(r=Di(e).token?yield jD(n,!0):yield jD(n),r.error)throw r.error}),()=>!0,()=>{const t=Di(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Qa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nF(n,e){const t=Di(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function GD(n){return n.expireTimeMillis-Date.now()>0}function Aj(n){return{token:Tj(Ij),error:n}}class Nj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Di(this.app);for(const t of e)vN(this.app,t.next);return Promise.resolve()}}const cF="app-check-internal";!function Hj(){(0,nc._registerComponent)(new Td.wA("app-check",n=>function Mj(n,e){return new Nj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cF).initialize()})),(0,nc._registerComponent)(new Td.wA(cF,n=>function Rj(n){return{getToken:e=>jD(n,e),addTokenListener:e=>function yN(n,e,t,r){const{app:i}=n,l=Di(i),d={next:t,error:r,type:e};if(Qa(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&GD(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),tF(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>tF(n))}(n,"INTERNAL",e),removeTokenListener:e=>vN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nc.registerVersion)("@firebase/app-check","0.5.5")}();class DN{constructor(){return(0,gi.vb)("app-check")}}"undefined"!=typeof window&&window,O(127);const hF=new c.OlP("angularfire2.auth.use-emulator"),fF=new c.OlP("angularfire2.auth.settings"),pF=new c.OlP("angularfire2.auth.tenant-id"),gF=new c.OlP("angularfire2.auth.langugage-code"),mF=new c.OlP("angularfire2.auth.use-device-language"),_F=new c.OlP("angularfire.auth.persistence"),yF=(n,e,t,r,i,l,d,m)=>(0,ri.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),d)for(const[E,S]of Object.entries(d))y.settings[E]=S;return m&&y.setPersistence(m),y},[t,r,i,l,d,m]);let vF=(()=>{class n{constructor(t,r,i,l,d,m,y,E,S,N,F,V){const W=new Cn.x,ne=ft(void 0).pipe((0,kD.Q)(d.outsideAngular),L(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,4087)))),(0,ot.U)(()=>(0,ri.on)(t,l,r)),(0,ot.U)(Ae=>yF(Ae,l,m,E,S,N,y,F)),jk({bufferSize:1,refCount:!1}));if(ur(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{ne.pipe(fi()).subscribe();const Be=ne.pipe(L(je=>je.getRedirectResult().then(Qe=>Qe,()=>null)),gi.iC,jk({bufferSize:1,refCount:!1})),Re=ne.pipe(L(je=>new kn.y(Qe=>({unsubscribe:l.runOutsideAngular(()=>je.onAuthStateChanged(Xe=>Qe.next(Xe),Xe=>Qe.error(Xe),()=>Qe.complete()))})))),_t=ne.pipe(L(je=>new kn.y(Qe=>({unsubscribe:l.runOutsideAngular(()=>je.onIdTokenChanged(Xe=>Qe.next(Xe),Xe=>Qe.error(Xe),()=>Qe.complete()))}))));this.authState=Be.pipe(Gk(Re),(0,oN.R)(d.outsideAngular),(0,kD.Q)(d.insideAngular)),this.user=Be.pipe(Gk(_t),(0,oN.R)(d.outsideAngular),(0,kD.Q)(d.insideAngular)),this.idToken=this.user.pipe(L(je=>je?(0,tn.D)(je.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe(L(je=>je?(0,tn.D)(je.getIdTokenResult()):ft(null))),this.credential=(0,ZU.T)(Be,W,this.authState.pipe(Fn(je=>!je))).pipe((0,ot.U)(je=>(null==je?void 0:je.user)?je:null),(0,oN.R)(d.outsideAngular),(0,kD.Q)(d.insideAngular))}return(0,ri.pX)(this,ne,l,{spy:{apply:(Ae,Be,Re)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&Re.then(_t=>W.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri.Dh),c.LFG(ri.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(gi.HU),c.LFG(hF,8),c.LFG(fF,8),c.LFG(pF,8),c.LFG(gF,8),c.LFG(mF,8),c.LFG(_F,8),c.LFG(DN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bF(n,e){return function Zj(n,e=w0.z){return new kn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function IN(n,e){return bF(n,e).pipe((0,ot.U)(t=>({payload:t,type:"query"})))}function $D(n,e){return IN(n,e).pipe(ee(void 0),bg(),(0,ot.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const y=i.find(S=>S.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function wF(n,e,t){return $D(n,t).pipe(qe((r,i)=>function Jj(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Qj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TN(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),So(),(0,ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function TN(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function EF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=$D(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ee(void 0),bg(),Fn(([r,i])=>i.length>0||!r),(0,ot.U)(([r,i])=>i),gi.iC)}auditTrail(e){return this.stateChanges(e).pipe(qe((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=EF(e);return wF(this.query,t,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return IN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gi.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(gi.iC)}add(e){return this.ref.add(e)}doc(e){return new CF(this.ref.doc(e),this.afs)}}class CF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=IF(r,t);return new DF(i,l,this.afs)}snapshotChanges(){return function Yj(n,e){return bF(n,e).pipe(ee(void 0),bg(),(0,ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe(gi.iC)}}class Xj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$D(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Fn(t=>t.length>0),gi.iC):$D(this.query,this.afs.schedulers.outsideAngular).pipe(gi.iC)}auditTrail(e){return this.stateChanges(e).pipe(qe((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=EF(e);return wF(this.query,t,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return IN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gi.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(gi.iC)}}const eG=new c.OlP("angularfire2.enableFirestorePersistence"),tG=new c.OlP("angularfire2.firestore.persistenceSettings"),nG=new c.OlP("angularfire2.firestore.settings"),rG=new c.OlP("angularfire2.firestore.use-emulator");function IF(n,e=(t=>t)){return{query:e(n),ref:n}}let iG=(()=>{class n{constructor(t,r,i,l,d,m,y,E,S,N,F,V,W,ne,Ae,Be,Re){this.schedulers=y;const _t=(0,ri.on)(t,m,r),je=S;N&&yF(_t,m,F,W,ne,Ae,V,Be),[this.firestore,this.persistenceEnabled$]=(0,ri.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Qe=m.runOutsideAngular(()=>_t.firestore());if(l&&Qe.settings(l),je&&Qe.useEmulator(...je),i&&!ur(d)){const Xe=()=>{try{return(0,tn.D)(Qe.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(qt){return"undefined"!=typeof console&&console.warn(qt),ft(!1)}};return[Qe,m.runOutsideAngular(Xe)]}return[Qe,ft(!1)]},[l,je,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=IF(i,r),m=this.schedulers.ngZone.run(()=>l);return new DF(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new Xj(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new CF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri.Dh),c.LFG(ri.xv,8),c.LFG(eG,8),c.LFG(nG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(gi.HU),c.LFG(tG,8),c.LFG(rG,8),c.LFG(vF,8),c.LFG(hF,8),c.LFG(fF,8),c.LFG(pF,8),c.LFG(gF,8),c.LFG(mF,8),c.LFG(_F,8),c.LFG(DN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function sG(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td")(6,"div",5)(7,"button",6),c._uU(8," Delete "),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.description)}}const oG=[{path:"",component:xy},{path:"home",component:xy},{path:"recipes",component:(()=>{class n{constructor(t){this.firestore=t,this.recipeCollection=this.firestore.collection("recipes"),this.recipeList$=this.recipeCollection.valueChanges({idField:"id"})}ngOnInit(){throw new Error("Method not implemented.")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(iG))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-recipes"]],decls:24,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-10","offset-1"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn-group"],[1,"btn","btn-danger"]],template:function(t,r){1&t&&(c._uU(0),c.ALo(1,"json"),c.ALo(2,"async"),c.TgZ(3,"div",0)(4,"div",1)(5,"div",2)(6,"div",3)(7,"thead")(8,"tr")(9,"th"),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"th"),c._uU(12,"Time"),c.qZA(),c.TgZ(13,"th"),c._uU(14,"Category"),c.qZA(),c.TgZ(15,"th"),c._uU(16,"ImgUrl"),c.qZA(),c.TgZ(17,"th"),c._uU(18,"Ingredients"),c.qZA(),c.TgZ(19,"th"),c._uU(20,"Description"),c.qZA()()(),c.TgZ(21,"tbody"),c.YNc(22,sG,9,2,"tr",4),c.ALo(23,"async"),c.qZA()()()()()),2&t&&(c.hij("",c.lcZ(1,2,c.lcZ(2,4,r.recipeList$))," "),c.xp6(22),c.Q6J("ngForOf",c.lcZ(23,6,r.recipeList$)))},directives:[On],pipes:[Ia,Gl],styles:[""]}),n})()},{path:"**",component:xy}];let aG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[d1.forRoot(oG)],d1]}),n})(),lG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:11,vars:0,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-light","navbar_inside-container"],["href","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["href","/recipes",1,"nav-link"]],template:function(t,r){1&t&&(c.TgZ(0,"div")(1,"nav",0)(2,"a",1),c._uU(3,"sismeals"),c.qZA(),c.TgZ(4,"button",2),c._UZ(5,"span",3),c.qZA(),c.TgZ(6,"div",4)(7,"ul",5)(8,"li",6)(9,"a",7),c._uU(10,"Recipes"),c.qZA()()()()()())},directives:[fg],styles:[".navbar_inside-container[_ngcontent-%COMP%]{padding-left:10%}"]}),n})(),uG=(()=>{class n{constructor(){this.title="SISMEALS-RECIPES"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"div"),c._UZ(1,"app-navbar")(2,"router-outlet"),c.qZA())},directives:[lG,bh],styles:[""]}),n})(),cG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[uG]}),n.\u0275inj=c.cJS({providers:[],imports:[[Ra,aG,NR,fu,ri.hO.initializeApp(dr_firebaseConfig)]]}),n})();(0,c.G48)(),Xl().bootstrapModule(cG).catch(n=>console.error(n))},5867:(lt,Ce,O)=>{O.d(Ce,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=O(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(lt,Ce,O)=>{O.d(Ce,{Z:()=>c.Z});var c=O(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(lt,Ce,O)=>{O.r(Ce);var c=O(5861),Y=O(3942),P=O(2090),ae=O(9681),X=O(655),ge=O(1877),ie=O(4859);const Oe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new ge.Yd("@firebase/auth");function Ze(_,...f){tt.logLevel<=ge.in.ERROR&&tt.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function Ie(_,...f){throw Ge(_,...f)}function be(_,...f){return Ge(_,...f)}function we(_,f,g){const b=Object.assign(Object.assign({},Le()),{[f]:g});return new P.LL("auth","Firebase",b).create(f,{appName:_.name})}function $e(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ie(_,"argument-error"),we(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return fe.create(_,...f)}function te(_,f,...g){if(!_)throw Ge(f,...g)}function K(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ze(f),new Error(f)}function se(_,f){_||K(f)}const me=new Map;function oe(_){se(_ instanceof Function,"Expected a class definition");let f=me.get(_);return f?(se(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,me.set(_,f),f)}function Ct(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Xt(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class fn{constructor(f,g){this.shortDelay=f,this.longDelay=g,se(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(_,f){se(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ii{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ts=new fn(3e4,6e4);function en(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ht(_,f,g,b){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(_,f,g,b,T={}){return oi(_,T,(0,c.Z)(function*(){let x={},z={};b&&("GET"===f?z=b:x={body:JSON.stringify(b)});const re=(0,P.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),Ii.fetch()(Rr(_,_.config.apiHost,g,re),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function oi(_,f,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},an),f);try{const T=new ns(_),x=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield x.json();if("needConfirmation"in z)throw rs(_,"account-exists-with-different-credential",z);if(x.ok&&!("errorMessage"in z))return z;{const re=x.ok?z.errorMessage:z.error.message,[Ve,nt]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw rs(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ve)throw rs(_,"email-already-in-use",z);const bt=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw we(_,bt,nt);Ie(_,bt)}}catch(T){if(T instanceof P.ZR)throw T;Ie(_,"network-request-failed")}})).apply(this,arguments)}function Mr(_,f,g,b){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(_,f,g,b,T={}){const x=yield Ht(_,f,g,b,T);return"mfaPendingCredential"in x&&Ie(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Rr(_,f,g,b){const T=`${f}${g}?${b}`;return _.config.emulator?pn(_.config,T):`${_.config.apiScheme}://${T}`}class ns{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),ts.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rs(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=be(_,f,b);return T.customData._tokenResponse=g,T}function Hr(){return(Hr=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function tr(_,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ai(_,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function wa(){return(wa=(0,c.Z)(function*(_,f=!1){const g=(0,P.m9)(_),b=yield g.getIdToken(f),T=st(b);te(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,z=null==x?void 0:x.sign_in_provider;return{claims:T,token:b,authTime:vn($t(T.auth_time)),issuedAtTime:vn($t(T.iat)),expirationTime:vn($t(T.exp)),signInProvider:z||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(_){return 1e3*Number(_)}function st(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(g);return T?JSON.parse(T):(Ze("Failed to decode base64 JWT payload"),null)}catch(T){return Ze("Caught error parsing JWT payload as JSON",T),null}}function or(_,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&jt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function jt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class to{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(_){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),T=yield or(_,ai(g,{idToken:b}));te(null==T?void 0:T.users.length,g,"internal-error");const x=T.users[0];_._notifyReloadListener(x);const z=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?Te(x.providerUserInfo):[],re=Je(_.providerData,z),bt=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==re?void 0:re.length)),dt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:re,metadata:new mr(x.createdAt,x.lastLoginAt),isAnonymous:bt};Object.assign(_,dt)})).apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(_){const f=(0,P.m9)(_);yield ar(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Je(_,f){return[..._.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function Te(_){return _.map(f=>{var{providerId:g}=f,b=(0,X._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function gt(){return(gt=(0,c.Z)(function*(_,f){const g=yield oi(_,{},(0,c.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=_.config,z=Rr(_,T,"/v1/token",`key=${x}`),re=yield _._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Ii.fetch()(z,{method:"POST",headers:re,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(void 0!==f.idToken,"internal-error"),te(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Dt(_){const f=st(_);return te(f,"internal-error"),te(void 0!==f.exp,"internal-error"),te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return te(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:z}=yield function et(_,f){return gt.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(T,x,Number(z))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:T,expirationTime:x}=g,z=new Bt;return b&&(te("string"==typeof b,"internal-error",{appName:f}),z.refreshToken=b),T&&(te("string"==typeof T,"internal-error",{appName:f}),z.accessToken=T),x&&(te("number"==typeof x,"internal-error",{appName:f}),z.expirationTime=x),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return K("not implemented")}}function Pt(_,f){te("string"==typeof _||void 0===_,"internal-error",{appName:f})}class j{constructor(f){var{uid:g,auth:b,stsTokenManager:T}=f,x=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new to(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new mr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield or(g,g.stsTokenManager.getToken(g.auth,f));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Ts(_){return wa.apply(this,arguments)}(this,f)}reload(){return function _r(_){return Lt.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield ar(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield or(f,function ht(_,f){return Hr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,T,x,z,re,Ve,nt,bt;const dt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Mn=null!==(T=g.email)&&void 0!==T?T:void 0,Qr=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,xl=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Fu=null!==(re=g.tenantId)&&void 0!==re?re:void 0,oa=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,qc=null!==(nt=g.createdAt)&&void 0!==nt?nt:void 0,Lu=null!==(bt=g.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:Io,emailVerified:Kc,isAnonymous:wh,providerData:Eh,stsTokenManager:Zc}=g;te(Io&&Zc,f,"internal-error");const Vm=Bt.fromJSON(this.name,Zc);te("string"==typeof Io,f,"internal-error"),Pt(dt,f.name),Pt(Mn,f.name),te("boolean"==typeof Kc,f,"internal-error"),te("boolean"==typeof wh,f,"internal-error"),Pt(Qr,f.name),Pt(xl,f.name),Pt(Fu,f.name),Pt(oa,f.name),Pt(qc,f.name),Pt(Lu,f.name);const Vu=new j({uid:Io,auth:f,email:Mn,emailVerified:Kc,displayName:dt,isAnonymous:wh,photoURL:xl,phoneNumber:Qr,tenantId:Fu,stsTokenManager:Vm,createdAt:qc,lastLoginAt:Lu});return Eh&&Array.isArray(Eh)&&(Vu.providerData=Eh.map(Bm=>Object.assign({},Bm))),oa&&(Vu._redirectEventId=oa),Vu}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const T=new Bt;T.updateFromServerResponse(g);const x=new j({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield ar(x),x})()}}const $=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,c.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function ce(_,f,g){return`firebase:${_}:${f}:${g}`}class J{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:T,name:x}=this.auth;this.fullUserKey=ce(this.userKey,T.apiKey,x),this.fullPersistenceKey=ce("persistence",T.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?j._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new J(oe($),f,b);const T=(yield Promise.all(g.map(function(){var nt=(0,c.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let x=T[0]||oe($);const z=ce(b,f.config.apiKey,f.name);let re=null;for(const nt of g)try{const bt=yield nt._get(z);if(bt){const dt=j._fromJSON(f,bt);nt!==x&&(re=dt),x=nt;break}}catch(bt){}const Ve=T.filter(nt=>nt._shouldAllowMigration);return x._shouldAllowMigration&&Ve.length?(x=Ve[0],re&&(yield x._set(z,re.toJSON())),yield Promise.all(g.map(function(){var nt=(0,c.Z)(function*(bt){if(bt!==x)try{yield bt._remove(z)}catch(dt){}});return function(bt){return nt.apply(this,arguments)}}())),new J(x,f,b)):new J(x,f,b)})()}}function Ue(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Wt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Rt(f))return"Blackberry";if(gn(f))return"Webos";if(Zt(f))return"Safari";if((f.includes("chrome/")||yr(f))&&!f.includes("edge/"))return"Chrome";if(Sn(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function vt(_=(0,P.z$)()){return/firefox\//i.test(_)}function Zt(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function yr(_=(0,P.z$)()){return/crios\//i.test(_)}function Wt(_=(0,P.z$)()){return/iemobile/i.test(_)}function Sn(_=(0,P.z$)()){return/android/i.test(_)}function Rt(_=(0,P.z$)()){return/blackberry/i.test(_)}function gn(_=(0,P.z$)()){return/webos/i.test(_)}function rr(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)}function is(_=(0,P.z$)()){return rr(_)||Sn(_)||gn(_)||Rt(_)||/windows phone/i.test(_)||Wt(_)}function Da(_,f=[]){let g;switch(_){case"Browser":g=Ue((0,P.z$)());break;case"Worker":g=`${Ue((0,P.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${b}`}class li{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ot(this),this.idTokenSubscription=new Ot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,x;if(!b._deleted&&(b.persistenceManager=yield J.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(z){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let T=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,z=null==T?void 0:T._redirectEventId,re=yield g.tryRedirectSignIn(f);(!x||x===z)&&(null==re?void 0:re.user)&&(T=re.user)}return T?T._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield ar(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function yt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&te(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&oe(f)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[oe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,T){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(z,this,"internal-error"),z.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,b,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function Pe(_){return(0,P.m9)(_)}class Ot{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Vn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class ln{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return K("not implemented")}_getIdTokenResponse(f){return K("not implemented")}_linkToIdToken(f,g){return K("not implemented")}_getReauthenticationResolver(f){return K("not implemented")}}function xn(_,f){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:resetPassword",en(_,f))})).apply(this,arguments)}function Nt(_,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function io(_,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",en(_,f))})).apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithPassword",en(_,f))})).apply(this,arguments)}function ss(_,f){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:sendOobCode",en(_,f))})).apply(this,arguments)}function vr(_,f){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function tl(_,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function Ti(_,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function fc(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithEmailLink",en(_,f))})).apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithEmailLink",en(_,f))})).apply(this,arguments)}class il extends ln{constructor(f,g,b,T=null){super("password",b),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new il(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new il(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Ns(_,f){return On.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function rl(_,f){return $r.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Nt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Wd(_,f){return jo.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Bn(_,f){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithIdp",en(_,f))})).apply(this,arguments)}class as extends ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new as(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=g,x=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const z=new as(b,T);return z.idToken=x.idToken||void 0,z.accessToken=x.accessToken||void 0,z.secret=x.secret,z.nonce=x.nonce,z.pendingToken=x.pendingToken||null,z}_getIdTokenResponse(f){return Bn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Bn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Bn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Yf(_,f){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:sendVerificationCode",en(_,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,f))})).apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(_,f){const g=yield Mr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,f));if(g.temporaryProof)throw rs(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Qf={USER_NOT_FOUND:"user-not-found"};function mc(){return(mc=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Qf)})).apply(this,arguments)}class Go extends ln{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Go({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Go({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Hl(_,f){return Rs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Jf(_,f){return gc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xf(_,f){return mc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:x}=f;return b||g||T||x?new Go({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:x}):null}}class so{constructor(f){var g,b,T,x,z,re;const Ve=(0,P.zd)((0,P.pd)(f)),nt=null!==(g=Ve.apiKey)&&void 0!==g?g:null,bt=null!==(b=Ve.oobCode)&&void 0!==b?b:null,dt=function am(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ve.mode)&&void 0!==T?T:null);te(nt&&bt&&dt,"argument-error"),this.apiKey=nt,this.operation=dt,this.code=bt,this.continueUrl=null!==(x=Ve.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(z=Ve.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(re=Ve.tenantId)&&void 0!==re?re:null}static parseLink(f){const g=function Ia(_){const f=(0,P.zd)((0,P.pd)(_)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||f||_}(f);try{return new so(g)}catch(b){return null}}}let $l=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return il._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=so.parseLink(b);return te(T,"argument-error"),il._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class xs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wr extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ho extends Wr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return te("providerId"in g&&"signInMethod"in g,"argument-error"),as._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ho.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ho.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:x,nonce:z,providerId:re}=f;if(!b&&!T&&!g&&!x||!re)return null;try{return new Ho(re)._credential({idToken:g,accessToken:b,nonce:z,pendingToken:x})}catch(Ve){return null}}}let oo=(()=>{class _ extends Wr{constructor(){super("facebook.com")}static credential(g){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ta=(()=>{class _ extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return _.credential(b,T)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),_c=(()=>{class _ extends Wr{constructor(){super("github.com")}static credential(g){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Yn extends ln{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Bn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Bn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Bn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:x}=g;return b&&T&&x&&b===T?new Yn(b,x):null}static _create(f,g){return new Yn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ci extends xs{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ci.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ci.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Yn.fromJSON(f);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return Yn._create(b,g)}catch(T){return null}}}let sl=(()=>{class _ extends Wr{constructor(){super("twitter.com")}static credential(g,b){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return _.credential(b,T)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ol(_,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signUp",en(_,f))})).apply(this,arguments)}class ur{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,T=!1){return(0,c.Z)(function*(){const x=yield j._fromIdTokenResponse(f,b,T),z=qd(b);return new ur({user:x,providerId:z,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=qd(b);return new ur({user:f,providerId:T,_tokenResponse:b,operationType:g})})()}}function qd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function yc(){return(yc=(0,c.Z)(function*(_){var f;const g=Pe(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ur({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield ol(g,{returnSecureToken:!0}),T=yield ur._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ll extends P.ZR{constructor(f,g,b,T){var x;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,ll.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,T){return new ll(f,g,b,T)}}function ul(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?ll._fromErrorAndOperation(_,x,f,b):x})}function ls(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Wl(){return(Wl=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_);yield Ps(!0,g,f);const{providerUserInfo:b}=yield tr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=ls(b||[]);return g.providerData=g.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _n(_,f){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(_,f,g=!1){const b=yield or(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return ur._forOperation(_,"link",b)})).apply(this,arguments)}function Ps(_,f,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(_,f,g){yield ar(f);const T=!1===_?"provider-already-linked":"no-such-provider";te(ls(f.providerData).has(g)===_,f.auth,T)})).apply(this,arguments)}function vc(_,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,T="reauthenticate";try{const x=yield or(_,ul(b,T,f,_),g);te(x.idToken,b,"internal-error");const z=st(x.idToken);te(z,b,"internal-error");const{sub:re}=z;return te(_.uid===re,b,"user-mismatch"),ur._forOperation(_,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Ie(b,"user-mismatch"),x}})).apply(this,arguments)}function lo(_,f){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(_,f,g=!1){const b="signIn",T=yield ul(_,b,f),x=yield ur._fromIdTokenResponse(_,b,T);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Pn(_,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(_,f){return lo(Pe(_),f)})).apply(this,arguments)}function Si(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_);return yield Ps(!1,g,f.providerId),_n(g,f)})).apply(this,arguments)}function ks(_,f){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(_,f){return vc((0,P.m9)(_),f)})).apply(this,arguments)}function cl(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(_,f){return Mr(_,"POST","/v1/accounts:signInWithCustomToken",en(_,f))})).apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(_,f){const g=Pe(_),b=yield cl(g,{token:f,returnSecureToken:!0}),T=yield ur._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class mt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?dl._fromServerResponse(f,g):Ie(f,"internal-error")}}class dl extends mt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new dl(g)}}function Na(_,f,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function fl(){return(fl=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),T={requestType:"PASSWORD_RESET",email:f};g&&Na(b,T,g),yield tl(b,T)})).apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(_,f,g){yield xn((0,P.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(_,f){yield io((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function kt(_,f){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_),b=yield xn(g,{oobCode:f}),T=b.requestType;switch(te(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=mt._fromServerResponse(Pe(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(_,f){const{data:g}=yield kt((0,P.m9)(_),f);return g.email})).apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(_,f,g){const b=Pe(_),T=yield ol(b,{returnSecureToken:!0,email:f,password:g}),x=yield ur._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};te(g.handleCodeInApp,b,"argument-error"),g&&Na(b,T,g),yield Ti(b,T)})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),T=$l.credentialWithLink(f,g||Ct());return te(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Pn(b,T)})).apply(this,arguments)}function cr(_,f){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:createAuthUri",en(_,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Xt()?Ct():"http://localhost"},{signinMethods:T}=yield cr((0,P.m9)(_),b);return T||[]})).apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Na(g.auth,T,f);const{email:x}=yield vr(g.auth,T);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Na(b.auth,x,g);const{email:z}=yield fc(b.auth,x);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Xl(_,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,P.m9)(_),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},z=yield or(b,Xl(b.auth,x));b.displayName=z.displayName||null,b.photoURL=z.photoUrl||null;const re=b.providerData.find(({providerId:Ve})=>"password"===Ve);re&&(re.displayName=b.displayName,re.photoURL=b.photoURL),yield b._updateTokensIfNecessary(z)})).apply(this,arguments)}function nu(_,f,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(_,f,g){const{auth:b}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const z=yield or(_,Nt(b,x));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class co{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Dc extends co{constructor(f,g,b,T){super(f,g,b),this.username=T}}class Cc extends co{constructor(f,g){super(f,"facebook.com",g)}}class ho extends Dc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Us extends co{constructor(f,g){super(f,"google.com",g)}}class ru extends Dc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Er(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ec(_){var f,g;if(!_)return null;const{providerId:b}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const z=null===(g=null===(f=st(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new co(x,"anonymous"!==z&&"custom"!==z?z:null)}if(!b)return null;switch(b){case"facebook.com":return new Cc(x,T);case"github.com":return new ho(x,T);case"google.com":return new Us(x,T);case"twitter.com":return new ru(x,T,_.screenName||null);case"custom":case"anonymous":return new co(x,null);default:return new co(x,b,T)}}(g)}class cs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new cs("enroll",f)}static _fromMfaPendingCredential(f){return new cs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return cs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return cs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xa{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Pe(f),T=g.customData._serverResponse,x=(T.mfaInfo||[]).map(re=>mt._fromServerResponse(b,re));te(T.mfaPendingCredential,b,"internal-error");const z=cs._fromMfaPendingCredential(T.mfaPendingCredential);return new xa(z,x,function(){var re=(0,c.Z)(function*(Ve){const nt=yield Ve._process(b,z);delete T.mfaInfo,delete T.mfaPendingCredential;const bt=Object.assign(Object.assign({},T),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(g.operationType){case"signIn":const dt=yield ur._fromIdTokenResponse(b,g.operationType,bt);return yield b._updateCurrentUser(dt.user),dt;case"reauthenticate":return te(g.user,b,"internal-error"),ur._forOperation(g.user,g.operationType,bt);default:Ie(b,"internal-error")}});return function(Ve){return re.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Un(_,f){return Ht(_,"POST","/v2/accounts/mfaEnrollment:start",en(_,f))}class ds{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>mt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new ds(f)}getSession(){var f=this;return(0,c.Z)(function*(){return cs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const T=f,x=yield b.getSession(),z=yield or(b.user,T._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(z),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield g.user.getIdToken(),x=yield or(g.user,function tp(_,f){return Ht(_,"POST","/v2/accounts/mfaEnrollment:withdraw",en(_,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const qo=new WeakMap,ou="__sak";class fo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const dr=(()=>{class _ extends fo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sc(){const _=(0,P.z$)();return Zt(_)||rr(_)}()&&function Zn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),x=this.localCache[b];T!==x&&g(b,x,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((re,Ve,nt)=>{this.notifyListeners(re,nt)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(T);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const x=()=>{const re=this.storage.getItem(T);!b&&this.localCache[T]===re||this.notifyListeners(T,re)},z=this.storage.getItem(T);!function Ea(){return(0,P.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,x=this;return(0,c.Z)(function*(){yield T().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,c.Z)(function*(){const x=yield b().call(T,g);return T.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,T=this;return(0,c.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),tn=(()=>{class _ extends fo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let kn=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const T=g,{eventId:x,eventType:z,data:re}=T.data,Ve=b.handlersMap[z];if(!(null==Ve?void 0:Ve.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:z});const nt=Array.from(Ve).map(function(){var dt=(0,c.Z)(function*(Mn){return Mn(T.origin,re)});return function(Mn){return dt.apply(this,arguments)}}()),bt=yield function ft(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(nt);T.ports[0].postMessage({status:"done",eventId:x,eventType:z,response:bt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function En(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Ni{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var T=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let z,re;return new Promise((Ve,nt)=>{const bt=En("",20);x.port1.start();const dt=setTimeout(()=>{nt(new Error("unsupported_event"))},b);re={messageChannel:x,onMessage(Mn){const Qr=Mn;if(Qr.data.eventId===bt)switch(Qr.data.status){case"ack":clearTimeout(dt),z=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ve(Qr.data.response);break;default:clearTimeout(dt),clearTimeout(z),nt(new Error("invalid_response"))}}},T.handlers.add(re),x.port1.addEventListener("message",re.onMessage),T.target.postMessage({eventType:f,eventId:bt,data:g},[x.port2])}).finally(()=>{re&&T.removeMessageHandler(re)})})()}}function Jt(){return window}function rn(){return void 0!==Jt().WorkerGlobalScope&&"function"==typeof Jt().importScripts}function ot(){return(ot=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Mi="firebaseLocalStorageDb",Ko="firebaseLocalStorage",Zo="fbase_key";class hs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function po(_,f){return _.transaction([Ko],f?"readwrite":"readonly").objectStore(Ko)}function Or(){const _=indexedDB.open(Mi,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Ko,{keyPath:Zo})}catch(T){g(T)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Ko)?f(b):(b.close(),yield function Kr(){const _=indexedDB.deleteDatabase(Mi);return new hs(_).toPromise()}(),f(yield Or()))}))})}function Ac(_,f,g){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f,g){const b=po(_,!0).put({[Zo]:f,value:g});return new hs(b).toPromise()})).apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(_,f){const g=po(_,!1).get(f),b=yield new hs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Gs(_,f){const g=po(_,!0).delete(f);return new hs(g).toPromise()}const sn=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Or()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(T++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return rn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=kn._getInstance(function au(){return rn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(T,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(T,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function Fn(){return ot.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ni(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Yd(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Or();return yield Ac(g,ou,"1"),yield Gs(g,ou),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(x=>Ac(x,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=yield b._withRetries(x=>function lu(_,f){return Yo.apply(this,arguments)}(x,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(T=>Gs(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(z=>{const re=po(z,!1).getAll();return new hs(re).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:z,value:re}of b)x.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(re)&&(g.notifyListeners(z,re),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!x.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function uu(_,f){return Ht(_,"POST","/v2/accounts/mfaSignIn:start",en(_,f))}function Ri(){return(Ri=(0,c.Z)(function*(_){return(yield Ht(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qo(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=T=>{const x=be("internal-error");x.customData=T,g(x)},b.type="text/javascript",b.charset="UTF-8",function wl(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Pa(_){return`__${_}${Math.floor(1e6*Math.random())}`}const $i=1e12;class ip{constructor(f){this.auth=f,this.counter=$i,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Nc(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||$i;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||$i))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||$i))||void 0===b||b.execute(),""})()}}class Nc{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;te(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ka(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cu=Pa("rcb"),um=new fn(3e4,6e4);class cm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jt().grecaptcha}load(f,g=""){return te(function dm(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Jt().grecaptcha):new Promise((b,T)=>{const x=Jt().setTimeout(()=>{T(be(f,"network-request-failed"))},um.get());Jt()[cu]=()=>{Jt().clearTimeout(x),delete Jt()[cu];const re=Jt().grecaptcha;if(!re)return void T(be(f,"internal-error"));const Ve=re.render;re.render=(nt,bt)=>{const dt=Ve(nt,bt);return this.counter++,dt},this.hostLanguage=g,b(re)},Qo(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:cu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),T(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Jt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sp{load(f){return(0,c.Z)(function*(){return new ip(f)})()}clearedOneInstance(){}}const du="recaptcha",hu={theme:"light",type:"image"};class Mc{constructor(f,g=Object.assign({},hu),b){this.parameters=g,this.type=du,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sp:new cm,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const z=re=>{!re||(f.tokenChangeListeners.delete(z),x(re))};f.tokenChangeListeners.add(z),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Jt()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){te(Xt()&&!rn(),f.auth,"internal-error"),yield function Qd(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Oa(_){return Ri.apply(this,arguments)}(f.auth);te(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _o{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Go._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Nn(){return(Nn=(0,c.Z)(function*(_,f,g){const b=Pe(_),T=yield Pr(b,f,(0,P.m9)(g));return new _o(T,x=>Pn(b,x))})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);yield Ps(!1,b,"phone");const T=yield Pr(b.auth,f,(0,P.m9)(g));return new _o(T,x=>Si(b,x))})).apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),T=yield Pr(b.auth,f,(0,P.m9)(g));return new _o(T,x=>ks(b,x))})).apply(this,arguments)}function Pr(_,f,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(_,f,g){var b;const T=yield g.verify();try{let x;if(te("string"==typeof T,_,"argument-error"),te(g.type===du,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const z=x.session;if("phoneNumber"in x)return te("enroll"===z.type,_,"internal-error"),(yield Un(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===z.type,_,"internal-error");const re=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return te(re,_,"missing-multi-factor-info"),(yield uu(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Yf(_,{phoneNumber:x.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(_,f){yield _n((0,P.m9)(_),f)})).apply(this,arguments)}let Oi=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Pe(g)}verifyPhoneNumber(g,b){return Pr(this.auth,g,(0,P.m9)(b))}static credential(g,b){return Go._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?Go._fromTokenResponse(b,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Wi(_,f){return f?oe(f):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class La extends ln{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Bn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Bn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Bn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function pu(_){return lo(_.auth,new La(_),_.bypassAuthState)}function gu(_){const{auth:f,user:g}=_;return te(g,f,"internal-error"),vc(g,new La(_),_.bypassAuthState)}function Oc(_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return te(g,f,"internal-error"),_n(g,new La(_),_.bypassAuthState)})).apply(this,arguments)}class Zr{constructor(f,g,b,T,x=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:x,tenantId:z,error:re,type:Ve}=f;if(re)return void g.reject(re);const nt={auth:g.auth,requestUri:b,sessionId:T,tenantId:z||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(nt))}catch(bt){g.reject(bt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return pu;case"linkViaPopup":case"linkViaRedirect":return Oc;case"reauthViaPopup":case"reauthViaRedirect":return gu;default:Ie(this.auth,"internal-error")}}resolve(f){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pc=new fn(2e3,1e4);function mu(){return(mu=(0,c.Z)(function*(_,f,g){const b=Pe(_);$e(_,f,xs);const T=Wi(b,g);return new hi(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);$e(b.auth,f,xs);const T=Wi(b.auth,g);return new hi(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);$e(b.auth,f,xs);const T=Wi(b.auth,g);return new hi(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let hi=(()=>{class _ extends Zr{constructor(g,b,T,x,z){super(g,b,x,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){se(1===g.filter.length,"Popup operations only handle one event");const b=En();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Pc.get())};g()}}return _.currentPopupAction=null,_})();const kr=new Map;class Va extends Zr{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=kr.get(g.auth._key());if(!b){try{const x=(yield function _u(_,f){return vo.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(x)}catch(T){b=()=>Promise.reject(T)}kr.set(g.auth._key(),b)}return g.bypassAuthState||kr.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function vo(){return(vo=(0,c.Z)(function*(_,f){const g=I(f),b=C(_);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function fr(_,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(_,f){return C(_)._set(I(f),"true")})).apply(this,arguments)}function C(_){return oe(_._redirectPersistence)}function I(_){return ce("pendingRedirect",_.config.apiKey,_.name)}function q(){return(q=(0,c.Z)(function*(_,f,g){const b=Pe(_);$e(_,f,xs);const T=Wi(b,g);return yield fr(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);$e(b.auth,f,xs);const T=Wi(b.auth,g);yield fr(T,b.auth);const x=yield Jn(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);$e(b.auth,f,xs);const T=Wi(b.auth,g);yield Ps(!1,b,f.providerId),yield fr(T,b.auth);const x=yield Jn(b);return T._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(_,f){return yield Pe(_)._initializationPromise,Ln(_,f,!1)})).apply(this,arguments)}function Ln(_,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(_,f,g=!1){const b=Pe(_),T=Wi(b,f),z=yield new Va(b,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield b._persistUserIfCurrent(z.user),yield b._setRedirectUser(null,f)),z})).apply(this,arguments)}function Jn(_){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_){const f=En(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ki{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ap(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return th(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!th(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pi(f))}saveEventToCache(f){this.cachedEventUids.add(Pi(f)),this.lastProcessedEventTime=Date.now()}}function Pi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function th({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function kc(_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,c.Z)(function*(_,f={}){return Ht(_,"GET","/v1/projects",f)})).apply(this,arguments)}const lp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hm=/^https?/;function bo(){return(bo=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield kc(_);for(const g of f)try{if(Cl(g))return}catch(b){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Cl(_){const f=Ct(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===b}if(!hm.test(g))return!1;if(lp.test(_))return b===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const pm=new fn(3e4,6e4);function gm(){const _=Jt().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Fc=null;function mm(_){return Fc=Fc||function up(_){return new Promise((f,g)=>{var b,T,x;function z(){gm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{gm(),g(be(_,"network-request-failed"))},timeout:pm.get()})}if(null===(T=null===(b=Jt().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=Jt().gapi)||void 0===x?void 0:x.load)){const re=Pa("iframefcb");return Jt()[re]=()=>{gapi.load?z():g(be(_,"network-request-failed"))},Qo(`https://apis.google.com/js/api.js?onload=${re}`).catch(Ve=>g(Ve))}z()}}).catch(f=>{throw Fc=null,f})}(_),Fc}const Ut=new fn(5e3,15e3),yu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tl(_){const f=_.config;te(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?pn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},T=vu.get(_.config.apiHost);T&&(b.eid=T);const x=_._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function nh(){return nh=(0,c.Z)(function*(_){const f=yield mm(_),g=Jt().gapi;return te(g,_,"internal-error"),f.open({where:document.body,url:Tl(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yu,dontclear:!0},b=>new Promise(function(){var T=(0,c.Z)(function*(x,z){yield b.restyle({setHideOnLeave:!1});const re=be(_,"network-request-failed"),Ve=Jt().setTimeout(()=>{z(re)},Ut.get());function nt(){Jt().clearTimeout(Ve),x(b)}b.ping(nt).then(nt,()=>{z(re)})});return function(x,z){return T.apply(this,arguments)}}()))}),nh.apply(this,arguments)}const wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ir{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Vc(_,f,g,b,T,x){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:ae.SDK_VERSION,eventId:T};if(f instanceof xs){f.setDefaultLanguage(_.languageCode),z.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,nt]of Object.entries(x||{}))z[Ve]=nt}if(f instanceof Wr){const Ve=f.getScopes().filter(nt=>""!==nt);Ve.length>0&&(z.scopes=Ve.join(","))}_.tenantId&&(z.tid=_.tenantId);const re=z;for(const Ve of Object.keys(re))void 0===re[Ve]&&delete re[Ve];return`${function Em({config:_}){return _.emulator?pn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(re).slice(1)}`}const gs="webStorageSupport";class Eu extends class Dm{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Eu(f)}_finalizeEnroll(f,g,b){return function Ic(_,f){return Ht(_,"POST","/v2/accounts/mfaEnrollment:finalize",en(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Jo(_,f){return Ht(_,"POST","/v2/accounts/mfaSignIn:finalize",en(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class _{constructor(){}static assertion(g){return Eu._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var zt="@firebase/auth",Du="0.19.11";class dp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function na(){return window}function Ws(){return(Ws=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:T}=na();se(f.sessionId,"AuthEvent did not contain a session ID");const x=yield Tm(f.sessionId),z={};return rr()?z.ibi=T.packageName:Sn()?z.apn=T.packageName:Ie(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=x,Vc(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,z)})).apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(_){const{BuildInfo:f}=na(),g={};rr()?g.iosBundleId=f.packageName:Sn()?g.androidPackageName=f.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield kc(_,g)})).apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(_,f,g){const{cordova:b}=na();let T=()=>{};try{yield new Promise((x,z)=>{let re=null;function Ve(){var dt;x();const Mn=null===(dt=b.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Mn&&Mn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function nt(){re||(re=window.setTimeout(()=>{z(be(_,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}f.addPassiveListener(Ve),document.addEventListener("resume",nt,!1),Sn()&&document.addEventListener("visibilitychange",bt,!1),T=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",bt,!1),re&&window.clearTimeout(re)}})}finally{T()}})).apply(this,arguments)}function Tm(_){return hp.apply(this,arguments)}function hp(){return(hp=(0,c.Z)(function*(_){const f=qv(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qv(_){if(se(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function Cm(_){(0,ae._registerComponent)(new ie.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:x,authDomain:z}=b.options;return((re,Ve)=>{te(x&&!x.includes(":"),"invalid-api-key",{appName:re.name}),te(!(null==z?void 0:z.includes(":")),"argument-error",{appName:re.name});const nt={apiKey:x,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Da(_)},bt=new li(re,Ve,nt);return function le(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(oe);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(bt,g),bt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ie.wA("auth-internal",f=>{const g=Pe(f.getProvider("auth").getImmediate());return new dp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(zt,Du,function Ba(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(zt,Du,"esm2017")}("Browser");class Al extends Ki{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Sm(_){return jc.apply(this,arguments)}function jc(){return(jc=(0,c.Z)(function*(_){const f=yield Iu()._get(Tu(_));return f&&(yield Iu()._remove(Tu(_))),f})).apply(this,arguments)}function fp(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Iu(){return oe(dr)}function Tu(_){return ce("authEvent",_.config.apiKey,_.name)}function Su(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,P.zd)(g.join("?"))}function uh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Au(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Hc(_=(0,P.z$)()){return!("file:"!==Au()&&"ionic:"!==Au()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fr(){try{const _=self.localStorage,f=En();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Nu(_=(0,P.z$)()){return function $c(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Zv(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return ra()&&(0,P.hl)()}return!1}function ra(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ia(){return(function hh(){return"http:"===Au()||"https:"===Au()}()||(0,P.ru)()||Hc())&&!function Rm(){return(0,P.b$)()||(0,P.UG)()}()&&Fr()&&!ra()}function Mu(){return Hc()&&"undefined"!=typeof document}function sa(){return(sa=(0,c.Z)(function*(){return!!Mu()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},Ru=te,ph="persistence";function xu(_){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Wc(),g=ce(ph,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function Wc(){var _;try{return(null===(_=function fh(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Om=te;class ms{constructor(){this.browserResolver=oe(class wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=Ln}_openPopup(f,g,b,T){var x=this;return(0,c.Z)(function*(){var z;se(null===(z=x.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const re=Vc(f,g,b,Ct(),T);return function ps(_,f,g,b=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-b)/2,0).toString();let re="";const Ve=Object.assign(Object.assign({},wo),{width:b.toString(),height:T.toString(),top:x,left:z}),nt=(0,P.z$)().toLowerCase();g&&(re=yr(nt)?"_blank":g),vt(nt)&&(f=f||"http://localhost",Ve.scrollbars="yes");const bt=Object.entries(Ve).reduce((Mn,[Qr,xl])=>`${Mn}${Qr}=${xl},`,"");if(function el(_=(0,P.z$)()){var f;return rr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(nt)&&"_self"!==re)return function bm(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",re),new ir(null);const dt=window.open(f||"",re,bt);te(dt,_,"popup-blocked");try{dt.focus()}catch(Mn){}return new ir(dt)}(f,re,En())})()}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function hr(_){Jt().location.href=_}(Vc(f,g,b,Ct(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:x}=this.eventManagers[g];return T?Promise.resolve(T):(se(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function ym(_){return nh.apply(this,arguments)}(f),T=new Ki(f);return b.register("authEvent",x=>(te(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(gs,{type:gs},T=>{var x;const z=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[gs];void 0!==z&&g(!!z),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function fm(_){return bo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return is()||Zt()||rr()}}),this.cordovaResolver=oe(class Nm{constructor(){this._redirectPersistence=tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ln}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let T=g.eventManagers.get(b);return T||(T=new Al(f),g.eventManagers.set(b,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){!function oh(_){var f,g,b,T,x,z,re,Ve,nt,bt;const dt=na();te("function"==typeof(null===(f=null==dt?void 0:dt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==dt?void 0:dt.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(x=null===(T=null===(b=null==dt?void 0:dt.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ve=null===(re=null===(z=null==dt?void 0:dt.cordova)||void 0===z?void 0:z.plugins)||void 0===re?void 0:re.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(bt=null===(nt=null==dt?void 0:dt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===bt?void 0:bt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield x._initialize(f);yield z.initialized(),z.resetRedirect(),function zi(){kr.clear()}(),yield x._originValidation(f);const re=function lh(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:fp(),postBody:null,tenantId:_.tenantId,error:be(_,"no-auth-event")}}(f,b,T);yield function Kv(_,f){return Iu()._set(Tu(_),f)}(f,re);const Ve=yield function Bc(_,f,g){return Ws.apply(this,arguments)}(f,re,g),nt=yield function Cu(_){const{cordova:f}=na();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function no(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(T)})})}(Ve);return function Uc(_,f,g){return Ua.apply(this,arguments)}(f,z,nt)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function sh(_){return Yr.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:x}=na(),z=setTimeout((0,c.Z)(function*(){yield Sm(f),g.onEvent(uh())}),500),re=function(){var bt=(0,c.Z)(function*(dt){clearTimeout(z);const Mn=yield Sm(f);let Qr=null;Mn&&(null==dt?void 0:dt.url)&&(Qr=function Am(_,f){var g,b;const T=function Eo(_){const f=Su(_),g=f.link?decodeURIComponent(f.link):void 0,b=Su(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Su(T).link||T||b||g||_}(f);if(T.includes("/__/auth/callback")){const x=Su(T),z=x.firebaseError?function zs(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,re=null===(b=null===(g=null==z?void 0:z.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ve=re?be(re):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Mn,dt.url)),g.onEvent(Qr||uh())});return function(Mn){return bt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,re);const Ve=T,nt=`${x.packageName.toLowerCase()}://`;na().handleOpenURL=function(){var bt=(0,c.Z)(function*(dt){if(dt.toLowerCase().startsWith(nt)&&re({url:dt}),"function"==typeof Ve)try{Ve(dt)}catch(Mn){console.error(Mn)}});return function(dt){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tn,this._completeRedirectFn=Ln}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,b,T)})()}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,b,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Mu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Om(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Dr(){return sa.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function gh(_){return _.unwrap()}function mh(_){return zc(_)}function zc(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Oi.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Ta;break;case"facebook.com":b=oo;break;case"github.com":b=_c;break;case"twitter.com":b=sl;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:z,pendingToken:re,nonce:Ve}=f;return x||z||T||re?re?g.startsWith("saml.")?Yn._create(g,re):as._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:T,accessToken:x}):new Ho(g).credential({idToken:T,accessToken:x,rawNonce:Ve}):null}return _ instanceof P.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function In(_,f){return f.catch(g=>{throw g instanceof P.ZR&&function km(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Fm(_,function vl(_,f){var g;const b=(0,P.m9)(_),T=f;return te(f.customData.operationType,b,"argument-error"),te(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),xa._fromError(b,T)}(_,f));else if(b){const T=zc(f),x=f;T&&(x.credential=T,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:mh(g),additionalUserInfo:Er(g),user:Co.getOrCreate(T)}})}function _h(_,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>In(_,g.confirm(b))}})).apply(this,arguments)}class Fm{constructor(f,g){this.resolver=g,this.auth=function Pm(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return In(gh(this.auth),this.resolver.resolveSignIn(f))}}class Co{constructor(f){this._delegate=f,this.multiFactor=function Tc(_){const f=(0,P.m9)(_);return qo.has(f)||qo.set(f,ds._fromUser(f)),qo.get(f)}(f)}static getOrCreate(f){return Co.USER_MAP.has(f)||Co.USER_MAP.set(f,new Co(f)),Co.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return In(g.auth,Si(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return _h(b.auth,function xc(_,f,g){return Fa.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return In(g.auth,function Xd(_,f,g){return El.apply(this,arguments)}(g._delegate,f,ms))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield xu(Pe(g.auth)),function Ye(_,f,g){return function wt(_,f,g){return Gt.apply(this,arguments)}(_,f,g)}(g._delegate,f,ms)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return In(g.auth,ks(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return _h(this.auth,function op(_,f,g){return fu.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return In(this.auth,function yo(_,f,g){return ea.apply(this,arguments)}(this._delegate,f,ms))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield xu(Pe(g.auth)),function ee(_,f,g){return function Me(_,f,g){return qe.apply(this,arguments)}(_,f,g)}(g._delegate,f,ms)})()}sendEmailVerification(f){return function Ai(_,f){return Ql.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Sa(_,f){return Wl.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function tu(_,f){return nu((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function wc(_,f){return nu((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Cn(_,f){return yn.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ra(_,f){return eu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function _l(_,f,g){return yl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Co.USER_MAP=new WeakMap;const Ou=te;let yh=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Ou(T,"invalid-api-key",{appName:g.name}),Ou(T,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?ms:void 0;this._delegate=b.initialize({options:{persistence:Pu(T,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Co.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function mn(_,f,g){const b=Pe(_);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),x=lr(f),{host:z,port:re}=function Ss(_){const f=lr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const x=T[1];return{host:x,port:Vn(b.substr(x.length+1))}}{const[x,z]=b.split(":");return{host:x,port:Vn(z)}}}(f);b.config.emulator={url:`${x}//${z}${null===re?"":`:${re}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:z,port:re,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Gi(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function ql(_,f){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return kt(this._delegate,g)}confirmPasswordReset(g,b){return function pl(_,f,g){return zl.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,c.Z)(function*(){return In(T._delegate,function zo(_,f,g){return qr.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ml(_,f){return Bs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Jl(_,f){const g=so.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Ou(ia(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function It(_,f){return Gn.apply(this,arguments)}(g._delegate,ms);return b?In(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Mm(_,f){Pe(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:x,error:z,complete:re}=Rl(g,b,T);return this._delegate.onAuthStateChanged(x,z,re)}onIdTokenChanged(g,b,T){const{next:x,error:z,complete:re}=Rl(g,b,T);return this._delegate.onIdTokenChanged(x,z,re)}sendSignInLinkToEmail(g,b){return function Yl(_,f,g){return bc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function hl(_,f,g){return fl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let T;switch(function xm(_,f){Ru(Object.values(Jr).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?Ru(f!==Jr.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?Ru(f===Jr.NONE,_,"unsupported-persistence-type"):ra()?Ru(f===Jr.NONE||f===Jr.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):Ru(f===Jr.NONE||Fr(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Jr.SESSION:T=tn;break;case Jr.LOCAL:T=(yield oe(sn)._isAvailable())?sn:dr;break;case Jr.NONE:T=$;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return In(this._delegate,function al(_){return yc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return In(this._delegate,Pn(this._delegate,g))}signInWithCustomToken(g){return In(this._delegate,function Fs(_,f){return Ls.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return In(this._delegate,function Zl(_,f,g){return Pn((0,P.m9)(_),$l.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return In(this._delegate,function gl(_,f,g){return Vs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return _h(this._delegate,function Rc(_,f,g){return Nn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Ou(ia(),b._delegate,"operation-not-supported-in-this-environment"),In(b._delegate,function $s(_,f,g){return mu.apply(this,arguments)}(b._delegate,g,ms))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Ou(ia(),b._delegate,"operation-not-supported-in-this-environment"),yield xu(b._delegate),function R(_,f,g){return function L(_,f,g){return q.apply(this,arguments)}(_,f,g)}(b._delegate,g,ms)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function wn(_,f){return Wo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Jr,_})();function Rl(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const T=b;return{next:z=>T(z&&Co.getOrCreate(z)),error:f,complete:g}}function Pu(_,f){const g=function pp(_,f){const g=Wc();if(!g)return[];const b=ce(ph,_,f);switch(g.getItem(b)){case Jr.NONE:return[$];case Jr.LOCAL:return[sn,tn];case Jr.SESSION:return[tn];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(sn)&&g.push(sn),"undefined"!=typeof window)for(const b of[dr,tn])g.includes(b)||g.push(b);return g.includes($)||g.push($),g}class vh{constructor(){this.providerId="phone",this._delegate=new Oi(gh(Y.Z.auth()))}static credential(f,g){return Oi.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}vh.PHONE_SIGN_IN_METHOD=Oi.PHONE_SIGN_IN_METHOD,vh.PROVIDER_ID=Oi.PROVIDER_ID;const ku=te;class bh{constructor(f,g,b=Y.Z.app()){var T;ku(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Mc(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gp(_){_.INTERNAL.registerComponent(new ie.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new yh(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$l,FacebookAuthProvider:oo,GithubAuthProvider:_c,GoogleAuthProvider:Ta,OAuthProvider:Ho,SAMLAuthProvider:ci,PhoneAuthProvider:vh,PhoneMultiFactorGenerator:Sl,RecaptchaVerifier:bh,TwitterAuthProvider:sl,Auth:yh,AuthCredential:ln,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(lt,Ce,O)=>{O.d(Ce,{y:()=>G});var c=O(930),Y=O(727),P=O(8822),ae=O(4671);var ie=O(2416),he=O(576),ue=O(2806);let G=(()=>{class Se{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const fe=new Se;return fe.source=this,fe.operator=Le,fe}subscribe(Le,fe,Ee){const tt=function ze(Se){return Se&&Se instanceof c.Lv||function Q(Se){return Se&&(0,he.m)(Se.next)&&(0,he.m)(Se.error)&&(0,he.m)(Se.complete)}(Se)&&(0,Y.Nn)(Se)}(Le)?Le:new c.Hp(Le,fe,Ee);return(0,ue.x)(()=>{const{operator:Ze,source:Ie}=this;tt.add(Ze?Ze.call(tt,Ie):Ie?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(fe){Le.error(fe)}}forEach(Le,fe){return new(fe=H(fe))((Ee,tt)=>{const Ze=new c.Hp({next:Ie=>{try{Le(Ie)}catch(be){tt(be),Ze.unsubscribe()}},error:tt,complete:Ee});this.subscribe(Ze)})}_subscribe(Le){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Le)}[P.L](){return this}pipe(...Le){return function ge(Se){return 0===Se.length?ae.y:1===Se.length?Se[0]:function(Le){return Se.reduce((fe,Ee)=>Ee(fe),Le)}}(Le)(this)}toPromise(Le){return new(Le=H(Le))((fe,Ee)=>{let tt;this.subscribe(Ze=>tt=Ze,Ze=>Ee(Ze),()=>fe(tt))})}}return Se.create=Oe=>new Se(Oe),Se})();function H(Se){var Oe;return null!==(Oe=null!=Se?Se:ie.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(lt,Ce,O)=>{O.d(Ce,{x:()=>ie});var c=O(8306),Y=O(727);const ae=(0,O(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=O(8737),ge=O(2806);let ie=(()=>{class ue extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new he(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:ze,observers:Se}=this;return Q||ze?Y.Lc:(this.currentObservers=null,Se.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:ze,isStopped:Se}=this;Q?H.error(ze):Se&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return ue.create=(G,H)=>new he(G,H),ue})();class he extends ie{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,G)}error(G){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==Q?Q:Y.Lc}}},930:(lt,Ce,O)=>{O.d(Ce,{Hp:()=>Le,Lv:()=>Q});var c=O(576),Y=O(727),P=O(2416),ae=O(7849),X=O(5032);const ge=ue("C",void 0,void 0);function ue(Ie,be,we){return{kind:Ie,value:be,error:we}}var G=O(3410),H=O(2806);class Q extends Y.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,Y.Nn)(be)&&be.add(this)):this.destination=Ze}static create(be,we,$e){return new Le(be,we,$e)}next(be){this.isStopped?tt(function he(Ie){return ue("N",Ie,void 0)}(be),this):this._next(be)}error(be){this.isStopped?tt(function ie(Ie){return ue("E",void 0,Ie)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?tt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Se(Ie,be){return ze.call(Ie,be)}class Oe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:we}=this;if(we.next)try{we.next(be)}catch($e){fe($e)}}error(be){const{partialObserver:we}=this;if(we.error)try{we.error(be)}catch($e){fe($e)}else fe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(we){fe(we)}}}class Le extends Q{constructor(be,we,$e){let Ge;if(super(),(0,c.m)(be)||!be)Ge={next:null!=be?be:void 0,error:null!=we?we:void 0,complete:null!=$e?$e:void 0};else{let te;this&&P.v.useDeprecatedNextContext?(te=Object.create(be),te.unsubscribe=()=>this.unsubscribe(),Ge={next:be.next&&Se(be.next,te),error:be.error&&Se(be.error,te),complete:be.complete&&Se(be.complete,te)}):Ge=be}this.destination=new Oe(Ge)}}function fe(Ie){P.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,ae.h)(Ie)}function tt(Ie,be){const{onStoppedNotification:we}=P.v;we&&G.z.setTimeout(()=>we(Ie,be))}const Ze={closed:!0,next:X.Z,error:function Ee(Ie){throw Ie},complete:X.Z}},727:(lt,Ce,O)=>{O.d(Ce,{Lc:()=>ge,w0:()=>X,Nn:()=>ie});var c=O(576);const P=(0,O(3888).d)(ue=>function(H){ue(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,ze)=>`${ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=O(8737);class X{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Se){G=Se instanceof P?Se.errors:[Se]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Se of ze)try{he(Se)}catch(Oe){G=null!=G?G:[],Oe instanceof P?G=[...G,...Oe.errors]:G.push(Oe)}}if(G)throw new P(G)}}add(G){var H;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof X){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,ae.P)(H,G),G instanceof X&&G._removeParent(this)}}X.EMPTY=(()=>{const ue=new X;return ue.closed=!0,ue})();const ge=X.EMPTY;function ie(ue){return ue instanceof X||ue&&"closed"in ue&&(0,c.m)(ue.remove)&&(0,c.m)(ue.add)&&(0,c.m)(ue.unsubscribe)}function he(ue){(0,c.m)(ue)?ue():ue.unsubscribe()}},2416:(lt,Ce,O)=>{O.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Ce,O)=>{O.d(Ce,{E:()=>Y});const Y=new(O(8306).y)(X=>X.complete())},8996:(lt,Ce,O)=>{O.d(Ce,{D:()=>be});var c=O(8421),Y=O(5363),P=O(9468),ge=O(8306),he=O(2202),ue=O(576),G=O(9672);function Q(we,$e){if(!we)throw new Error("Iterable cannot be null");return new ge.y(Ge=>{(0,G.f)(Ge,$e,()=>{const te=we[Symbol.asyncIterator]();(0,G.f)(Ge,$e,()=>{te.next().then(K=>{K.done?Ge.complete():Ge.next(K.value)})},0,!0)})})}var ze=O(3670),Se=O(8239),Oe=O(1144),Le=O(6495),fe=O(2206),Ee=O(4532),tt=O(3260);function be(we,$e){return $e?function Ie(we,$e){if(null!=we){if((0,ze.c)(we))return function ae(we,$e){return(0,c.Xf)(we).pipe((0,P.R)($e),(0,Y.Q)($e))}(we,$e);if((0,Oe.z)(we))return function ie(we,$e){return new ge.y(Ge=>{let te=0;return $e.schedule(function(){te===we.length?Ge.complete():(Ge.next(we[te++]),Ge.closed||this.schedule())})})}(we,$e);if((0,Se.t)(we))return function X(we,$e){return(0,c.Xf)(we).pipe((0,P.R)($e),(0,Y.Q)($e))}(we,$e);if((0,fe.D)(we))return Q(we,$e);if((0,Le.T)(we))return function H(we,$e){return new ge.y(Ge=>{let te;return(0,G.f)(Ge,$e,()=>{te=we[he.h](),(0,G.f)(Ge,$e,()=>{let K,se;try{({value:K,done:se}=te.next())}catch(me){return void Ge.error(me)}se?Ge.complete():Ge.next(K)},0,!0)}),()=>(0,ue.m)(null==te?void 0:te.return)&&te.return()})}(we,$e);if((0,tt.L)(we))return function Ze(we,$e){return Q((0,tt.Q)(we),$e)}(we,$e)}throw(0,Ee.z)(we)}(we,$e):(0,c.Xf)(we)}},8421:(lt,Ce,O)=>{O.d(Ce,{Xf:()=>ze});var c=O(655),Y=O(1144),P=O(8239),ae=O(8306),X=O(3670),ge=O(2206),ie=O(4532),he=O(6495),ue=O(3260),G=O(576),H=O(7849),Q=O(8822);function ze(Ie){if(Ie instanceof ae.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Se(Ie){return new ae.y(be=>{const we=Ie[Q.L]();if((0,G.m)(we.subscribe))return we.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Y.z)(Ie))return function Oe(Ie){return new ae.y(be=>{for(let we=0;we<Ie.length&&!be.closed;we++)be.next(Ie[we]);be.complete()})}(Ie);if((0,P.t)(Ie))return function Le(Ie){return new ae.y(be=>{Ie.then(we=>{be.closed||(be.next(we),be.complete())},we=>be.error(we)).then(null,H.h)})}(Ie);if((0,ge.D)(Ie))return Ee(Ie);if((0,he.T)(Ie))return function fe(Ie){return new ae.y(be=>{for(const we of Ie)if(be.next(we),be.closed)return;be.complete()})}(Ie);if((0,ue.L)(Ie))return function tt(Ie){return Ee((0,ue.Q)(Ie))}(Ie)}throw(0,ie.z)(Ie)}function Ee(Ie){return new ae.y(be=>{(function Ze(Ie,be){var we,$e,Ge,te;return(0,c.mG)(this,void 0,void 0,function*(){try{for(we=(0,c.KL)(Ie);!($e=yield we.next()).done;)if(be.next($e.value),be.closed)return}catch(K){Ge={error:K}}finally{try{$e&&!$e.done&&(te=we.return)&&(yield te.call(we))}finally{if(Ge)throw Ge.error}}be.complete()})})(Ie,be).catch(we=>be.error(we))})}},6451:(lt,Ce,O)=>{O.d(Ce,{T:()=>ge});var c=O(8189),Y=O(8421),P=O(515),ae=O(3269),X=O(8996);function ge(...ie){const he=(0,ae.yG)(ie),ue=(0,ae._6)(ie,1/0),G=ie;return G.length?1===G.length?(0,Y.Xf)(G[0]):(0,c.J)(ue)((0,X.D)(G,he)):P.E}},5403:(lt,Ce,O)=>{O.d(Ce,{x:()=>Y});var c=O(930);function Y(ae,X,ge,ie,he){return new P(ae,X,ge,ie,he)}class P extends c.Lv{constructor(X,ge,ie,he,ue,G){super(X),this.onFinalize=ue,this.shouldUnsubscribe=G,this._next=ge?function(H){try{ge(H)}catch(Q){X.error(Q)}}:super._next,this._error=he?function(H){try{he(H)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(lt,Ce,O)=>{O.d(Ce,{U:()=>P});var c=O(4482),Y=O(5403);function P(ae,X){return(0,c.e)((ge,ie)=>{let he=0;ge.subscribe((0,Y.x)(ie,ue=>{ie.next(ae.call(X,ue,he++))}))})}},8189:(lt,Ce,O)=>{O.d(Ce,{J:()=>P});var c=O(5577),Y=O(4671);function P(ae=1/0){return(0,c.z)(Y.y,ae)}},5577:(lt,Ce,O)=>{O.d(Ce,{z:()=>he});var c=O(4004),Y=O(8421),P=O(4482),ae=O(9672),X=O(5403),ie=O(576);function he(ue,G,H=1/0){return(0,ie.m)(G)?he((Q,ze)=>(0,c.U)((Se,Oe)=>G(Q,Se,ze,Oe))((0,Y.Xf)(ue(Q,ze))),H):("number"==typeof G&&(H=G),(0,P.e)((Q,ze)=>function ge(ue,G,H,Q,ze,Se,Oe,Le){const fe=[];let Ee=0,tt=0,Ze=!1;const Ie=()=>{Ze&&!fe.length&&!Ee&&G.complete()},be=$e=>Ee<Q?we($e):fe.push($e),we=$e=>{Se&&G.next($e),Ee++;let Ge=!1;(0,Y.Xf)(H($e,tt++)).subscribe((0,X.x)(G,te=>{null==ze||ze(te),Se?be(te):G.next(te)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ee--;fe.length&&Ee<Q;){const te=fe.shift();Oe?(0,ae.f)(G,Oe,()=>we(te)):we(te)}Ie()}catch(te){G.error(te)}}))};return ue.subscribe((0,X.x)(G,be,()=>{Ze=!0,Ie()})),()=>{null==Le||Le()}}(Q,ze,ue,H)))}},5363:(lt,Ce,O)=>{O.d(Ce,{Q:()=>ae});var c=O(9672),Y=O(4482),P=O(5403);function ae(X,ge=0){return(0,Y.e)((ie,he)=>{ie.subscribe((0,P.x)(he,ue=>(0,c.f)(he,X,()=>he.next(ue),ge),()=>(0,c.f)(he,X,()=>he.complete(),ge),ue=>(0,c.f)(he,X,()=>he.error(ue),ge)))})}},3099:(lt,Ce,O)=>{O.d(Ce,{B:()=>ge});var c=O(8996),Y=O(5698),P=O(7579),ae=O(930),X=O(4482);function ge(he={}){const{connector:ue=(()=>new P.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=he;return ze=>{let Se=null,Oe=null,Le=null,fe=0,Ee=!1,tt=!1;const Ze=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ie=()=>{Ze(),Se=Le=null,Ee=tt=!1},be=()=>{const we=Se;Ie(),null==we||we.unsubscribe()};return(0,X.e)((we,$e)=>{fe++,!tt&&!Ee&&Ze();const Ge=Le=null!=Le?Le:ue();$e.add(()=>{fe--,0===fe&&!tt&&!Ee&&(Oe=ie(be,Q))}),Ge.subscribe($e),Se||(Se=new ae.Hp({next:te=>Ge.next(te),error:te=>{tt=!0,Ze(),Oe=ie(Ie,G,te),Ge.error(te)},complete:()=>{Ee=!0,Ze(),Oe=ie(Ie,H),Ge.complete()}}),(0,c.D)(we).subscribe(Se))})(ze)}}function ie(he,ue,...G){return!0===ue?(he(),null):!1===ue?null:ue(...G).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(lt,Ce,O)=>{O.d(Ce,{R:()=>Y});var c=O(4482);function Y(P,ae=0){return(0,c.e)((X,ge)=>{ge.add(P.schedule(()=>X.subscribe(ge),ae))})}},5698:(lt,Ce,O)=>{O.d(Ce,{q:()=>ae});var c=O(515),Y=O(4482),P=O(5403);function ae(X){return X<=0?()=>c.E:(0,Y.e)((ge,ie)=>{let he=0;ge.subscribe((0,P.x)(ie,ue=>{++he<=X&&(ie.next(ue),X<=he&&ie.complete())}))})}},8505:(lt,Ce,O)=>{O.d(Ce,{b:()=>X});var c=O(576),Y=O(4482),P=O(5403),ae=O(4671);function X(ge,ie,he){const ue=(0,c.m)(ge)||ie||he?{next:ge,error:ie,complete:he}:ge;return ue?(0,Y.e)((G,H)=>{var Q;null===(Q=ue.subscribe)||void 0===Q||Q.call(ue);let ze=!0;G.subscribe((0,P.x)(H,Se=>{var Oe;null===(Oe=ue.next)||void 0===Oe||Oe.call(ue,Se),H.next(Se)},()=>{var Se;ze=!1,null===(Se=ue.complete)||void 0===Se||Se.call(ue),H.complete()},Se=>{var Oe;ze=!1,null===(Oe=ue.error)||void 0===Oe||Oe.call(ue,Se),H.error(Se)},()=>{var Se,Oe;ze&&(null===(Se=ue.unsubscribe)||void 0===Se||Se.call(ue)),null===(Oe=ue.finalize)||void 0===Oe||Oe.call(ue)}))}):ae.y}},4408:(lt,Ce,O)=>{O.d(Ce,{o:()=>X});var c=O(727);class Y extends c.w0{constructor(ie,he){super()}schedule(ie,he=0){return this}}const P={setInterval(ge,ie,...he){const{delegate:ue}=P;return(null==ue?void 0:ue.setInterval)?ue.setInterval(ge,ie,...he):setInterval(ge,ie,...he)},clearInterval(ge){const{delegate:ie}=P;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ge)},delegate:void 0};var ae=O(8737);class X extends Y{constructor(ie,he){super(ie,he),this.scheduler=ie,this.work=he,this.pending=!1}schedule(ie,he=0){if(this.closed)return this;this.state=ie;const ue=this.id,G=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(G,ue,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(G,this.id,he),this}requestAsyncId(ie,he,ue=0){return P.setInterval(ie.flush.bind(ie,this),ue)}recycleAsyncId(ie,he,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return he;P.clearInterval(he)}execute(ie,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ie,he);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,he){let G,ue=!1;try{this.work(ie)}catch(H){ue=!0,G=H||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ie,scheduler:he}=this,{actions:ue}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ue,this),null!=ie&&(this.id=this.recycleAsyncId(he,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Ce,O)=>{O.d(Ce,{v:()=>P});var c=O(6063);class Y{constructor(X,ge=Y.now){this.schedulerActionCtor=X,this.now=ge}schedule(X,ge=0,ie){return new this.schedulerActionCtor(this,X).schedule(ie,ge)}}Y.now=c.l.now;class P extends Y{constructor(X,ge=Y.now){super(X,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:ge}=this;if(this._active)return void ge.push(X);let ie;this._active=!0;do{if(ie=X.execute(X.state,X.delay))break}while(X=ge.shift());if(this._active=!1,ie){for(;X=ge.shift();)X.unsubscribe();throw ie}}}},4986:(lt,Ce,O)=>{O.d(Ce,{z:()=>P,P:()=>ae});var c=O(4408);const P=new(O(7565).v)(c.o),ae=P},6063:(lt,Ce,O)=>{O.d(Ce,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(lt,Ce,O)=>{O.d(Ce,{z:()=>c});const c={setTimeout(Y,P,...ae){const{delegate:X}=c;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,P,...ae):setTimeout(Y,P,...ae)},clearTimeout(Y){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(lt,Ce,O)=>{O.d(Ce,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Ce,O)=>{O.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(lt,Ce,O)=>{O.d(Ce,{jO:()=>ae,yG:()=>X,_6:()=>ge});var c=O(576),Y=O(3532);function P(ie){return ie[ie.length-1]}function ae(ie){return(0,c.m)(P(ie))?ie.pop():void 0}function X(ie){return(0,Y.K)(P(ie))?ie.pop():void 0}function ge(ie,he){return"number"==typeof P(ie)?ie.pop():he}},8737:(lt,Ce,O)=>{function c(Y,P){if(Y){const ae=Y.indexOf(P);0<=ae&&Y.splice(ae,1)}}O.d(Ce,{P:()=>c})},3888:(lt,Ce,O)=>{function c(Y){const ae=Y(X=>{Error.call(X),X.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(Ce,{d:()=>c})},2806:(lt,Ce,O)=>{O.d(Ce,{x:()=>P,O:()=>ae});var c=O(2416);let Y=null;function P(X){if(c.v.useDeprecatedSynchronousErrorHandling){const ge=!Y;if(ge&&(Y={errorThrown:!1,error:null}),X(),ge){const{errorThrown:ie,error:he}=Y;if(Y=null,ie)throw he}}else X()}function ae(X){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(lt,Ce,O)=>{function c(Y,P,ae,X=0,ge=!1){const ie=P.schedule(function(){ae(),ge?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(ie),!ge)return ie}O.d(Ce,{f:()=>c})},4671:(lt,Ce,O)=>{function c(Y){return Y}O.d(Ce,{y:()=>c})},1144:(lt,Ce,O)=>{O.d(Ce,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(lt,Ce,O)=>{O.d(Ce,{D:()=>Y});var c=O(576);function Y(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(lt,Ce,O)=>{function c(Y){return"function"==typeof Y}O.d(Ce,{m:()=>c})},3670:(lt,Ce,O)=>{O.d(Ce,{c:()=>P});var c=O(8822),Y=O(576);function P(ae){return(0,Y.m)(ae[c.L])}},6495:(lt,Ce,O)=>{O.d(Ce,{T:()=>P});var c=O(2202),Y=O(576);function P(ae){return(0,Y.m)(null==ae?void 0:ae[c.h])}},8239:(lt,Ce,O)=>{O.d(Ce,{t:()=>Y});var c=O(576);function Y(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(lt,Ce,O)=>{O.d(Ce,{Q:()=>P,L:()=>ae});var c=O(655),Y=O(576);function P(X){return(0,c.FC)(this,arguments,function*(){const ie=X.getReader();try{for(;;){const{value:he,done:ue}=yield(0,c.qq)(ie.read());if(ue)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{ie.releaseLock()}})}function ae(X){return(0,Y.m)(null==X?void 0:X.getReader)}},3532:(lt,Ce,O)=>{O.d(Ce,{K:()=>Y});var c=O(576);function Y(P){return P&&(0,c.m)(P.schedule)}},4482:(lt,Ce,O)=>{O.d(Ce,{A:()=>Y,e:()=>P});var c=O(576);function Y(ae){return(0,c.m)(null==ae?void 0:ae.lift)}function P(ae){return X=>{if(Y(X))return X.lift(function(ge){try{return ae(ge,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(lt,Ce,O)=>{function c(){}O.d(Ce,{Z:()=>c})},7849:(lt,Ce,O)=>{O.d(Ce,{h:()=>P});var c=O(2416),Y=O(3410);function P(ae){Y.z.setTimeout(()=>{const{onUnhandledError:X}=c.v;if(!X)throw ae;X(ae)})}},4532:(lt,Ce,O)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>c})},655:(lt,Ce,O)=>{function ae(K,se){var me={};for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)&&se.indexOf(oe)<0&&(me[oe]=K[oe]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(oe=Object.getOwnPropertySymbols(K);xe<oe.length;xe++)se.indexOf(oe[xe])<0&&Object.prototype.propertyIsEnumerable.call(K,oe[xe])&&(me[oe[xe]]=K[oe[xe]])}return me}function he(K,se,me,oe){return new(me||(me=Promise))(function(le,Ct){function Xt(yt){try{ut(oe.next(yt))}catch(fn){Ct(fn)}}function Rn(yt){try{ut(oe.throw(yt))}catch(fn){Ct(fn)}}function ut(yt){yt.done?le(yt.value):function xe(le){return le instanceof me?le:new me(function(Ct){Ct(le)})}(yt.value).then(Xt,Rn)}ut((oe=oe.apply(K,se||[])).next())})}function fe(K){return this instanceof fe?(this.v=K,this):new fe(K)}function Ee(K,se,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,oe=me.apply(K,se||[]),le=[];return xe={},Ct("next"),Ct("throw"),Ct("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function Ct(pn){oe[pn]&&(xe[pn]=function(Ii){return new Promise(function(an,ts){le.push([pn,Ii,an,ts])>1||Xt(pn,Ii)})})}function Xt(pn,Ii){try{!function Rn(pn){pn.value instanceof fe?Promise.resolve(pn.value.v).then(ut,yt):fn(le[0][2],pn)}(oe[pn](Ii))}catch(an){fn(le[0][3],an)}}function ut(pn){Xt("next",pn)}function yt(pn){Xt("throw",pn)}function fn(pn,Ii){pn(Ii),le.shift(),le.length&&Xt(le[0][0],le[0][1])}}function Ze(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,se=K[Symbol.asyncIterator];return se?se.call(K):(K=function Q(K){var se="function"==typeof Symbol&&Symbol.iterator,me=se&&K[se],oe=0;if(me)return me.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&oe>=K.length&&(K=void 0),{value:K&&K[oe++],done:!K}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),me={},oe("next"),oe("throw"),oe("return"),me[Symbol.asyncIterator]=function(){return this},me);function oe(le){me[le]=K[le]&&function(Ct){return new Promise(function(Xt,Rn){!function xe(le,Ct,Xt,Rn){Promise.resolve(Rn).then(function(ut){le({value:ut,done:Xt})},Ct)}(Xt,Rn,(Ct=K[le](Ct)).done,Ct.value)})}}}O.d(Ce,{_T:()=>ae,mG:()=>he,qq:()=>fe,FC:()=>Ee,KL:()=>Ze})},5e3:(lt,Ce,O)=>{O.d(Ce,{deG:()=>cm,tb:()=>Sy,AFp:()=>gg,ip1:()=>oE,CZH:()=>Iy,hGG:()=>IE,z2F:()=>mE,sBO:()=>IR,Sil:()=>tT,_Vd:()=>Zh,EJc:()=>uE,SBq:()=>wd,qLn:()=>In,vpe:()=>Za,tBr:()=>qi,XFs:()=>ht,OlP:()=>jn,zs3:()=>Yi,ZZ4:()=>Sr,aQg:()=>ky,soG:()=>_g,YKP:()=>_I,h0i:()=>Jh,PXZ:()=>lT,R0b:()=>ga,FiY:()=>Hn,Lbi:()=>Ty,g9A:()=>aE,Qsj:()=>cI,FYo:()=>uI,JOm:()=>re,tp0:()=>Pi,Rgc:()=>tf,dDg:()=>sT,q4F:()=>hI,GfV:()=>dI,s_b:()=>my,ifc:()=>$t,eFA:()=>uT,G48:()=>DR,Gpc:()=>H,X6Q:()=>ER,_c5:()=>Dg,VLi:()=>pR,c2e:()=>Ay,zSh:()=>E_,wAp:()=>Et,vHH:()=>Oe,cg1:()=>ry,kL8:()=>Qb,dqk:()=>jt,sIi:()=>sd,CqO:()=>yb,QGY:()=>zp,F4k:()=>md,RDi:()=>ls,AaK:()=>he,qOj:()=>jp,TTD:()=>oo,_Bn:()=>Dw,xp6:()=>Dp,uIk:()=>F_,Tol:()=>jh,ekj:()=>Qp,Suo:()=>dg,Xpm:()=>Pt,lG2:()=>Zt,Yz7:()=>an,cJS:()=>en,oAB:()=>J,Yjl:()=>yr,Y36:()=>Zu,_UZ:()=>kh,qZA:()=>gd,TgZ:()=>za,EpF:()=>Wp,n5z:()=>wl,Ikx:()=>ny,SDv:()=>sI,QtT:()=>yw,pQV:()=>qh,LFG:()=>Ye,$8M:()=>Pa,$Z:()=>$a,NdJ:()=>qp,CRH:()=>zw,oxw:()=>Z_,ALo:()=>Lw,lcZ:()=>Vw,Hsn:()=>Yu,F$t:()=>bb,Q6J:()=>Wa,s9C:()=>Vh,MGl:()=>Bh,VKq:()=>wI,WLB:()=>EI,kEZ:()=>Xh,iGM:()=>cg,MAs:()=>fb,CHM:()=>Kl,LSH:()=>Nl,Udp:()=>Jp,YNc:()=>db,W1O:()=>vy,_uU:()=>Lb,Oqu:()=>ey,hij:()=>ty,Gf:()=>yy});var c=O(7579),Y=O(727),P=O(8306),ae=O(6451),X=O(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ue(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=ge({__forward_ref__:ge});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function Q(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class Oe extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function be(s,o){const a=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${Ee(s)} found${a}`)}function yt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ht(s){return sr(s,Ui)||sr(s,ns)}function sr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Mr(s){return s&&(s.hasOwnProperty(Rr)||s.hasOwnProperty(rs))?s[Rr]:null}const Ui=ge({\u0275prov:ge}),Rr=ge({\u0275inj:ge}),ns=ge({ngInjectableDef:ge}),rs=ge({ngInjectorDef:ge});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Hr;function Kn(s){const o=Hr;return Hr=s,o}function ai(s,o,a){const u=Ht(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ht.Optional?null:void 0!==o?o:void be(he(s),"Injector")}function vn(s){return{toString:s}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const st="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=st||"undefined"!=typeof global&&global||Dt||or,ar={},pt=[],_r=ge({\u0275cmp:ge}),Lt=ge({\u0275dir:ge}),Je=ge({\u0275pipe:ge}),Te=ge({\u0275mod:ge}),et=ge({\u0275fac:ge}),gt=ge({__NG_ELEMENT_ID__:ge});let Bt=0;function Pt(s){return vn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||pt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||pt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,v=s.pipes;return u.id+=Bt++,u.inputs=vt(s.inputs,a),u.outputs=vt(s.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(B):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map($):null,u})}function B(s){return Wt(s)||function Sn(s){return s[Lt]||null}(s)}function $(s){return function Rt(s){return s[Je]||null}(s)}const ce={};function J(s){return vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||pt,declarations:s.declarations||pt,imports:s.imports||pt,exports:s.exports||pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ce[s.id]=s.type),o})}function vt(s,o){if(null==s)return ar;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const Zt=Pt;function yr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wt(s){return s[_r]||null}function gn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function ui(s){return Array.isArray(s)&&!0===s[1]}function fc(s){return 0!=(8&s.flags)}function Ms(s){return 2==(2&s.flags)}function rl(s){return 1==(1&s.flags)}function $r(s){return null!==s.template}function Wd(s){return 0!=(512&s[2])}function Wr(s,o){return s.hasOwnProperty(et)?s[et]:null}class Ho{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function oo(){return Ta}function Ta(s){return s.type.prototype.ngOnChanges&&(s.setInput=ep),_c}function _c(){const s=Os(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===ar)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ep(s,o,a,u){const h=Os(s)||function ci(s,o){return s[Yn]=o}(s,{previous:ar,current:null}),p=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[a],D=v[w];p[w]=new Ho(D&&D.currentValue,o,v===ar),s[u]=o}oo.ngInherit=!0;const Yn="__ngSimpleChanges__";function Os(s){return s[Yn]||null}let ul;function ls(s){ul=s}function Sa(){return void 0!==ul?ul:"undefined"!=typeof document?document:void 0}function _n(s){return!!s.listen}const $o={createRenderer:(s,o)=>Sa()};function cn(s){for(;Array.isArray(s);)s=s[0];return s}function lo(s,o){return cn(o[s])}function br(s,o){return cn(o[s.index])}function Aa(s,o){return s.data[o]}function Si(s,o){return s[o]}function wr(s,o){const a=o[s];return Ti(a)?a:a[0]}function ks(s){return 4==(4&s[2])}function us(s){return 128==(128&s[2])}function zr(s,o){return null==o?null:s[o]}function Fs(s){s[18]=0}function Ls(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const mt={lFrame:co(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pl(){return mt.bindingsEnabled}function De(){return mt.lFrame.lView}function kt(){return mt.lFrame.tView}function Kl(s){return mt.lFrame.contextLView=s,s[8]}function wn(){let s=Wo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wo(){return mt.lFrame.currentTNode}function zo(){const s=mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function qr(s,o){const a=mt.lFrame;a.currentTNode=s,a.isParent=o}function Zl(){return mt.lFrame.isParent}function Yl(){mt.lFrame.isParent=!1}function gl(){return mt.isInCheckNoChangesMode}function Vs(s){mt.isInCheckNoChangesMode=s}function cr(){const s=mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Bs(){return mt.lFrame.bindingIndex++}function Ai(s){const o=mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function _l(s){mt.lFrame.inI18n=s}function yl(s,o){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ma(o)}function Ma(s){mt.lFrame.currentDirectiveIndex=s}function eu(){return mt.lFrame.currentQueryIndex}function tu(s){mt.lFrame.currentQueryIndex=s}function wc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function nu(s,o,a){if(a&ht.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&ht.Host||(h=wc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=mt.lFrame=Ec();return u.currentTNode=o,u.lView=s,!0}function uo(s){const o=Ec(),a=s[1];mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ec(){const s=mt.lFrame,o=null===s?null:s.child;return null===o?co(s):o}function co(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Dc(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Cc=Dc;function ho(){const s=Dc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Er(){return mt.lFrame.selectedIndex}function js(s){mt.lFrame.selectedIndex=s}function An(){const s=mt.lFrame;return Aa(s.tView,s.selectedIndex)}function cs(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:M}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function xa(s,o,a){Ic(s,o,3,a)}function vl(s,o,a,u){(3&s[2])===a&&Ic(s,o,a,u)}function Un(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ic(s,o,a,u){const p=null!=u?u:-1,v=o.length-1;let w=0;for(let D=void 0!==u?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=u&&w>=u)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(tp(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function tp(s,o,a,u){const h=a[u]<0,p=a[u+1],w=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class qo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Hi(s,o,a){const u=_n(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const v=a[h++],w=a[h++],D=a[h++];u?s.setAttribute(o,w,D,v):o.setAttributeNS(v,w,D)}else{const v=p,w=a[++h];ft(v)?u&&s.setProperty(o,v,w):u?s.setAttribute(o,v,w):o.setAttribute(v,w),h++}}return h}function tn(s){return 3===s||4===s||6===s}function ft(s){return 64===s.charCodeAt(0)}function kn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||En(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function En(s,o,a,u,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function Ni(s){return-1!==s}function Jt(s){return 32767&s}function rn(s,o){let a=function hr(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Fn=!0;function ot(s){const o=Fn;return Fn=s,o}let Jd=0;function Zo(s,o){const a=po(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,hs(u.data,s),hs(o,null),hs(u.blueprint,null));const h=Kr(s,o),p=s.injectorIndex;if(Ni(h)){const v=Jt(h),w=rn(h,o),D=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[v+A]|D[v+A]}return o[p+8]=h,p}function hs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function po(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Kr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const p=h[1],v=p.type;if(u=2===v?p.declTNode:1===v?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Or(s,o,a){!function Ko(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(gt)&&(u=a[gt]),null==u&&(u=a[gt]=Jd++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function go(s,o,a){if(a&ht.Optional)return s;be(o,"NodeInjector")}function lu(s,o,a,u){if(a&ht.Optional&&void 0===u&&(u=null),0==(a&(ht.Self|ht.Host))){const h=s[9],p=Kn(void 0);try{return h?h.get(o,u,a&ht.Optional):ai(o,u,a&ht.Optional)}finally{Kn(p)}}return go(u,o,a)}function Yo(s,o,a,u=ht.Default,h){if(null!==s){const p=function uu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(gt)?s[gt]:void 0;return"number"==typeof o?o>=0?255&o:bl:o}(a);if("function"==typeof p){if(!nu(o,s,u))return u&ht.Host?go(h,a,u):lu(o,a,u,h);try{const v=p(u);if(null!=v||u&ht.Optional)return v;be(a)}finally{Cc()}}else if("number"==typeof p){let v=null,w=po(s,o),D=-1,A=u&ht.Host?o[16][6]:null;for((-1===w||u&ht.SkipSelf)&&(D=-1===w?Kr(s,o):o[w+8],-1!==D&&Oa(u,!1)?(v=o[1],w=Jt(D),o=rn(D,o)):w=-1);-1!==w;){const M=o[1];if(Jo(p,w,M.data)){const k=rp(w,o,a,v,u,A);if(k!==Gs)return k}D=o[w+8],-1!==D&&Oa(u,o[1].data[w+8]===A)&&Jo(p,w,o)?(v=M,w=Jt(D),o=rn(D,o)):w=-1}}}return lu(o,a,u,h)}const Gs={};function bl(){return new Ri(wn(),De())}function rp(s,o,a,u,h,p){const v=o[1],w=v.data[s+8],M=mo(w,v,a,null==u?Ms(w)&&Fn:u!=v&&0!=(3&w.type),h&ht.Host&&p===w);return null!==M?sn(o,v,M,w):Gs}function mo(s,o,a,u,h){const p=s.providerIndexes,v=o.data,w=1048575&p,D=s.directiveStart,M=p>>20,U=h?w+M:s.directiveEnd;for(let Z=u?w:w+M;Z<U;Z++){const _e=v[Z];if(Z<D&&a===_e||Z>=D&&_e.type===a)return Z}if(h){const Z=v[D];if(Z&&$r(Z)&&Z.type===a)return D}return null}function sn(s,o,a,u){let h=s[a];const p=o.data;if(function Tc(s){return s instanceof qo}(h)){const v=h;v.resolving&&function tt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${a}`)}(Ee(p[a]));const w=ot(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Kn(v.injectImpl):null;nu(s,u,ht.Default);try{h=s[a]=v.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function su(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const v=Ta(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==D&&Kn(D),ot(w),v.resolving=!1,Cc()}}return h}function Jo(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Oa(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Ri{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Yo(this._tNode,this._lView,o,u,a)}}function wl(s){return vn(()=>{const o=s.prototype.constructor,a=o[et]||Qo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[et]||Qo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Qo(s){return ze(s)?()=>{const o=Qo(Q(s));return o&&o()}:Wr(s)}function Pa(s){return function Ac(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(tn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(wn(),s)}const Xo="__parameters__";function ka(s,o,a){return vn(()=>{const u=function Nc(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const v=new h(...p);return w.annotation=v,w;function w(D,A,M){const k=D.hasOwnProperty(Xo)?D[Xo]:Object.defineProperty(D,Xo,{value:[]})[Xo];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(v),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class jn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=an({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cm=new jn("AnalyzeForEntryComponents");function Pr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Pr(u,o)):o!==s&&o.push(u)}return o}function xi(s,o){s.forEach(a=>Array.isArray(a)?xi(a,o):o(a))}function Cn(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function yn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Oi(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Zr(s,o,a){let u=$s(s,o);return u>=0?s[1|u]=a:(u=~u,function pu(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Pc(s,o){const a=$s(s,o);if(a>=0)return s[1|a]}function $s(s,o){return function yo(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),v=s[p<<a];if(o===v)return p<<a;v>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const fr={},ta="__NG_DI_FLAG__",zi="ngTempTokenPath",I=/\n/gm,L="__source",q=ge({provide:String,useValue:ge});let ee;function Me(s){const o=ee;return ee=s,o}function qe(s,o=ht.Default){if(void 0===ee)throw new Oe(203,"");return null===ee?ai(s,void 0,o):ee.get(s,o&ht.Optional?null:void 0,o)}function Ye(s,o=ht.Default){return(function tr(){return Hr}()||qe)(Q(s),o)}const Gt=Ye;function It(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,"");let h,p=ht.Default;for(let v=0;v<u.length;v++){const w=u[v],D=Ln(w);"number"==typeof D?-1===D?h=w.token:p|=D:h=w}o.push(Ye(h,p))}else o.push(Ye(u))}return o}function Gn(s,o){return s[ta]=o,s.prototype[ta]=o,s}function Ln(s){return s[ta]}const qi=Gn(ka("Inject",s=>({token:s})),-1),Hn=Gn(ka("Optional"),8),Pi=Gn(ka("SkipSelf"),4);let yu;function Tl(s){var o;return(null===(o=function vu(){if(void 0===yu&&(yu=null,jt.trustedTypes))try{yu=jt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return yu}())||void 0===o?void 0:o.createHTML(s))||s}class ps{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function gs(s){return s instanceof ps?s.changingThisBreaksApplicationSecurity:s}class Ba{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Tl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Cm{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Tl(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Tl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const na=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ws(s){return(s=String(s)).match(na)||s.match(Bc)?s:"unsafe:"+s}function sh(s){return(s=String(s)).split(",").map(o=>Ws(o.trim())).join(", ")}function Yr(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Cu(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Uc=Yr("area,br,col,hr,img,wbr"),Ua=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=Yr("rp,rt"),ah=Cu(Uc,Cu(Ua,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cu(oh,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cu(oh,Ua)),Al=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lh=Yr("srcset"),jc=Cu(Al,lh,Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function Nl(s){const o=function Nu(){const s=De();return s&&s[12]}();return o?o.sanitize(Dn.URL,s)||"":function wu(s,o){const a=function ih(s){return s instanceof ps&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?gs(s):Ws(fe(s))}const Mu="__ngContext__";function Dr(s,o){s[Mu]=o}function fh(s){const o=function sa(s){return s[Mu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function mh(s){return s.ngOriginalError}function zc(s,...o){s.error(...o)}class In{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function km(s){return s&&s.ngErrorLogger||zc}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&mh(o);for(;a&&mh(a);)a=mh(a);return a||null}}const Fm=/^>|^->|<!--|-->|--!>|<!-$/g,Co=/(<|>)/;const bh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function g(s){return s instanceof Function?s():s}var re=(()=>((re=re||{})[re.Important=1]="Important",re[re.DashCase=2]="DashCase",re))();let Ve;function nt(s,o){return Ve(s,o)}function Mn(s){const o=s[3];return ui(o)?o[3]:o}function Fu(s){return qc(s[13])}function oa(s){return qc(s[4])}function qc(s){for(;null!==s&&!ui(s);)s=s[4];return s}function Io(s,o,a,u,h){if(null!=u){let p,v=!1;ui(u)?p=u:Ti(u)&&(v=!0,u=u[0]);const w=cn(u);0===s&&null!==a?null==h?e0(o,a,w):Uu(o,a,w,h||null,!0):1===s&&null!==a?Uu(o,a,w,h||null,!0):2===s?t1(o,w,v):3===s&&o.destroyNode(w),null!=p&&function n1(s,o,a,u,h){const p=a[7];p!==cn(a)&&Io(o,s,u,p,h);for(let w=10;w<a.length;w++){const D=a[w];Qc(D[1],D,s,o,u,p)}}(o,s,p,a,h)}}function Kc(s,o){return _n(s)?s.createText(o):s.createTextNode(o)}function wh(s,o,a){_n(s)?s.setValue(o,a):o.textContent=a}function Eh(s,o){return s.createComment(function yh(s){return s.replace(Fm,o=>o.replace(Co,"\u200b$1\u200b"))}(o))}function Zc(s,o,a){if(_n(s))return s.createElement(o,a);{const u=null!==a?function ll(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Jv(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ls(h,-1)),a.splice(u,1)}function Yc(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&Jv(h,u),o>0&&(s[a-1][4]=u[4]);const p=yn(s,10+o);!function Vm(s,o){Qc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=p[19];null!==v&&v.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Qv(s,o){if(!(256&o[2])){const a=o[11];_n(a)&&a.destroyNode&&Qc(s,o,a,3,null,null),function Yv(s){let o=s[13];if(!o)return Bu(s[1],s);for(;o;){let a=null;if(Ti(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Ti(o)&&Bu(o[1],o),o=o[3];null===o&&(o=s),Ti(o)&&Bu(o[1],o),a=o&&o[4]}o=a}}(o)}}function Bu(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function QD(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof qo)){const p=a[u+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const w=h[p[v]],D=p[v+1];try{D.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function JD(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],w="function"==typeof v?v(o):cn(o[v]),D=u[h=a[p+2]],A=a[p+3];"boolean"==typeof A?w.removeEventListener(a[p],D,A):A>=0?u[h=A]():u[h=-A].unsubscribe(),p+=2}else{const v=u[h=a[p+1]];a[p].call(v)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&_n(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ui(o[3])){a!==o[3]&&Jv(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function Jc(s,o,a){return Xv(s,o.parent,a)}function Xv(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return br(u,a)}function Uu(s,o,a,u,h){_n(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function e0(s,o,a){_n(s)?s.appendChild(o,a):o.appendChild(a)}function t0(s,o,a,u,h){null!==u?Uu(s,o,a,u,h):e0(s,o,a)}function _p(s,o){return _n(s)?s.parentNode(o):o.parentNode}function n0(s,o,a){return Um(s,o,a)}function r0(s,o,a){return 40&s.type?br(s,a):null}let jm,Um=r0;function s0(s,o){Um=s,jm=o}function yp(s,o,a,u){const h=Jc(s,u,o),p=o[11],w=n0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)t0(p,h,a[D],w,!1);else t0(p,h,a,w,!1);void 0!==jm&&jm(p,u,o,a,h)}function vp(s,o){if(null!==o){const a=o.type;if(3&a)return br(o,s);if(4&a)return bp(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return vp(s,u);{const h=s[o.index];return ui(h)?bp(-1,h):cn(h)}}if(32&a)return nt(o,s)()||cn(s[o.index]);{const u=o0(s,o);return null!==u?Array.isArray(u)?u[0]:vp(Mn(s[16]),u):vp(s,o.next)}}return null}function o0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function bp(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return vp(u,h)}return o[7]}function t1(s,o,a){const u=_p(s,o);u&&function XD(s,o,a,u){_n(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}function wp(s,o,a,u,h,p,v){for(;null!=a;){const w=u[a.index],D=a.type;if(v&&0===o&&(w&&Dr(cn(w),u),a.flags|=4),64!=(64&a.flags))if(8&D)wp(s,o,a.child,u,h,p,!1),Io(o,s,h,w,p);else if(32&D){const A=nt(a,u);let M;for(;M=A();)Io(o,s,h,M,p);Io(o,s,h,w,p)}else 16&D?Gm(s,o,u,a,h,p):Io(o,s,h,w,p);a=v?a.projectionNext:a.next}}function Qc(s,o,a,u,h,p){wp(a,u,s.firstChild,o,h,p,!1)}function Gm(s,o,a,u,h,p){const v=a[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Io(o,s,h,D[A],p);else wp(s,o,D,v[3],h,p,!0)}function l0(s,o,a){_n(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Hm(s,o,a){_n(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function $m(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Ep="ng-template";function i1(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==$m(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function u0(s){return 4===s.type&&s.value!==Ep}function s1(s,o,a){return o===(4!==s.type||a?s.value:Ep)}function Wm(s,o,a){let u=4;const h=s.attrs||[],p=function l1(s){for(let o=0;o<s.length;o++)if(tn(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!s1(s,D,a)||""===D&&1===o.length){if(qs(u))return!1;v=!0}}else{const A=8&u?D:o[++w];if(8&u&&null!==s.attrs){if(!i1(s.attrs,A,a)){if(qs(u))return!1;v=!0}continue}const k=o1(8&u?"class":D,h,u0(s),a);if(-1===k){if(qs(u))return!1;v=!0;continue}if(""!==A){let U;U=k>p?"":h[k+1].toLowerCase();const Z=8&u?U:null;if(Z&&-1!==$m(Z,A,0)||2&u&&A!==U){if(qs(u))return!1;v=!0}}}}else{if(!v&&!qs(u)&&!qs(D))return!1;if(v&&qs(D))continue;v=!1,u=D|1&u}}return qs(u)||v}function qs(s){return 0==(1&s)}function o1(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function d0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function c0(s,o,a=!1){for(let u=0;u<o.length;u++)if(Wm(s,o[u],a))return!0;return!1}function u1(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function h0(s,o){return s?":not("+o.trim()+")":o}function _s(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const w=s[++a];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!qs(v)&&(o+=h0(p,h),h=""),u=v,p=p||!qs(u);a++}return""!==h&&(o+=h0(p,h)),o}const St={};function Dp(s){ju(kt(),De(),Er()+s,gl())}function ju(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&xa(o,p,a)}else{const p=s.preOrderHooks;null!==p&&vl(o,p,0,a)}js(a)}function Cp(s,o){return s<<17|o<<2}function Ks(s){return s>>17&32767}function Ip(s){return 2|s}function To(s){return(131068&s)>>2}function _0(s,o){return-131069&s|o<<2}function Tp(s){return 1|s}function t_(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const v=s.data[p];tu(h),v.contentQueries(2,o[p],p)}}}function Ch(s,o,a,u,h,p,v,w,D,A){const M=o.blueprint.slice();return M[0]=h,M[2]=140|u,Fs(M),M[3]=M[15]=s,M[8]=a,M[10]=v||s&&s[10],M[11]=w||s&&s[11],M[12]=D||s&&s[12]||null,M[9]=A||s&&s[9]||null,M[6]=p,M[16]=2==o.type?s[16]:M,M}function Gu(s,o,a,u,h){let p=s.data[o];if(null===p)p=Ga(s,o,a,u,h),function Ql(){return mt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const v=zo();p.injectorIndex=null===v?-1:v.injectorIndex}return qr(p,!0),p}function Ga(s,o,a,u,h){const p=Wo(),v=Zl(),D=s.data[o]=function A0(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==p&&(v?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}function ei(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Ih(s,o,a){uo(o);try{const u=s.viewQuery;null!==u&&v_(1,u,a);const h=s.template;null!==h&&I0(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&t_(s,o),s.staticViewQueries&&v_(2,s.viewQuery,a);const p=s.components;null!==p&&function b1(s,o){for(let a=0;a<o.length;a++)__(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ho()}}function Hu(s,o,a,u){const h=o[2];if(256==(256&h))return;uo(o);const p=gl();try{Fs(o),function ml(s){return mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&I0(s,o,a,2,u);const v=3==(3&h);if(!p)if(v){const A=s.preOrderCheckHooks;null!==A&&xa(o,A,null)}else{const A=s.preOrderHooks;null!==A&&vl(o,A,0,null),Un(o,0)}if(function g_(s){for(let o=Fu(s);null!==o;o=oa(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(1024&h[2])&&Ls(p,1),h[2]|=1024}}}(o),function T1(s){for(let o=Fu(s);null!==o;o=oa(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];us(u)&&Hu(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&t_(s,o),!p)if(v){const A=s.contentCheckHooks;null!==A&&xa(o,A)}else{const A=s.contentHooks;null!==A&&vl(o,A,1),Un(o,1)}!function y1(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)js(~h);else{const p=h,v=a[++u],w=a[++u];yl(v,p),w(2,o[p])}}}finally{js(-1)}}(s,o);const w=s.components;null!==w&&function v1(s,o){for(let a=0;a<o.length;a++)Pp(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&v_(2,D,u),!p)if(v){const A=s.viewCheckHooks;null!==A&&xa(o,A)}else{const A=s.viewHooks;null!==A&&vl(o,A,2),Un(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ls(o[3],-1))}finally{ho()}}function w1(s,o,a,u){const h=o[10],p=!gl(),v=ks(o);try{p&&!v&&h.begin&&h.begin(),v&&Ih(s,o,u),Hu(s,o,a,u)}finally{p&&!v&&h.end&&h.end()}}function I0(s,o,a,u,h){const p=Er(),v=2&u;try{js(-1),v&&o.length>20&&ju(s,o,20,gl()),a(u,h)}finally{js(p)}}function Th(s,o,a){!pl()||(function x0(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Zo(a,o),Dr(u,o);const v=a.initialInputs;for(let w=h;w<p;w++){const D=s.data[w],A=$r(D);A&&P0(o,a,D);const M=sn(o,s,w,a);Dr(M,o),null!==v&&k0(0,w-h,M,D,0,v),A&&(wr(a.index,o)[8]=M)}}(s,o,a,br(a,o)),128==(128&a.flags)&&function u_(s,o,a){const u=a.directiveStart,h=a.directiveEnd,v=a.index,w=function Xl(){return mt.lFrame.currentDirectiveIndex}();try{js(v);for(let D=u;D<h;D++){const A=s.data[D],M=o[D];Ma(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&c_(A,M)}}finally{js(-1),Ma(w)}}(s,o,a))}function aa(s,o,a=br){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const v=u[p+1],w=-1===v?a(o,s):s[v];s[h++]=w}}}function n_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ir(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ir(s,o,a,u,h,p,v,w,D,A){const M=20+u,k=M+h,U=function Pl(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:St);return a}(M,k),Z="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function i_(s,o,a,u){const h=Sh(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&Xc(s).push(u,h.length-1))}function s_(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function Zi(s,o,a,u,h,p,v,w){const D=br(o,a);let M,A=o.inputs;!w&&null!=A&&(M=A[u])?(j0(s,a,M,u,h),Ms(o)&&function R0(s,o){const a=wr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function M0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,_n(p)?p.setProperty(D,u,h):ft(u)||(D.setProperty?D.setProperty(u,h):D[u]=h))}function xp(s,o,a,u){let h=!1;if(pl()){const p=function O0(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const v=u[p];c0(a,v.selectors,!1)&&(h||(h=[]),Or(Zo(a,o),s,v.type),$r(v)?(d_(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===u?null:{"":-1};if(null!==p){h=!0,f_(a,s.data.length,p.length);for(let M=0;M<p.length;M++){const k=p[M];k.providersResolver&&k.providersResolver(k)}let w=!1,D=!1,A=ei(s,o,p.length,null);for(let M=0;M<p.length;M++){const k=p[M];a.mergedAttrs=kn(a.mergedAttrs,k.hostAttrs),p_(s,a,o,A,k),Op(A,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const U=k.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),A++}!function N0(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,v=[];let w=null,D=null;for(let A=o.directiveStart;A<u;A++){const M=h[A],k=M.inputs,U=null===p||u0(o)?null:HN(k,p);v.push(U),w=s_(k,A,w),D=s_(M.outputs,A,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=D}(s,a)}v&&function h_(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Oe(-301,!1);u.push(o[h],p)}}}(a,u,v)}return a.mergedAttrs=kn(a.mergedAttrs,a.attrs),h}function a_(s,o,a,u,h,p){const v=p.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function l_(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(u,h,v)}}function c_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function d_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Op(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;$r(o)&&(a[""]=s)}}function f_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function p_(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=Wr(h.type)),v=new qo(p,$r(h),null);s.blueprint[u]=v,a[u]=v,a_(s,o,0,u,ei(s,a,h.hostVars,St),h)}function P0(s,o,a){const u=br(o,s),h=n_(a),p=s[10],v=y_(s,Ch(s,h,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=v}function ni(s,o,a,u,h,p,v){if(null==p)_n(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const w=null==v?fe(p):v(p,u||"",h);_n(s)?s.setAttribute(o,h,w,a):a?o.setAttributeNS(a,h,w):o.setAttribute(h,w)}}function k0(s,o,a,u,h,p){const v=p[o];if(null!==v){const w=u.setInput;for(let D=0;D<v.length;){const A=v[D++],M=v[D++],k=v[D++];null!==w?u.setInput(a,k,A,M):a[M]=k}}}function HN(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function F0(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function Pp(s,o){const a=wr(o,s);if(us(a)){const u=a[1];80&a[2]?Hu(u,a,u.template,a[8]):a[5]>0&&m_(a)}}function m_(s){for(let u=Fu(s);null!==u;u=oa(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const v=p[1];Hu(v,p,v.template,p[8])}else p[5]>0&&m_(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=wr(a[u],s);us(h)&&h[5]>0&&m_(h)}}function __(s,o){const a=wr(o,s),u=a[1];(function S1(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Ih(u,a,a[8])}function y_(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function L0(s){for(;s;){s[2]|=64;const o=Mn(s);if(Wd(s)&&!o)return s;s=o}return null}function B0(s,o,a){const u=o[10];u.begin&&u.begin();try{Hu(s,o,s.template,a)}catch(h){throw Nh(o,h),h}finally{u.end&&u.end()}}function A1(s){!function V0(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=fh(a),h=u[1];w1(h,u,h.template,a)}}(s[8])}function v_(s,o,a){tu(0),o(s,a)}const M1=(()=>Promise.resolve(null))();function Sh(s){return s[7]||(s[7]=[])}function Xc(s){return s.cleanup||(s.cleanup=[])}function Nh(s,o){const a=s[9],u=a?a.get(In,null):null;u&&u.handleError(o)}function j0(s,o,a,u,h){for(let p=0;p<a.length;){const v=a[p++],w=a[p++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,h,u,w):D[w]=h}}function $u(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?p=w:1==p?h=ue(h,w):2==p&&(u=ue(u,w+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const b_=new jn("INJECTOR",-1);class w_{get(o,a=fr){if(a===fr){const u=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw u.name="NullInjectorError",u}return a}}const E_=new jn("Set Injector scope."),kp={},P1={};let Fp;function k1(){return void 0===Fp&&(Fp=new w_),Fp}function Lp(s,o=null,a=null,u){const h=G0(s,o,a,u);return h._resolveInjectorDefTypes(),h}function G0(s,o=null,a=null,u){return new H0(s,a,o||k1(),u)}class H0{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&xi(a,w=>this.processProvider(w,o,a)),xi([o],w=>this.processInjectorType(w,[],p)),this.records.set(b_,la(void 0,this));const v=this.records.get(E_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=fr,u=ht.Default){this.assertNotDestroyed();const h=Me(this),p=Kn(void 0);try{if(!(u&ht.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function W0(s){return"function"==typeof s||"object"==typeof s&&s instanceof jn}(o)&&Ht(o);w=D&&this.injectableDefInScope(D)?la(Mh(o),kp):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&ht.Self?k1():this.parent).get(o,a=u&ht.Optional&&a===fr?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[zi]=v[zi]||[]).unshift(he(o)),h)throw v;return function fi(s,o,a,u){const h=s[zi];throw o[L]&&h.unshift(o[L]),s.message=function Jn(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];p.push(v+":"+("string"==typeof w?JSON.stringify(w):he(w)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[zi]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Kn(p),Me(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,a,u){if(!(o=Q(o)))return!1;let h=Mr(o);const p=null==h&&o.ngModule||void 0,v=void 0===p?o:p,w=-1!==u.indexOf(v);if(void 0!==p&&(h=Mr(p)),null==h)return!1;if(null!=h.imports&&!w){let M;u.push(v);try{xi(h.imports,k=>{this.processInjectorType(k,a,u)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:U,providers:Z}=M[k];xi(Z,_e=>this.processProvider(_e,U,Z||pt))}}this.injectorDefTypes.add(v);const D=Wr(v)||(()=>new v);this.records.set(v,la(D,kp));const A=h.providers;if(null!=A&&!w){const M=o;xi(A,k=>this.processProvider(k,M,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let h=td(o=Q(o))?o:Q(o&&o.provide);const p=function zN(s,o,a){return Rh(s)?la(void 0,s.useValue):la(Vp(s),kp)}(o);if(td(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=la(void 0,kp,!0),v.factory=()=>It(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===kp&&(a.value=P1,a.value=a.factory()),"object"==typeof a.value&&a.value&&function I_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Mh(s){const o=Ht(s),a=null!==o?o.factory:Wr(s);if(null!==a)return a;if(s instanceof jn)throw new Oe(204,!1);if(s instanceof Function)return function D_(s){const o=s.length;if(o>0)throw Oi(o,"?"),new Oe(204,!1);const a=function oi(s){const o=s&&(s[Ui]||s[ns]);if(o){const a=function Is(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Oe(204,!1)}function Vp(s,o,a){let u;if(td(s)){const h=Q(s);return Wr(h)||Mh(h)}if(Rh(s))u=()=>Q(s.useValue);else if(function xh(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...It(s.deps||[]));else if(function ed(s){return!(!s||!s.useExisting)}(s))u=()=>Ye(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function $0(s){return!!s.deps}(s))return Wr(h)||Mh(h);u=()=>new h(...It(s.deps))}return u}function la(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Rh(s){return null!==s&&"object"==typeof s&&q in s}function td(s){return"function"==typeof s}let Yi=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return Lp({name:""},u,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return Lp({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=fr,s.NULL=new w_,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Ye(b_)}),s.__NG_ELEMENT_ID__=-1,s})();function JN(s,o){cs(fh(s)[1],wn())}function jp(s){let o=function tb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if($r(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const v=s;v.inputs=Gp(s.inputs),v.declaredInputs=Gp(s.declaredInputs),v.outputs=Gp(s.outputs);const w=h.hostBindings;w&&rb(s,w);const D=h.viewQuery,A=h.contentQueries;if(D&&nb(s,D),A&&B1(s,A),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),$r(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const w=p[v];w&&w.ngInherit&&w(s),w===jp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function V1(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=kn(h.hostAttrs,a=kn(a,h.hostAttrs))}}(u)}function Gp(s){return s===ar?{}:s===pt?[]:s}function nb(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function B1(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function rb(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let rd=null;function id(){if(!rd){const s=jt.Symbol;if(s&&s.iterator)rd=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(rd=u)}}}return rd}function sd(s){return!!k_(s)&&(Array.isArray(s)||!(s instanceof Map)&&id()in s)}function k_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function No(s,o,a){return s[o]=a}function Lr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Wu(s,o,a,u){const h=Lr(s,o,a);return Lr(s,o+1,u)||h}function F_(s,o,a,u){const h=De();return Lr(h,Bs(),o)&&(kt(),function ti(s,o,a,u,h,p){const v=br(s,o);ni(o[11],v,p,s.value,a,u,h)}(An(),h,s,o,a,u)),F_}function kl(s,o,a,u){return Lr(s,Bs(),a)?o+fe(a)+u:St}function db(s,o,a,u,h,p,v,w){const D=De(),A=kt(),M=s+20,k=A.firstCreatePass?function cb(s,o,a,u,h,p,v,w,D){const A=o.consts,M=Gu(o,s,4,v||null,zr(A,w));xp(o,a,M,zr(A,D)),cs(o,M);const k=M.tViews=Ir(2,M,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,A,D,o,a,u,h,p,v):A.data[M];qr(k,!1);const U=D[11].createComment("");yp(A,D,U,k),Dr(U,D),y_(D,D[M]=F0(U,D,U,k)),rl(k)&&Th(A,D,k),null!=v&&aa(D,k,w)}function fb(s){return Si(function Jl(){return mt.lFrame.contextLView}(),20+s)}function Zu(s,o=ht.Default){const a=De();return null===a?Ye(s,o):Yo(wn(),a,Q(s),o)}function $a(){throw new Error("invalid")}function Wa(s,o,a){const u=De();return Lr(u,Bs(),o)&&Zi(kt(),An(),u,s,o,u[11],a,!1),Wa}function fd(s,o,a,u,h){const v=h?"class":"style";j0(s,a,o.inputs[v],v,u)}function za(s,o,a,u){const h=De(),p=kt(),v=20+s,w=h[11],D=h[v]=Zc(w,o,function lm(){return mt.lFrame.currentNamespace}()),A=p.firstCreatePass?function pd(s,o,a,u,h,p,v){const w=o.consts,A=Gu(o,s,2,h,zr(w,p));return xp(o,a,A,zr(w,v)),null!==A.attrs&&$u(A,A.attrs,!1),null!==A.mergedAttrs&&$u(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,p,h,0,o,a,u):p.data[v];qr(A,!0);const M=A.mergedAttrs;null!==M&&Hi(w,D,M);const k=A.classes;null!==k&&Hm(w,D,k);const U=A.styles;return null!==U&&l0(w,D,U),64!=(64&A.flags)&&yp(p,h,D,A),0===function Na(){return mt.lFrame.elementDepthCount}()&&Dr(D,h),function hl(){mt.lFrame.elementDepthCount++}(),rl(A)&&(Th(p,h,A),function T0(s,o,a){if(fc(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,A,h)),null!==u&&aa(h,A),za}function gd(){let s=wn();Zl()?Yl():(s=s.parent,qr(s,!1));const o=s;!function fl(){mt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(cs(a,s),fc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Zd(s){return 0!=(16&s.flags)}(o)&&fd(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function np(s){return 0!=(32&s.flags)}(o)&&fd(a,o,De(),o.stylesWithoutHost,!1),gd}function kh(s,o,a,u){return za(s,o,a,u),gd(),kh}function Wp(){return De()}function zp(s){return!!s&&"function"==typeof s.then}function md(s){return!!s&&"function"==typeof s.subscribe}const yb=md;function qp(s,o,a,u){const h=De(),p=kt(),v=wn();return function q_(s,o,a,u,h,p,v,w){const D=rl(u),M=s.firstCreatePass&&Xc(s),k=o[8],U=Sh(o);let Z=!0;if(3&u.type||w){const He=br(u,o),rt=w?w(He):He,ye=U.length,ct=w?Kt=>w(cn(Kt[u.index])):u.index;if(_n(a)){let Kt=null;if(!w&&D&&(Kt=function Lh(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===u){const w=o[7],D=h[p+2];return w.length>D?w[D]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=p,Kt.__ngLastListenerFn__=p,Z=!1;else{p=K_(u,o,k,p,!1);const nn=a.listen(rt,h,p);U.push(p,nn),M&&M.push(h,ct,ye,ye+1)}}else p=K_(u,o,k,p,!0),rt.addEventListener(h,p,v),U.push(p),M&&M.push(h,ct,ye,v)}else p=K_(u,o,k,p,!1);const _e=u.outputs;let ke;if(Z&&null!==_e&&(ke=_e[h])){const He=ke.length;if(He)for(let rt=0;rt<He;rt+=2){const bs=o[ke[rt]][ke[rt+1]].subscribe(p),ic=U.length;U.push(p,bs),M&&M.push(h,u.index,ic,-(ic+1))}}}(p,h,h[11],v,s,o,!!a,u),qp}function Kp(s,o,a,u){try{return!1!==a(u)}catch(h){return Nh(s,h),!1}}function K_(s,o,a,u,h){return function p(v){if(v===Function)return u;const w=2&s.flags?wr(s.index,o):o;0==(32&o[2])&&L0(w);let D=Kp(o,0,u,v),A=p.__ngNextListenerFn__;for(;A;)D=Kp(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Z_(s=1){return function Us(s){return(mt.lFrame.contextLView=function ru(s,o){for(;s>0;)o=o[15],s--;return o}(s,mt.lFrame.contextLView))[8]}(s)}function eC(s,o){let a=null;const u=function a1(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?c0(s,p,!0):u1(u,p))return h}else a=h}return a}function bb(s){const o=De()[16][6];if(!o.projection){const u=o.projection=Oi(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const v=s?eC(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:u[v]=p,h[v]=p),p=p.next}}}function Yu(s,o=0,a){const u=De(),h=kt(),p=Gu(h,20+s,16,null,a||null);null===p.projection&&(p.projection=o),Yl(),64!=(64&p.flags)&&function a0(s,o,a){Gm(o[11],0,o,a,Jc(s,a,o),n0(a.parent||o[6],a,o))}(h,u,p)}function Vh(s,o,a){return Bh(s,"",o,"",a),Vh}function Bh(s,o,a,u,h){const p=De(),v=kl(p,o,a,u);return v!==St&&Zi(kt(),An(),p,s,v,p[11],h,!1),Bh}function Yp(s,o,a,u,h){const p=s[a+1],v=null===o;let w=u?Ks(p):To(p),D=!1;for(;0!==w&&(!1===D||v);){const M=s[w+1];nC(s[w],o)&&(D=!0,s[w+1]=u?Tp(M):Ip(M)),w=u?Ks(M):To(M)}D&&(s[a+1]=u?Ip(p):Tp(p))}function nC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&$s(s,o)>=0}const Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ib(s){return s.substring(Tr.key,Tr.keyEnd)}function Tb(s,o){const a=Tr.textEnd;return a===o?-1:(o=Tr.keyEnd=function oC(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Tr.key=o,a),_d(s,o,a))}function _d(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Jp(s,o,a){return Po(s,o,a,!1),Jp}function Qp(s,o){return Po(s,o,null,!0),Qp}function jh(s){!function ko(s,o,a,u){const h=kt(),p=Ai(2);h.firstUpdatePass&&Rb(h,null,p,u);const v=De();if(a!==St&&Lr(v,p,a)){const w=h.data[Er()];if(Fb(w,u)&&!Mb(h,p)){let D=u?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(a=ue(D,a||"")),fd(h,w,v,a,u)}else!function fC(s,o,a,u,h,p,v,w){h===St&&(h=pt);let D=0,A=0,M=0<h.length?h[0]:null,k=0<p.length?p[0]:null;for(;null!==M||null!==k;){const U=D<h.length?h[D+1]:void 0,Z=A<p.length?p[A+1]:void 0;let ke,_e=null;M===k?(D+=2,A+=2,U!==Z&&(_e=k,ke=Z)):null===k||null!==M&&M<k?(D+=2,_e=M):(A+=2,_e=k,ke=Z),null!==_e&&Pb(s,o,a,u,_e,ke,v,w),M=D<h.length?h[D]:null,k=A<p.length?p[A]:null}}(h,w,v,v[11],v[p+1],v[p+1]=function lM(s,o,a){if(null==a||""===a)return pt;const u=[],h=gs(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,p)}}(Zr,ha,s,!0)}function ha(s,o){for(let a=function iC(s){return function Ab(s){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=s.length}(s),Tb(s,_d(s,0,Tr.textEnd))}(o);a>=0;a=Tb(o,a))Zr(s,Ib(o),!0)}function Po(s,o,a,u){const h=De(),p=kt(),v=Ai(2);p.firstUpdatePass&&Rb(p,s,v,u),o!==St&&Lr(h,v,o)&&Pb(p,p.data[Er()],h,h[11],s,h[v+1]=function pC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(gs(s)))),s}(o,a),u,v)}function Mb(s,o){return o>=s.expandoStartIndex}function Rb(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[Er()],v=Mb(s,a);Fb(p,u)&&null===o&&!v&&(o=!1),o=function cC(s,o,a,u){const h=function Ra(s){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Gh(a=X_(null,s,o,a,u),o.attrs,u),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=X_(h,s,o,a,u),null===p){let D=function xb(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==To(u))return s[Ks(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=X_(null,s,o,D[1],u),D=Gh(D,o.attrs,u),function dC(s,o,a,u){s[Ks(a?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else p=function hC(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=Gh(u,s[p].hostAttrs,a);return Gh(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function Uh(s,o,a,u,h,p){let v=p?o.classBindings:o.styleBindings,w=Ks(v),D=To(v);s[u]=a;let M,A=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||$s(k,M)>0)&&(A=!0)}else M=a;if(h)if(0!==D){const U=Ks(s[w+1]);s[u+1]=Cp(U,w),0!==U&&(s[U+1]=_0(s[U+1],u)),s[w+1]=function m0(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=Cp(w,0),0!==w&&(s[w+1]=_0(s[w+1],u)),w=u;else s[u+1]=Cp(D,0),0===w?w=u:s[D+1]=_0(s[D+1],u),D=u;A&&(s[u+1]=Ip(s[u+1])),Yp(s,M,u,!0),Yp(s,M,u,!1),function tC(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&$s(p,o)>=0&&(a[u+1]=Tp(a[u+1]))}(o,M,s,u,p),v=Cp(w,D),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,u)}}function X_(s,o,a,u,h){let p=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(p=o[w],u=Gh(u,p.hostAttrs,h),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function Gh(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Zr(s,v,!!a||o[++p]))}return void 0===s?null:s}function Pb(s,o,a,u,h,p,v,w){if(!(3&o.type))return;const D=s.data,A=D[w+1];Xp(function Ol(s){return 1==(1&s)}(A)?kb(D,o,a,h,To(A),v):void 0)||(Xp(p)||function g0(s){return 2==(2&s)}(A)&&(p=kb(D,null,a,h,w,v)),function r1(s,o,a,u,h){const p=_n(s);if(o)h?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:re.DashCase;if(null==h)p?s.removeStyle(a,u,v):a.style.removeProperty(u);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=re.Important),p?s.setStyle(a,u,h,v):a.style.setProperty(u,h,w?"important":"")}}}(u,v,lo(Er(),a),h,p))}function kb(s,o,a,u,h,p){const v=null===o;let w;for(;h>0;){const D=s[h],A=Array.isArray(D),M=A?D[1]:D,k=null===M;let U=a[h+1];U===St&&(U=k?pt:void 0);let Z=k?Pc(U,u):M===u?U:void 0;if(A&&!Xp(Z)&&(Z=Pc(D,u)),Xp(Z)&&(w=Z,v))return w;const _e=s[h+1];h=v?Ks(_e):To(_e)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=Pc(D,u))}return w}function Xp(s){return void 0!==s}function Fb(s,o){return 0!=(s.flags&(o?16:32))}function Lb(s,o=""){const a=De(),u=kt(),h=s+20,p=u.firstCreatePass?Gu(u,h,1,o,null):u.data[h],v=a[h]=Kc(a[11],o);yp(u,a,v,p),qr(p,!1)}function ey(s){return ty("",s,""),ey}function ty(s,o,a){const u=De(),h=kl(u,s,o,a);return h!==St&&function Ao(s,o,a){const u=lo(o,s);wh(s[11],u,a)}(u,Er(),h),ty}function ny(s,o,a){const u=De();return Lr(u,Bs(),o)&&Zi(kt(),An(),u,s,o,u[11],a,!0),ny}const Ju=void 0;var TC=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IC(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let yd={};function ry(s){const o=function SC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Xb(o);if(a)return a;const u=o.split("-")[0];if(a=Xb(u),a)return a;if("en"===u)return TC;throw new Error(`Missing locale data for the locale "${s}".`)}function Qb(s){return ry(s)[Et.PluralCase]}function Xb(s){return s in yd||(yd[s]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[s]),yd[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const AC=["zero","one","two","few","many"],eg="en-US",tg={marker:"element"},ng={marker:"ICU"};var Qn=(()=>((Qn=Qn||{})[Qn.SHIFT=2]="SHIFT",Qn[Qn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Qn[Qn.COMMENT=2]="COMMENT",Qn))();let tw=eg;function nw(s,o,a){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?r0(s,0,a):cn(a[h])}function rw(s,o,a,u,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=u,w=null;if(3&o.type||(w=v,v=h),null!==v&&0==(2&o.flags))for(let D=1;D<p.length;D++)Uu(s,v,a[p[D]],w,!1)}}function iw(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];sw(u)||OC(u,o)&&null===PC(u)&&kC(u,o.index)}}function sw(s){return!(64&s.type)}function OC(s,o){return sw(o)||s.index>o.index}function PC(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function kC(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(s0(nw,rw),s.insertBeforeIndex=o)}function Hh(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function IM(s,o,a){const u=Ga(s,a,64,null,null);return iw(o,u),u}function iy(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function ow(s){return s>>>17}function LC(s){return(131070&s)>>>1}let rg=0,ig=0;function jC(s,o,a,u){const h=a[11];let v,p=null;for(let w=0;w<o.length;w++){const D=o[w];if("string"==typeof D){const A=o[++w];null===a[A]&&(a[A]=Kc(h,D))}else if("number"==typeof D)switch(1&D){case 0:const A=ow(D);let M,k;if(null===p&&(p=A,v=_p(h,u)),A===p?(M=u,k=v):(M=null,k=cn(a[A])),null!==k){const ke=LC(D);Uu(h,k,a[ke],M,!1);const rt=Hh(s,ke);if(null!==rt&&"object"==typeof rt){const ye=iy(rt,a);null!==ye&&jC(s,rt.create[ye],a,a[rt.anchorIdx])}}break;case 1:const Z=o[++w],_e=o[++w];ni(h,lo(D>>>1,a),null,null,Z,_e,null)}else switch(D){case ng:const A=o[++w],M=o[++w];null===a[M]&&Dr(a[M]=Eh(h,A),a);break;case tg:const k=o[++w],U=o[++w];null===a[U]&&Dr(a[U]=Zc(h,k,null),a)}}}function GC(s,o,a,u,h){for(let p=0;p<a.length;p++){const v=a[p],w=a[++p];if(v&h){let D="";for(let A=p+1;A<=p+w;A++){const M=a[A];if("string"==typeof M)D+=M;else if("number"==typeof M)if(M<0)D+=fe(o[u-M]);else{const k=M>>>2;switch(3&M){case 1:const U=a[++A],Z=a[++A],_e=s.data[k];"string"==typeof _e?ni(o[11],o[k],null,_e,U,D,Z):Zi(s,_e,o,U,D,o[11],Z,!1);break;case 0:const ke=o[k];null!==ke&&wh(o[11],ke,D);break;case 2:HC(s,Hh(s,k),o,D);break;case 3:aw(s,Hh(s,k),u,o)}}}}else{const D=a[p+1];if(D>0&&3==(3&D)){const M=Hh(s,D>>>2);o[M.currentCaseLViewIndex]<0&&aw(s,M,u,o)}}p+=w}}function aw(s,o,a,u){let h=u[o.currentCaseLViewIndex];if(null!==h){let p=rg;h<0&&(h=u[o.currentCaseLViewIndex]=~h,p=-1),GC(s,u,o.update[h],a,p)}}function HC(s,o,a,u){const h=function AM(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function NC(s,o){const a=Qb(o)(parseInt(s,10)),u=AC[a];return void 0!==u?u:"other"}(o,function xC(){return tw}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(iy(o,a)!==h&&($C(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&jC(s,o.create[h],a,v)}}function $C(s,o,a){let u=iy(o,a);if(null!==u){const h=o.remove[u];for(let p=0;p<h.length;p++){const v=h[p];if(v>0){const w=lo(v,a);null!==w&&t1(a[11],w)}else $C(s,Hh(s,~v),a)}}}function WC(){const s=[];let a,u,o=-1;function p(w,D){o=0;const A=iy(w,D);u=null!==A?w.remove[A]:pt}function v(){if(o<u.length){const w=u[o++];return w>0?a[w]:(s.push(o,u),p(a[1].data[~w],a),v())}return 0===s.length?null:(u=s.pop(),o=s.pop(),v())}return function h(w,D){for(a=D;s.length;)s.pop();return p(w.value,D),v}}const sg=/\ufffd(\d+):?\d*\ufffd/gi,RM=/\ufffd(\d+)\ufffd/,$h=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,KC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,lw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ka=/\uE500/g;function uw(s,o,a,u,h,p,v){const w=ei(s,u,1,null);let D=w<<Qn.SHIFT,A=zo();o===A&&(A=null),null===A&&(D|=Qn.APPEND_EAGERLY),v&&(D|=Qn.COMMENT,function bt(s){void 0===Ve&&(Ve=s())}(WC)),h.push(D,null===p?"":p);const M=Ga(s,w,v?32:1,null===p?"":p,null);iw(a,M);const k=M.index;return qr(M,!1),null!==A&&o!==A&&function CM(s,o){let a=s.insertBeforeIndex;null===a?(s0(nw,rw),a=s.insertBeforeIndex=[null,o]):(function K(s,o,a){s!=o&&yt(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(A,k),M}function xM(s,o,a,u,h,p,v){const w=v.match(sg),D=uw(s,o,a,p,u,w?null:v,!1);w&&Wh(h,v,D.index,null,0,null)}function Wh(s,o,a,u,h,p){const v=s.length,w=v+1;s.push(null,null);const D=v+2,A=o.split(sg);let M=0;for(let k=0;k<A.length;k++){const U=A[k];if(1&k){const Z=h+parseInt(U,10);s.push(-1-Z),M|=Xu(Z)}else""!==U&&s.push(U)}return s.push(a<<2|(u?1:0)),u&&s.push(u,p),s[v]=M,s[w]=s.length-D,M}function Xu(s){return 1<<Math.min(s,31)}function JC(s){let o,p,a="",u=0,h=!1;for(;null!==(o=KC.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(u=o.index,h=!1):(a+=s.substring(u,o.index+o[0].length),p=o[1],h=!0);return a+=s.substr(u),a}function oy(s,o,a,u,h,p){let v=0;const w={type:h.type,currentCaseLViewIndex:ei(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function dw(s,o,a){s.push(Xu(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function FC(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,p,w);const D=h.values;for(let A=0;A<D.length;A++){const M=D[A],k=[];for(let U=0;U<M.length;U++){const Z=M[U];if("string"!=typeof Z){const _e=k.push(Z)-1;M[U]=`\x3c!--\ufffd${_e}\ufffd--\x3e`}}v=zh(s,w,o,a,u,h.cases[A],M.join(""),k)|v}v&&function ag(s,o,a){s.push(o,1,a<<2|3)}(a,v,p)}function XC(s){const o=[],a=[];let u=1,h=0;const p=ay(s=s.replace($h,function(v,w,D){return u="select"===D?0:1,h=parseInt(w.substr(1),10),""}));for(let v=0;v<p.length;){let w=p[v++].trim();1===u&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const D=ay(p[v++]);o.length>a.length&&a.push(D)}return{type:u,mainBinding:h,cases:o,values:a}}function ay(s){if(!s)return[];let o=0;const a=[],u=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const D=s.substring(o,w);$h.test(D)?u.push(XC(D)):u.push(D),o=w+1}}else{if(0==a.length){const D=s.substring(o,w);u.push(D),o=w+1}a.push("{")}}const v=s.substring(o);return u.push(v),u}function zh(s,o,a,u,h,p,v,w){const D=[],A=[],M=[];o.cases.push(p),o.create.push(D),o.remove.push(A),o.update.push(M);const U=function dp(s){const o=new Cm(s);return function Im(){try{return!!(new window.DOMParser).parseFromString(Tl(""),"text/html")}catch(s){return!1}}()?new Ba(o):o}(Sa()).getInertBodyElement(v),Z=function Gc(s){return"content"in s&&function Nm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(U)||U;return Z?pi(s,o,a,u,D,A,M,Z,h,w,0):0}function pi(s,o,a,u,h,p,v,w,D,A,M){let k=0,U=w.firstChild;for(;U;){const Z=ei(s,a,1,null);switch(U.nodeType){case Node.ELEMENT_NODE:const _e=U,ke=_e.tagName.toLowerCase();if(ah.hasOwnProperty(ke)){ly(h,tg,ke,D,Z),s.data[Z]=ke;const ct=_e.attributes;for(let Kt=0;Kt<ct.length;Kt++){const nn=ct.item(Kt),bs=nn.name.toLowerCase();nn.value.match(sg)?jc.hasOwnProperty(bs)&&Wh(v,nn.value,Z,nn.name,0,Al[bs]?Ws:lh[bs]?sh:null):tI(h,Z,nn)}k=pi(s,o,a,u,h,p,v,U,Z,A,M+1)|k,cw(p,Z,M)}break;case Node.TEXT_NODE:const He=U.textContent||"",rt=He.match(sg);ly(h,null,rt?"":He,D,Z),cw(p,Z,M),rt&&(k=Wh(v,He,Z,null,0,null)|k);break;case Node.COMMENT_NODE:const ye=RM.exec(U.textContent||"");if(ye){const Kt=A[parseInt(ye[1],10)];ly(h,ng,"",D,Z),oy(s,a,u,D,Kt,Z),eI(p,Z,M)}}U=U.nextSibling}return k}function cw(s,o,a){0===a&&s.push(o)}function eI(s,o,a){0===a&&(s.push(~o),s.push(o))}function ly(s,o,a,u,h){null!==o&&s.push(o),s.push(a,h,function TM(s,o,a){return s|o<<17|a<<1}(0,u,h))}function tI(s,o,a){s.push(o<<1|1,a.name,a.value)}function rI(s,o,a=-1){const u=kt(),h=De(),p=20+s,v=zr(u.consts,o),w=zo();u.firstCreatePass&&function Qu(s,o,a,u,h,p){const v=zo(),w=[],D=[],A=[[]];h=function QC(s,o){if(function YC(s){return-1===s}(o))return JC(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return JC(s.substring(a,u))}}(h,p);const M=function sy(s){return s.replace(Ka," ")}(h).split(lw);for(let k=0;k<M.length;k++){let U=M[k];if(0==(1&k)){const Z=ay(U);for(let _e=0;_e<Z.length;_e++){let ke=Z[_e];if(0==(1&_e)){const He=ke;""!==He&&xM(s,v,A[0],w,D,a,He)}else{const He=ke;if("object"!=typeof He)throw new Error(`Unable to parse ICU expression in "${h}" message.`);oy(s,a,D,o,He,uw(s,v,A[0],a,w,"",!0).index)}}}else{const Z=47===U.charCodeAt(0),ke=(U.charCodeAt(Z?1:0),20+Number.parseInt(U.substring(Z?2:1)));if(Z)A.shift(),qr(zo(),!1);else{const He=IM(s,A[0],ke);A.unshift([]),qr(He,!0)}}}s.data[u]={create:w,update:D}}(u,null===w?0:w.index,h,p,v,a);const D=u.data[p],M=Xv(u,w===h[6]?null:w,h);(function UC(s,o,a,u){const h=s[11];for(let p=0;p<o.length;p++){const v=o[p++],w=o[p],D=(v&Qn.COMMENT)===Qn.COMMENT,A=(v&Qn.APPEND_EAGERLY)===Qn.APPEND_EAGERLY,M=v>>>Qn.SHIFT;let k=s[M];null===k&&(k=s[M]=D?h.createComment(w):Kc(h,w)),A&&null!==a&&Uu(h,a,k,u,!1)}})(h,D.create,M,w&&8&w.type?h[w.index]:null),_l(!0)}function sI(s,o,a){rI(s,o,a),function iI(){_l(!1)}()}function qh(s){return function SM(s){s&&(rg|=1<<Math.min(ig,31)),ig++}(Lr(De(),Bs(),s)),qh}function yw(s){!function BC(s,o,a){if(ig>0){const u=s.data[a];GC(s,o,Array.isArray(u)?u:u.update,function di(){return mt.lFrame.bindingIndex}()-ig-1,rg)}rg=0,ig=0}(kt(),De(),s+20)}function bw(s,o,a,u,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)bw(s[p],o,a,u,h);else{const p=kt(),v=De();let w=td(s)?s:Q(s.provide),D=Vp(s);const A=wn(),M=1048575&A.providerIndexes,k=A.directiveStart,U=A.providerIndexes>>20;if(td(s)||!s.multi){const Z=new qo(D,h,Zu),_e=fa(w,o,h?M:M+U,k);-1===_e?(Or(Zo(A,v),p,w),ww(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(Z),v.push(Z)):(a[_e]=Z,v[_e]=Z)}else{const Z=fa(w,o,M+U,k),_e=fa(w,o,M,M+U),ke=Z>=0&&a[Z],He=_e>=0&&a[_e];if(h&&!He||!h&&!ke){Or(Zo(A,v),p,w);const rt=function aI(s,o,a,u,h){const p=new qo(s,a,Zu);return p.multi=[],p.index=o,p.componentProviders=0,cy(p,h,u&&!a),p}(h?Kh:Ew,a.length,h,u,D);!h&&He&&(a[_e].providerFactory=rt),ww(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(rt),v.push(rt)}else ww(p,s,Z>-1?Z:_e,cy(a[h?_e:Z],D,!h&&u));!h&&u&&He&&a[_e].componentProviders++}}}function ww(s,o,a,u){const h=td(o),p=function C_(s){return!!s.useClass}(o);if(h||p){const D=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=A.indexOf(a);-1===M?A.push(a,[u,D]):A[M+1].push(u,D)}else A.push(a,D)}}}function cy(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function fa(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Ew(s,o,a,u){return vd(this.multi,[])}function Kh(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=sn(a,a[1],this.providerFactory.index,u);p=w.slice(0,v),vd(h,p);for(let D=v;D<w.length;D++)p.push(w[D])}else p=[],vd(h,p);return p}function vd(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Dw(s,o=[]){return a=>{a.providersResolver=(u,h)=>function vw(s,o,a){const u=kt();if(u.firstCreatePass){const h=$r(s);bw(a,u.data,u.blueprint,h,!0),bw(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Cw{}class kM{resolveComponentFactory(o){throw function dy(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Zh=(()=>{class s{}return s.NULL=new kM,s})();function FM(){return Yh(wn(),De())}function Yh(s,o){return new wd(br(s,o))}let wd=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=FM,s})();function pa(s){return s instanceof wd?s.nativeElement:s}class uI{}let cI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function VM(){const s=De(),a=wr(wn().index,s);return function LM(s){return s[11]}(Ti(a)?a:s)}(),s})(),BM=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class dI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const hI=new dI("13.2.7"),Iw={};function fy(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(cn(p)),ui(p))for(let w=10;w<p.length;w++){const D=p[w],A=D[1].firstChild;null!==A&&fy(D[1],D,A,u)}const v=a.type;if(8&v)fy(s,o,a.child,u);else if(32&v){const w=nt(a,o);let D;for(;D=w();)u.push(D)}else if(16&v){const w=o0(o,a);if(Array.isArray(w))u.push(...w);else{const D=Mn(o[16]);fy(D[1],D,w,u,!0)}}a=h?a.projectionNext:a.next}return u}class ug{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return fy(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ui(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Yc(o,u),yn(a,u))}this._attachedToViewContainer=!1}Qv(this._lView[1],this._lView)}onDestroy(o){i_(this._lView[1],this._lView,null,o)}markForCheck(){L0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){B0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function N1(s,o,a){Vs(!0);try{B0(s,o,a)}finally{Vs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bm(s,o){Qc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class fI extends ug{constructor(o){super(o),this._view=o}detectChanges(){A1(this._view)}checkNoChanges(){!function U0(s){Vs(!0);try{A1(s)}finally{Vs(!1)}}(this._view)}get context(){return null}}class Tw extends Zh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Wt(o);return new Sw(a,this.ngModule)}}function pI(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Sw extends Cw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function c1(s){return s.map(_s).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return pI(this.componentDef.inputs)}get outputs(){return pI(this.componentDef.outputs)}create(o,a,u,h){const p=(h=h||this.ngModule)?function jM(s,o){return{get:(a,u,h)=>{const p=s.get(a,Iw,h);return p!==Iw||u===Iw?p:o.get(a,u,h)}}}(o,h.injector):o,v=p.get(uI,$o),w=p.get(BM,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=u?function r_(s,o,a){if(_n(s))return s.selectRootElement(o,a===$t.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(D,u,this.componentDef.encapsulation):Zc(v.createRenderer(null,this.componentDef),A,function UM(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),k=this.componentDef.onPush?576:528,U=function eb(s,o){return{components:[],scheduler:s||bh,clean:M1,playerHandler:o||null,flags:0}}(),Z=Ir(0,null,null,1,0,null,null,null,null,null),_e=Ch(null,Z,U,k,null,null,v,D,w,p);let ke,He;uo(_e);try{const rt=function X0(s,o,a,u,h,p){const v=a[1];a[20]=s;const D=Gu(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&($u(D,A,!0),null!==s&&(Hi(h,s,A),null!==D.classes&&Hm(h,s,D.classes),null!==D.styles&&l0(h,s,D.styles)));const M=u.createRenderer(s,o),k=Ch(a,n_(o),null,o.onPush?64:16,a[20],D,u,M,p||null,null);return v.firstCreatePass&&(Or(Zo(D,a),v,o.type),d_(v,D),f_(D,a.length,1)),y_(a,k),a[20]=k}(M,this.componentDef,_e,v,D);if(M)if(u)Hi(D,M,["ng-version",hI.full]);else{const{attrs:ye,classes:ct}=function f0(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!qs(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);ye&&Hi(D,M,ye),ct&&ct.length>0&&Hm(D,M,ct.join(" "))}if(He=Aa(Z,20),void 0!==a){const ye=He.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Kt=a[ct];ye.push(null!=Kt?Array.from(Kt):null)}}ke=function x_(s,o,a,u,h){const p=a[1],v=function I1(s,o,a){const u=wn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),p_(s,u,o,ei(s,o,1,null),a));const h=sn(o,s,u.directiveStart,u);Dr(h,o);const p=br(u,o);return p&&Dr(p,o),h}(p,a,o);if(u.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=wn();o.contentQueries(1,v,D.directiveStart)}const w=wn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(js(w.index),a_(a[1],w,0,w.directiveStart,w.directiveEnd,o),c_(o,v)),v}(rt,this.componentDef,_e,U,[JN]),Ih(Z,_e,null)}finally{ho()}return new GM(this.componentType,ke,Yh(He,_e),_e,He)}}class GM extends class lI{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new fI(h),this.componentType=o}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Jh{}class _I{}const Qh=new Map;class pr extends Jh{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tw(this);const u=gn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=G0(o,a,[{provide:Jh,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Yi.THROW_IF_NOT_FOUND,u=ht.Default){return o===Yi||o===Jh||o===b_?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Aw extends _I{constructor(o){super(),this.moduleType=o,null!==gn(o)&&function vI(s){const o=new Set;!function a(u){const h=gn(u,!0),p=h.id;null!==p&&(function yI(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(p,Qh.get(p),u),Qh.set(p,u));const v=g(h.imports);for(const w of v)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new pr(this.moduleType,o)}}function wI(s,o,a,u){return xw(De(),cr(),s,o,a,u)}function EI(s,o,a,u,h){return function Ow(s,o,a,u,h,p,v){const w=o+a;return Wu(s,w,h,p)?No(s,w+2,v?u.call(v,h,p):u(h,p)):ef(s,w+2)}(De(),cr(),s,o,a,u,h)}function Xh(s,o,a,u,h,p){return function Pw(s,o,a,u,h,p,v,w){const D=o+a;return function Hp(s,o,a,u,h){const p=Wu(s,o,a,u);return Lr(s,o+2,h)||p}(s,D,h,p,v)?No(s,D+3,w?u.call(w,h,p,v):u(h,p,v)):ef(s,D+3)}(De(),cr(),s,o,a,u,h,p)}function ef(s,o){const a=s[o];return a===St?void 0:a}function xw(s,o,a,u,h,p){const v=o+a;return Lr(s,v,h)?No(s,v+1,p?u.call(p,h):u(h)):ef(s,v+1)}function Lw(s,o){const a=kt();let u;const h=s+20;a.firstCreatePass?(u=function TI(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=Wr(u.type)),v=Kn(Zu);try{const w=ot(!1),D=p();return ot(w),function hb(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,De(),h,D),D}finally{Kn(v)}}function Vw(s,o,a){const u=s+20,h=De(),p=Si(h,u);return function Ed(s,o){return s[1].data[o].pure}(h,u)?xw(h,cr(),o,p.transform,a,p):p.transform(a)}function py(s){return o=>{setTimeout(s,void 0,o)}}const Za=class Bw extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,p,v;let w=o,D=a||(()=>null),A=u;if(o&&"object"==typeof o){const k=o;w=null===(h=k.next)||void 0===h?void 0:h.bind(k),D=null===(p=k.error)||void 0===p?void 0:p.bind(k),A=null===(v=k.complete)||void 0===v?void 0:v.bind(k)}this.__isAsync&&(D=py(D),w&&(w=py(w)),A&&(A=py(A)));const M=super.subscribe({next:w,error:D,complete:A});return o instanceof Y.w0&&o.add(M),M}};function $M(){return this._results[id()]()}class Uw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=id(),u=Uw.prototype;u[a]||(u[a]=$M)}get changes(){return this._changes||(this._changes=new Za)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Pr(o);(this._changesDetected=!function fu(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let tf=(()=>{class s{}return s.__NG_ELEMENT_ID__=qM,s})();const WM=tf,zM=class extends WM{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Ch(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Ih(a,u,o),new ug(u)}};function qM(){return gy(wn(),De())}function gy(s,o){return 4&s.type?new zM(o,s,Yh(s,o)):null}let my=(()=>{class s{}return s.__NG_ELEMENT_ID__=KM,s})();function KM(){return OI(wn(),De())}const ZM=my,RI=class extends ZM{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Yh(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){const o=Kr(this._hostTNode,this._hostLView);if(Ni(o)){const a=rn(o,this._hostLView),u=Jt(o);return new Ri(a[1].data[u+8],a)}return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=xI(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,p){const v=o&&!function Fa(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const k=a||{};w=k.index,u=k.injector,h=k.projectableNodes,p=k.ngModuleRef}const D=v?o:new Sw(Wt(o)),A=u||this.parentInjector;if(!p&&null==D.ngModule){const U=(v?A:this.parentInjector).get(Jh,null);U&&(p=U)}const M=D.create(A,h,void 0,p);return this.insert(M.hostView,w),M}insert(o,a){const u=o._lView,h=u[1];if(function cl(s){return ui(s[3])}(u)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=u[3],U=new RI(k,k[6],k[3]);U.detach(U.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function mp(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],Cn(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function YD(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,u,v,p);const w=bp(p,v),D=u[11],A=_p(D,v[7]);return null!==A&&function Vu(s,o,a,u,h,p){u[0]=h,u[6]=o,Qc(s,u,a,1,h,p)}(h,v[6],D,u,A,w),o.attachToViewContainerRef(),Cn(jw(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=xI(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Yc(this._lContainer,a);u&&(yn(jw(this._lContainer),a),Qv(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Yc(this._lContainer,a);return u&&null!=yn(jw(this._lContainer),a)?new ug(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function xI(s){return s[8]}function jw(s){return s[8]||(s[8]=[])}function OI(s,o){let a;const u=o[s.index];if(ui(u))a=u;else{let h;if(8&s.type)h=cn(u);else{const p=o[11];h=p.createComment("");const v=br(s,o);Uu(p,_p(p,v),h,function e1(s,o){return _n(s)?s.nextSibling(o):o.nextSibling}(p,v),!1)}o[s.index]=a=F0(u,o,h,s),y_(o,a)}return new RI(a,s,o)}class _y{constructor(o){this.queryList=o,this.matches=null}clone(){return new _y(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Gw(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==rf(o,a).matches&&this.queries[a].setDirty()}}class PI{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Hw{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new Hw(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class $w{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new $w(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,QM(a,p)),this.matchTNodeWithReadOption(o,a,mo(a,o,p,!1,!1))}else u===tf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,mo(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===wd||h===my||h===tf&&4&a.type)this.addMatch(a.index,-2);else{const p=mo(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function QM(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Ww(s,o,a,u){return-1===a?function XM(s,o){return 11&s.type?Yh(s,o):4&s.type?gy(s,o):null}(o,s):-2===a?function eR(s,o,a){return a===wd?Yh(o,s):a===tf?gy(o,s):a===my?OI(o,s):void 0}(s,o,u):sn(s,s[1],a,o)}function Qs(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,v=a.matches,w=[];for(let D=0;D<v.length;D+=2){const A=v[D];w.push(A<0?null:Ww(o,p[A],v[D+1],a.metadata.read))}h.matches=w}return h.matches}function Tn(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const v=Qs(s,o,h,a);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)u.push(v[w/2]);else{const A=p[w+1],M=o[-D];for(let k=10;k<M.length;k++){const U=M[k];U[17]===U[3]&&Tn(U[1],U,A,u)}if(null!==M[9]){const k=M[9];for(let U=0;U<k.length;U++){const Z=k[U];Tn(Z[1],Z,A,u)}}}}}return u}function cg(s){const o=De(),a=kt(),u=eu();tu(u+1);const h=rf(a,u);if(s.dirty&&ks(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Tn(a,o,u,[]):Qs(a,o,h,u);s.reset(p,pa),s.notifyOnChanges()}return!0}return!1}function yy(s,o,a){const u=kt();u.firstCreatePass&&(FI(u,new PI(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),hg(u,De(),o)}function dg(s,o,a,u){const h=kt();if(h.firstCreatePass){const p=wn();FI(h,new PI(o,a,u),p.index),function nf(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}hg(h,De(),a)}function zw(){return function kI(s,o){return s[19].queries[o].queryList}(De(),eu())}function hg(s,o,a){const u=new Uw(4==(4&a));i_(s,o,u,u.destroy),null===o[19]&&(o[19]=new Gw),o[19].queries.push(new _y(u))}function FI(s,o,a){null===s.queries&&(s.queries=new Hw),s.queries.track(new $w(o,a))}function rf(s,o){return s.queries.getByIndex(o)}function vy(s,o){return gy(s,o)}function Id(...s){}const oE=new jn("Application Initializer");let Iy=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Id,this.reject=Id,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(zp(p))a.push(p);else if(yb(p)){const v=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Ye(oE,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gg=new jn("AppId",{providedIn:"root",factory:function JI(){return`${mg()}${mg()}${mg()}`}});function mg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aE=new jn("Platform Initializer"),Ty=new jn("Platform ID"),Sy=new jn("appBootstrapListener");let Ay=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const _g=new jn("LocaleId",{providedIn:"root",factory:()=>Gt(_g,ht.Optional|ht.SkipSelf)||function lE(){return"undefined"!=typeof $localize&&$localize.locale||eg}()}),uE=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eT{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let tT=(()=>{class s{compileModuleSync(a){return new Aw(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(gn(a).declarations).reduce((v,w)=>{const D=Wt(w);return D&&v.push(new Sw(D)),v},[]);return new eT(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cE=(()=>Promise.resolve(0))();function Ny(s){"undefined"==typeof Zone?cE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ga{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function cR(){let s=jt.requestAnimationFrame,o=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function fR(s){const o=()=>{!function hR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(jt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,yg(s),s.isCheckStableRunning=!0,dE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),yg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,v,w)=>{try{return rT(s),a.invokeTask(h,p,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),iT(s)}},onInvoke:(a,u,h,p,v,w,D)=>{try{return rT(s),a.invoke(h,p,v,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),iT(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,yg(s),dE(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ga.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ga.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,dR,Id,Id);try{return p.runTask(v,a,u)}finally{p.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const dR={};function dE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function yg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function iT(s){s._nesting--,dE(s)}class hE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let sT=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ga.assertNotInAngularZone(),Ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ny(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Ye(ga))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),oT=(()=>{class s{constructor(){this._applications=new Map,pE.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return pE.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();class fE{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function pR(s){pE=s}let ma,pE=new fE;const aT=new jn("AllowMultipleToken");class lT{constructor(o,a){this.name=o,this.token=a}}function uT(s,o,a=[]){const u=`Platform: ${o}`,h=new jn(u);return(p=[])=>{let v=cT();if(!v||v.injector.get(aT,!1))if(s)s(a.concat(p).concat({provide:h,useValue:!0}));else{const w=a.concat(p).concat({provide:h,useValue:!0},{provide:E_,useValue:"platform"});!function yR(s){if(ma&&!ma.destroyed&&!ma.injector.get(aT,!1))throw new Oe(400,"");ma=s.get(dT);const o=s.get(aE,null);o&&o.forEach(a=>a())}(Yi.create({providers:w,name:u}))}return function gE(s){const o=cT();if(!o)throw new Oe(401,"");return o}()}}function cT(){return ma&&!ma.destroyed?ma:null}let dT=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function vR(s,o){let a;return a="noop"===s?new hE:("zone.js"===s?void 0:s)||new ga({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:ga,useValue:w}];return w.run(()=>{const A=Yi.create({providers:D,parent:this.injector,name:a.moduleType.name}),M=a.create(A),k=M.injector.get(In,null);if(!k)throw new Oe(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Z=>{k.handleError(Z)}});M.onDestroy(()=>{_E(this._modules,M),U.unsubscribe()})}),function bR(s,o,a){try{const u=a();return zp(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(k,w,()=>{const U=M.injector.get(Iy);return U.runInitializers(),U.donePromise.then(()=>(function RC(s){(function ut(s,o){null==s&&yt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(tw=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(_g,eg)||eg),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,u=[]){const h=My({},u);return function gR(s,o,a){const u=new Aw(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(mE);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Ye(Yi))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();function My(s,o){return Array.isArray(o)?o.reduce(My,s):Object.assign(Object.assign({},s),o)}let mE=(()=>{class s{constructor(a,u,h,p,v){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new P.y(A=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ga.assertNotInAngularZone(),Ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(w,D.pipe((0,X.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Oe(405,"");let h;h=a instanceof Cw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function _R(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Jh),w=h.create(Yi.NULL,[],u||h.selector,p),D=w.location.nativeElement,A=w.injector.get(sT,null),M=A&&w.injector.get(oT);return A&&M&&M.registerApplication(D,A),w.onDestroy(()=>{this.detachView(w.hostView),_E(this.components,w),M&&M.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;_E(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Sy,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Ye(ga),Ye(Yi),Ye(In),Ye(Zh),Ye(Iy))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _E(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Ry=!0,fT=!1;function ER(){return fT=!0,Ry}function DR(){if(fT)throw new Error("Cannot enable prod mode after platform setup.");Ry=!1}let IR=(()=>{class s{}return s.__NG_ELEMENT_ID__=TR,s})();function TR(s){return function SR(s,o,a){if(Ms(s)&&!a){const u=wr(s.index,o);return new ug(u,u)}return 47&s.type?new ug(o[16],o):null}(wn(),De(),16==(16&s))}class At{constructor(){}supports(o){return sd(o)}create(o){return new Py(o)}}const wg=(s,o)=>o;class Py{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||wg}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const v=!u||a&&a.currentIndex<vE(u,h,p)?a:u,w=vE(v,h,p),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const A=w-h,M=D-h;if(A!=M){for(let U=0;U<A;U++){const Z=U<p.length?p[U]:p[U]=0,_e=Z+U;M<=_e&&_e<A&&(p[U]=Z+1)}p[v.previousIndex]=M-A}}w!==D&&o(v,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!sd(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],v=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,p,v,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,w),u=!0),a=a._next}else h=0,function ib(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[id()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{v=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,w,v,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new df(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Eg),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Eg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class df{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Eg{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new yT,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vE(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class bE{constructor(){}supports(o){return o instanceof Map||k_(o)}create(){return new vT}}class vT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||k_(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const u=new ii(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class ii{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hf(){return new Sr([new At])}let Sr=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||hf()),deps:[[s,new Pi,new Hn]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Oe(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:hf}),s})();function wE(){return new ky([new bE])}let ky=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||wE()),deps:[[s,new Pi,new Hn]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Oe(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:wE}),s})();const Dg=uT(null,"core",[{provide:Ty,useValue:"unknown"},{provide:dT,deps:[Yi]},{provide:oT,deps:[]},{provide:Ay,deps:[]}]);let IE=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Ye(mE))},s.\u0275mod=J({type:s}),s.\u0275inj=en({}),s})()},3942:(lt,Ce,O)=>{O.d(Ce,{Z:()=>Oe});var c=O(2090),Y=O(4859),P=O(9681),ae=O(1877);class X{constructor(fe,Ee){this._delegate=fe,this.firebase=Ee,(0,P._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,Ee=P._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(fe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(tt=Ze.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Ee})}_removeServiceInstance(fe,Ee=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Ee)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ue(){const Le=function he(Le){const fe={},Ee={__esModule:!0,initializeApp:function Ie(Ge,te={}){const K=P.initializeApp(Ge,te);if((0,c.r3)(fe,K.name))return fe[K.name];const se=new Le(K,Ee);return fe[K.name]=se,se},app:Ze,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function we(Ge){const te=Ge.name,K=te.replace("-compat","");if(P._registerComponent(Ge)&&"PUBLIC"===Ge.type){const se=(me=Ze())=>{if("function"!=typeof me[K])throw ie.create("invalid-app-argument",{appName:te});return me[K]()};void 0!==Ge.serviceProps&&(0,c.ZB)(se,Ge.serviceProps),Ee[K]=se,Le.prototype[K]=function(...me){return this._getService.bind(this,te).apply(this,Ge.multipleInstances?me:[])}}return"PUBLIC"===Ge.type?Ee[K]:null},removeApp:function tt(Ge){delete fe[Ge]},useAsService:function $e(Ge,te){return"serverAuth"===te?null:te},modularAPIs:P}};function Ze(Ge){if(!(0,c.r3)(fe,Ge=Ge||P._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ge});return fe[Ge]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function be(){return Object.keys(fe).map(Ge=>fe[Ge])}}),Ze.App=Le,Ee}(X);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function fe(Ee){(0,c.ZB)(Le,Ee)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Le}(),H=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=G;!function Se(Le){(0,P.registerVersion)("@firebase/app-compat","0.1.21",Le)}()},9681:(lt,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Ii,_apps:()=>yt,_clearComponents:()=>Ht,_components:()=>fn,_getProvider:()=>ts,_registerComponent:()=>an,_removeServiceInstance:()=>en,deleteApp:()=>rs,getApp:()=>Rr,getApps:()=>ns,initializeApp:()=>Ui,onLog:()=>tr,registerVersion:()=>Hr,setLogLevel:()=>Kn});var c=O(5861),Y=O(4859),P=O(1877),ae=O(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ge(Je){const Te=Je.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const gt=et.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(et=>et).join(" ")}}const ie="@firebase/app",ue=new P.Yd("@firebase/app"),Rn="[DEFAULT]",ut={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,fn=new Map;function pn(Je,Te){try{Je.container.addComponent(Te)}catch(et){ue.debug(`Component ${Te.name} failed to register with FirebaseApp ${Je.name}`,et)}}function Ii(Je,Te){Je.container.addOrOverwriteComponent(Te)}function an(Je){const Te=Je.name;if(fn.has(Te))return ue.debug(`There were multiple attempts to register component ${Te}.`),!1;fn.set(Te,Je);for(const et of yt.values())pn(et,Je);return!0}function ts(Je,Te){const et=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Je.container.getProvider(Te)}function en(Je,Te,et=Rn){ts(Je,Te).clearInstance(et)}function Ht(){fn.clear()}const oi=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Is{constructor(Te,et,gt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const Mr="9.6.10";function Ui(Je,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},Te),gt=et.name;if("string"!=typeof gt||!gt)throw oi.create("bad-app-name",{appName:String(gt)});const Bt=yt.get(gt);if(Bt){if((0,ae.vZ)(Je,Bt.options)&&(0,ae.vZ)(et,Bt.config))return Bt;throw oi.create("duplicate-app",{appName:gt})}const Pt=new Y.H0(gt);for(const B of fn.values())Pt.addComponent(B);const j=new Is(Je,et,Pt);return yt.set(gt,j),j}function Rr(Je=Rn){const Te=yt.get(Je);if(!Te)throw oi.create("no-app",{appName:Je});return Te}function ns(){return Array.from(yt.values())}function rs(Je){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(Je){const Te=Je.name;yt.has(Te)&&(yt.delete(Te),yield Promise.all(Je.container.getProviders().map(et=>et.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function Hr(Je,Te,et){var gt;let Bt=null!==(gt=ut[Je])&&void 0!==gt?gt:Je;et&&(Bt+=`-${et}`);const Pt=Bt.match(/\s|\//),j=Te.match(/\s|\//);if(Pt||j){const B=[`Unable to register library "${Bt}" with version "${Te}":`];return Pt&&B.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),Pt&&j&&B.push("and"),j&&B.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ue.warn(B.join(" "))}an(new Y.wA(`${Bt}-version`,()=>({library:Bt,version:Te}),"VERSION"))}function tr(Je,Te){if(null!==Je&&"function"!=typeof Je)throw oi.create("invalid-log-argument");(0,P.Am)(Je,Te)}function Kn(Je){(0,P.Ub)(Je)}const vn="firebase-heartbeat-store";let nr=null;function Ts(){return nr||(nr=(0,ae.X3)("firebase-heartbeat-database",1,(Je,Te)=>{0===Te&&Je.createObjectStore(vn)}).catch(Je=>{throw oi.create("storage-open",{originalErrorMessage:Je.message})})),nr}function $t(){return($t=(0,c.Z)(function*(Je){try{return(yield Ts()).transaction(vn).objectStore(vn).get(or(Je))}catch(Te){throw oi.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function st(Je,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(Je,Te){try{const gt=(yield Ts()).transaction(vn,"readwrite");return yield gt.objectStore(vn).put(Te,or(Je)),gt.complete}catch(et){throw oi.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function or(Je){return`${Je.name}!${Je.options.appId}`}class to{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new pt(et),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var Te=this;return(0,c.Z)(function*(){const gt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=mr();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Te._heartbeatsCache.heartbeats.some(Pt=>Pt.date===Bt))return Te._heartbeatsCache.heartbeats.push({date:Bt,agent:gt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Pt=>{const j=new Date(Pt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,c.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=mr(),{heartbeatsToSend:gt,unsentEntries:Bt}=function ar(Je,Te=1024){const et=[];let gt=Je.slice();for(const Bt of Je){const Pt=et.find(j=>j.agent===Bt.agent);if(Pt){if(Pt.dates.push(Bt.date),_r(et)>Te){Pt.dates.pop();break}}else if(et.push({agent:Bt.agent,dates:[Bt.date]}),_r(et)>Te){et.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:et,unsentEntries:gt}}(Te._heartbeatsCache.heartbeats),Pt=(0,ae.L)(JSON.stringify({version:2,heartbeats:gt}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,Bt.length>0?(Te._heartbeatsCache.heartbeats=Bt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Pt})()}}function mr(){return(new Date).toISOString().substring(0,10)}class pt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,c.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function wa(Je){return $t.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,c.Z)(function*(){var gt;if(yield et._canUseIndexedDBPromise){const Pt=yield et.read();return st(et.app,{lastSentHeartbeatDate:null!==(gt=Te.lastSentHeartbeatDate)&&void 0!==gt?gt:Pt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,c.Z)(function*(){var gt;if(yield et._canUseIndexedDBPromise){const Pt=yield et.read();return st(et.app,{lastSentHeartbeatDate:null!==(gt=Te.lastSentHeartbeatDate)&&void 0!==gt?gt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...Te.heartbeats]})}})()}}function _r(Je){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Lt(Je){an(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),an(new Y.wA("heartbeat",Te=>new to(Te),"PRIVATE")),Hr(ie,"0.7.20",Je),Hr(ie,"0.7.20","esm2017"),Hr("fire-js","")}("")},4859:(lt,Ce,O)=>{O.d(Ce,{wA:()=>P,H0:()=>he});var c=O(5861),Y=O(2090);class P{constructor(G,H,Q){this.name=G,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class X{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const Q=new Y.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&Q.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const Q=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),ze=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(ze)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ie(ue){return"EAGER"===ue.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:ze});Q.resolve(Se)}catch(Se){}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,Q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[Se,Oe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Se)&&Oe.resolve(ze);return ze}onInit(G,H){var Q;const ze=this.normalizeInstanceIdentifier(H),Se=null!==(Q=this.onInitCallbacks.get(ze))&&void 0!==Q?Q:new Set;Se.add(G),this.onInitCallbacks.set(ze,Se);const Oe=this.instances.get(ze);return Oe&&G(Oe,ze),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const ze of Q)try{ze(G,H)}catch(Se){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let Q=this.instances.get(G);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=G,ue===ae?void 0:ue),options:H}),this.instances.set(G,Q),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(Q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Q)}catch(ze){}var ue;return Q||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new X(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Ce,O)=>{O.d(Ce,{in:()=>Y,Yd:()=>ie,Ub:()=>he,Am:()=>ue});const c=[];var Y=(()=>{return(G=Y||(Y={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",Y;var G})();const P={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ae=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=(G,H,...Q)=>{if(H<G.logLevel)return;const ze=(new Date).toISOString(),Se=X[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${ze}]  ${G.name}:`,...Q)};class ie{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function he(G){c.forEach(H=>{H.setLogLevel(G)})}function ue(G,H){for(const Q of c){let ze=null;H&&H.level&&(ze=P[H.level]),Q.userLogHandler=null===G?null:(Se,Oe,...Le)=>{const fe=Le.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(tt){return null}}).filter(Ee=>Ee).join(" ");Oe>=(null!=ze?ze:Se.logLevel)&&G({level:Y[Oe].toLowerCase(),message:fe,args:Le,type:Se.name})}}}},5861:(lt,Ce,O)=>{function c(P,ae,X,ge,ie,he,ue){try{var G=P[he](ue),H=G.value}catch(Q){return void X(Q)}G.done?ae(H):Promise.resolve(H).then(ge,ie)}function Y(P){return function(){var ae=this,X=arguments;return new Promise(function(ge,ie){var he=P.apply(ae,X);function ue(H){c(he,ge,ie,ue,G,"next",H)}function G(H){c(he,ge,ie,ue,G,"throw",H)}ue(void 0)})}}O.d(Ce,{Z:()=>Y})}},lt=>{lt(lt.s=3786)}]);